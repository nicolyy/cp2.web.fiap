/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={69145:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionActivationManager=void 0;const o=r(86700),s=r(17585),a=r(77570),c=r(84974),u=r(19735),l=r(98634),h=r(90819);let p=class{constructor(e,t,r,n,i,o){this.activationServices=e,this.singleActivationServices=t,this.documentManager=r,this.workspaceService=n,this.fileSystem=i,this.activeResourceService=o,this.activatedWorkspaces=new Set,this.isInterpreterSetForWorkspacePromises=new Map,this.disposables=[],this.workspaceService.isTrusted||(this.activationServices=this.activationServices.filter((e=>e.supportedWorkspaceTypes.untrustedWorkspace)),this.singleActivationServices=this.singleActivationServices.filter((e=>e.supportedWorkspaceTypes.untrustedWorkspace))),this.workspaceService.isVirtualWorkspace&&(this.activationServices=this.activationServices.filter((e=>e.supportedWorkspaceTypes.virtualWorkspace)),this.singleActivationServices=this.singleActivationServices.filter((e=>e.supportedWorkspaceTypes.virtualWorkspace)))}dispose(){for(;this.disposables.length>0;)this.disposables.shift().dispose();this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}async activate(){await this.initialize(),await Promise.all([...this.singleActivationServices.map((e=>e.activate())),this.activateWorkspace(this.activeResourceService.getActiveResource())])}async activateWorkspace(e){const t=this.getWorkspaceKey(e);this.activatedWorkspaces.has(t)||(this.activatedWorkspaces.add(t),await(0,l.sendActivationTelemetry)(this.fileSystem,this.workspaceService,e),await Promise.all(this.activationServices.map((t=>t.activate(e)))))}async initialize(){this.addHandlers(),this.addRemoveDocOpenedHandlers()}onDocOpened(e){var t;if(e.languageId!==a.PYTHON_LANGUAGE)return;const r=this.getWorkspaceKey(e.uri),n=((null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.length)||0)>0;if(""===r&&n)return;if(this.activatedWorkspaces.has(r))return;const i=this.workspaceService.getWorkspaceFolder(e.uri);this.activateWorkspace(i?i.uri:void 0).ignoreErrors()}addHandlers(){this.disposables.push(this.workspaceService.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this))}addRemoveDocOpenedHandlers(){this.hasMultipleWorkspaces()?this.docOpenedHandler||(this.docOpenedHandler=this.documentManager.onDidOpenTextDocument(this.onDocOpened,this)):this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}onWorkspaceFoldersChanged(){const e=this.workspaceService.workspaceFolders.map((e=>this.getWorkspaceKey(e.uri))),t=Array.from(this.activatedWorkspaces.keys()).filter((t=>e.indexOf(t)<0));if(t.length>0)for(const e of t)this.activatedWorkspaces.delete(e);this.addRemoveDocOpenedHandlers()}hasMultipleWorkspaces(){var e;return((null===(e=this.workspaceService.workspaceFolders)||void 0===e?void 0:e.length)||0)>1}getWorkspaceKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}};n([(0,u.traceDecoratorError)("Failed to activate a workspace")],p.prototype,"activateWorkspace",null),p=n([(0,o.injectable)(),i(0,(0,o.multiInject)(h.IExtensionActivationService)),i(1,(0,o.multiInject)(h.IExtensionSingleActivationService)),i(2,(0,o.inject)(s.IDocumentManager)),i(3,(0,o.inject)(s.IWorkspaceService)),i(4,(0,o.inject)(c.IFileSystem)),i(5,(0,o.inject)(s.IActiveResourceService))],p),t.ExtensionActivationManager=p},76546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const n=r(69145),i=r(90819);t.registerTypes=function(e){e.add(i.IExtensionActivationManager,n.ExtensionActivationManager)}},90819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionSingleActivationService=t.IExtensionActivationService=t.IExtensionActivationManager=void 0,t.IExtensionActivationManager=Symbol("IExtensionActivationManager"),t.IExtensionActivationService=Symbol("IExtensionActivationService"),t.IExtensionSingleActivationService=Symbol("IExtensionSingleActivationService")},17792:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveResourceService=void 0;const o=r(86700),s=r(17585);let a=class{constructor(e,t){this.documentManager=e,this.workspaceService=t}getActiveResource(){const e=this.documentManager.activeTextEditor;return e&&!e.document.isUntitled?e.document.uri:Array.isArray(this.workspaceService.workspaceFolders)&&this.workspaceService.workspaceFolders.length>0?this.workspaceService.workspaceFolders[0].uri:void 0}};a=n([(0,o.injectable)(),i(0,(0,o.inject)(s.IDocumentManager)),i(1,(0,o.inject)(s.IWorkspaceService))],a),t.ActiveResourceService=a},18718:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationEnvironment=void 0;const o=r(86700),s=r(71017),a=r(36625),c=r(66828),u=r(84974),l=r(61684),h=r(87450);let p=class{constructor(e,t,r){this.platform=e,this.pathUtils=t,this.process=r}get userSettingsFile(){const e="insiders"===this.channel?"Code - Insiders":"Code";switch(this.platform.osType){case h.OSType.OSX:return s.join(this.pathUtils.home,"Library","Application Support",e,"User","settings.json");case h.OSType.Linux:return s.join(this.pathUtils.home,".config",e,"User","settings.json");case h.OSType.Windows:return this.process.env.APPDATA?s.join(this.process.env.APPDATA,e,"User","settings.json"):void 0;default:return}}get appName(){return c.env.appName}get vscodeVersion(){return c.version}get appRoot(){return c.env.appRoot}get uiKind(){return c.env.uiKind}get language(){return c.env.language}get sessionId(){return c.env.sessionId}get machineId(){return c.env.machineId}get extensionName(){return this.packageJson.displayName}get shell(){return c.env.shell}get packageJson(){return r(4147)}get channel(){return this.appName.indexOf("Insider")>0?"insiders":"stable"}get extensionChannel(){const e=(0,a.parse)(this.packageJson.version);return!e||e.prerelease.length>0||e.minor%2==1?"insiders":"stable"}get uriScheme(){return c.env.uriScheme}};p=n([(0,o.injectable)(),i(0,(0,o.inject)(u.IPlatformService)),i(1,(0,o.inject)(l.IPathUtils)),i(2,(0,o.inject)(l.ICurrentProcess))],p),t.ApplicationEnvironment=p},13706:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationShell=void 0;const i=r(86700),o=r(66828);let s=class{get onDidChangeWindowState(){return o.window.onDidChangeWindowState}showInformationMessage(e,t,...r){return o.window.showInformationMessage(e,t,...r)}showWarningMessage(e,t,...r){return o.window.showWarningMessage(e,t,...r)}showErrorMessage(e,t,...r){return o.window.showErrorMessage(e,t,...r)}showQuickPick(e,t,r){return o.window.showQuickPick(e,t,r)}showOpenDialog(e){return o.window.showOpenDialog(e)}showSaveDialog(e){return o.window.showSaveDialog(e)}showInputBox(e,t){return o.window.showInputBox(e,t)}showTextDocument(e,t,r){return o.window.showTextDocument(e,t,r)}openUrl(e){o.env.openExternal(o.Uri.parse(e))}setStatusBarMessage(e,t){return o.window.setStatusBarMessage(e,t)}createStatusBarItem(e,t){return o.window.createStatusBarItem(e,t)}showWorkspaceFolderPick(e){return o.window.showWorkspaceFolderPick(e)}withProgress(e,t){return o.window.withProgress(e,t)}withProgressCustomIcon(e,t){const r=(new o.CancellationTokenSource).token,n=this.createStatusBarItem(o.StatusBarAlignment.Left),i={report:t=>{n.text=`${e} ${t.message}`}};return n.show(),t(i,r).then((e=>(n.dispose(),e)))}createQuickPick(){return o.window.createQuickPick()}createInputBox(){return o.window.createInputBox()}createTreeView(e,t){return o.window.createTreeView(e,t)}createOutputChannel(e){return o.window.createOutputChannel(e)}createLanguageStatusItem(e,t){return o.languages.createLanguageStatusItem(e,t)}};s=n([(0,i.injectable)()],s),t.ApplicationShell=s},77633:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardService=void 0;const i=r(86700),o=r(66828);let s=class{async readText(){return o.env.clipboard.readText()}async writeText(e){await o.env.clipboard.writeText(e)}};s=n([(0,i.injectable)()],s),t.ClipboardService=s},17381:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;const i=r(86700),o=r(66828);let s=class{registerCommand(e,t,r){return o.commands.registerCommand(e,t,r)}registerTextEditorCommand(e,t,r){return o.commands.registerTextEditorCommand(e,t,r)}executeCommand(e,...t){return o.commands.executeCommand(e,...t)}getCommands(e){return o.commands.getCommands(e)}};s=n([(0,i.injectable)()],s),t.CommandManager=s},54094:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKeyManager=void 0;const o=r(86700),s=r(17585);let a=class{constructor(e){this.commandManager=e,this.values=new Map}async setContext(e,t){return this.values.get(e)===t?Promise.resolve():(this.values.set(e,t),this.commandManager.executeCommand("setContext",e,t))}};a=n([(0,o.injectable)(),i(0,(0,o.inject)(s.ICommandManager))],a),t.ContextKeyManager=a},72874:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentManager=void 0;const i=r(86700),o=r(66828);let s=class{get textDocuments(){return o.workspace.textDocuments}get activeTextEditor(){return o.window.activeTextEditor}get visibleTextEditors(){return o.window.visibleTextEditors}get onDidChangeActiveTextEditor(){return o.window.onDidChangeActiveTextEditor}get onDidChangeTextDocument(){return o.workspace.onDidChangeTextDocument}get onDidChangeVisibleTextEditors(){return o.window.onDidChangeVisibleTextEditors}get onDidChangeTextEditorSelection(){return o.window.onDidChangeTextEditorSelection}get onDidChangeTextEditorOptions(){return o.window.onDidChangeTextEditorOptions}get onDidChangeTextEditorViewColumn(){return o.window.onDidChangeTextEditorViewColumn}get onDidOpenTextDocument(){return o.workspace.onDidOpenTextDocument}get onDidCloseTextDocument(){return o.workspace.onDidCloseTextDocument}get onDidSaveTextDocument(){return o.workspace.onDidSaveTextDocument}showTextDocument(e,t,r){return o.window.showTextDocument(e,t,r)}openTextDocument(e){return o.workspace.openTextDocument(e)}applyEdit(e){return o.workspace.applyEdit(e)}createTextEditorDecorationType(e){return o.window.createTextEditorDecorationType(e)}};s=n([(0,i.injectable)()],s),t.DocumentManager=s},13578:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=void 0;const i=r(86700),o=r(66828);let s=class{get all(){return o.extensions.all}get onDidChange(){return o.extensions.onDidChange}getExtension(e){return o.extensions.getExtension(e)}};s=n([(0,i.injectable)()],s),t.Extensions=s},53314:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const i=r(86700),o=r(66828);let s=class{get onDidCloseTerminal(){return o.window.onDidCloseTerminal}get onDidOpenTerminal(){return o.window.onDidOpenTerminal}createTerminal(e){return o.window.createTerminal(e)}};s=n([(0,i.injectable)()],s),t.TerminalManager=s},17585:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IClipboard=t.IActiveResourceService=t.ILanguageService=t.IApplicationEnvironment=t.IDebugService=t.ITerminalManager=t.IWorkspaceService=t.IDocumentManager=t.IJupyterExtensionDependencyManager=t.IContextKeyManager=t.ICommandManager=t.IApplicationShell=void 0,t.IApplicationShell=Symbol("IApplicationShell"),t.ICommandManager=Symbol("ICommandManager"),t.IContextKeyManager=Symbol("IContextKeyManager"),t.IJupyterExtensionDependencyManager=Symbol("IJupyterExtensionDependencyManager"),t.IDocumentManager=Symbol("IDocumentManager"),t.IWorkspaceService=Symbol("IWorkspaceService"),t.ITerminalManager=Symbol("ITerminalManager"),t.IDebugService=Symbol("IDebugManager"),t.IApplicationEnvironment=Symbol("IApplicationEnvironment"),t.ILanguageService=Symbol("ILanguageService"),t.IActiveResourceService=Symbol("IActiveResourceService"),t.IClipboard=Symbol("IClipboard")},56792:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceService=void 0;const i=r(86700),o=r(71017),s=r(66828),a=r(87450);let c=class{get onDidChangeConfiguration(){return s.workspace.onDidChangeConfiguration}get rootPath(){return Array.isArray(s.workspace.workspaceFolders)&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].uri.fsPath:void 0}get workspaceFolders(){return s.workspace.workspaceFolders}get onDidChangeWorkspaceFolders(){return s.workspace.onDidChangeWorkspaceFolders}get workspaceFile(){return s.workspace.workspaceFile}getConfiguration(e,t){return s.workspace.getConfiguration(e,t||null)}getWorkspaceFolder(e){return e?s.workspace.getWorkspaceFolder(e):void 0}asRelativePath(e,t){return s.workspace.asRelativePath(e,t)}createFileSystemWatcher(e,t,r,n){return s.workspace.createFileSystemWatcher(e,t,r,n)}findFiles(e,t,r,n){const i=void 0===t?this.searchExcludes:t;return s.workspace.findFiles(e,i,r,n)}getWorkspaceFolderIdentifier(e,t=""){const r=e?s.workspace.getWorkspaceFolder(e):void 0;return r?o.normalize((0,a.getOSType)()===a.OSType.Windows?r.uri.fsPath.toUpperCase():r.uri.fsPath):t}get isVirtualWorkspace(){return!(!s.workspace.workspaceFolders||!s.workspace.workspaceFolders.every((e=>"file"!==e.uri.scheme)))}get isTrusted(){return s.workspace.isTrusted}get onDidGrantWorkspaceTrust(){return s.workspace.onDidGrantWorkspaceTrust}openTextDocument(e){return s.workspace.openTextDocument(e)}get searchExcludes(){const e=this.getConfiguration("search.exclude");return`{${Object.keys(e).filter((t=>!0===e.get(t))).join(",")}}`}};c=n([(0,i.injectable)()],c),t.WorkspaceService=c},2512:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncDisposableRegistry=void 0;const i=r(86700),o=r(81837);let s=class{constructor(){this.disposables=new o.Disposables}push(...e){this.disposables.push(...e)}async dispose(){return this.disposables.dispose()}};s=n([(0,i.injectable)()],s),t.AsyncDisposableRegistry=s},29979:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cancellation=t.wrapCancellationTokens=t.createPromiseFromCancellation=t.CancellationError=void 0;const n=r(66828),i=r(59314),o=r(67098);class s extends Error{constructor(){super(o.Common.canceled())}}t.CancellationError=s,t.createPromiseFromCancellation=function(e){return new Promise(((t,r)=>{e.token&&e.token.onCancellationRequested((()=>{if(e.token.isCancellationRequested){if("resolve"===e.cancelAction)return t(e.defaultValue);if("reject"===e.cancelAction)return r(new s)}}))}))},t.wrapCancellationTokens=function(...e){const t=new n.CancellationTokenSource;for(const r of e)if(r){if(r.isCancellationRequested)return r;r.onCancellationRequested((()=>t.cancel()))}return t.token},function(e){function t(e){return!!e&&e.isCancellationRequested}e.race=function(e,t){if(t){const r=(0,i.createDeferred)();return t.onCancellationRequested((()=>{r.completed||r.reject(new s)})),t.isCancellationRequested?r.reject(new s):e(t).then((e=>{r.completed||r.resolve(e)})).catch((e=>{r.completed||r.reject(e)})),r.promise}return e()},e.isCanceled=t,e.throwIfCanceled=function(e){if(t(e))throw new s}}(t.Cancellation||(t.Cancellation={}))},89515:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonSettings=void 0;const i=r(71017),o=r(57147),s=r(66828);r(32727);const a=r(98634),c=r(56792),u=r(77570),l=r(93666),h=r(36952),p=r(48683),d=r(87450),f=r(58967);class v{constructor(e,t,r,n){this.interpreterAutoSelectionService=t,this.interpreterPathService=n,this.downloadLanguageServer=!0,this.envFile="",this.venvPath="",this.venvFolders=[],this.condaPath="",this.pipenvPath="",this.poetryPath="",this.devOptions=[],this.disableInstallationChecks=!1,this.globalModuleInstallation=!1,this.autoUpdateLanguageServer=!0,this.languageServerIsDefault=!0,this.changed=new s.EventEmitter,this.disposables=[],this._pythonPath="python",this._defaultInterpreterPath="",this.workspace=r||new c.WorkspaceService,this.workspaceRoot=e,this.initialize()}get onDidChange(){return this.changed.event}get pythonPath(){return this._pythonPath}set pythonPath(e){if(this._pythonPath!==e)try{this._pythonPath=this.getPythonExecutable(e)}catch(t){this._pythonPath=e}}get defaultInterpreterPath(){return this._defaultInterpreterPath}set defaultInterpreterPath(e){if(this._defaultInterpreterPath!==e)try{this._defaultInterpreterPath=this.getPythonExecutable(e)}catch(t){this._defaultInterpreterPath=e}}static getInstance(e,t,r,n){r=r||new c.WorkspaceService;const i=v.getSettingsUriAndTarget(e,r).uri,o=i?i.fsPath:"";if(!v.pythonSettings.has(o)){const e=new v(i,t,r,n);v.pythonSettings.set(o,e)}return v.pythonSettings.get(o)}static getSettingsUriAndTarget(e,t){t=t||new c.WorkspaceService;const r=e?t.getWorkspaceFolder(e):void 0;let n=r?r.uri:void 0;return!n&&Array.isArray(t.workspaceFolders)&&t.workspaceFolders.length>0&&(n=t.workspaceFolders[0].uri),{uri:n,target:n?s.ConfigurationTarget.WorkspaceFolder:s.ConfigurationTarget.Global}}static dispose(){if(!(0,u.isTestExecution)())throw new Error("Dispose can only be called from unit tests");v.pythonSettings.forEach((e=>e&&e.dispose())),v.pythonSettings.clear()}static toSerializable(e){const t={};return Object.entries(e).forEach((e=>{const[r,n]=e;r.includes("Manager")||r.includes("Service")||r.includes("onDid")||(t[r]=n)})),t}dispose(){this.disposables.forEach((e=>e&&e.dispose())),this.disposables=[]}update(e){var t,r;const n=null===(t=this.workspaceRoot)||void 0===t?void 0:t.fsPath,i=new p.SystemVariables(void 0,n,this.workspace);this.pythonPath=this.getPythonPath(e,i,n);const o=i.resolveAny(e.get("defaultInterpreterPath"));if(this.defaultInterpreterPath=o||u.DEFAULT_INTERPRETER_SETTING,this.defaultInterpreterPath===u.DEFAULT_INTERPRETER_SETTING){const e=this.interpreterAutoSelectionService.getAutoSelectedInterpreter(this.workspaceRoot);this.defaultInterpreterPath=null!==(r=null==e?void 0:e.path)&&void 0!==r?r:this.defaultInterpreterPath}this.defaultInterpreterPath=y(this.defaultInterpreterPath,n),this.venvPath=i.resolveAny(e.get("venvPath")),this.venvFolders=i.resolveAny(e.get("venvFolders"));const s=i.resolveAny(e.get("condaPath"));this.condaPath=s&&s.length>0?y(s,n):s;const c=i.resolveAny(e.get("pipenvPath"));this.pipenvPath=c&&c.length>0?y(c,n):c;const l=i.resolveAny(e.get("poetryPath"));this.poetryPath=l&&l.length>0?y(l,n):l,this.downloadLanguageServer=i.resolveAny(e.get("downloadLanguageServer",!0)),this.autoUpdateLanguageServer=i.resolveAny(e.get("autoUpdateLanguageServer",!0));const h=e.get("envFile");this.envFile=i.resolveAny(h),(0,a.sendSettingTelemetry)(this.workspace,h),this.devOptions=i.resolveAny(e.get("devOptions")),this.devOptions=Array.isArray(this.devOptions)?this.devOptions:[],this.disableInstallationChecks=!0===e.get("disableInstallationCheck"),this.globalModuleInstallation=!0===e.get("globalModuleInstallation");const d=i.resolveAny(e.get("terminal"));this.terminal?Object.assign(this.terminal,d):(this.terminal=d,(0,u.isTestExecution)()&&!this.terminal&&(this.terminal={})),this.terminal=this.terminal?this.terminal:{executeInFileDir:!0,launchArgs:[],activateEnvironment:!0,activateEnvInCurrentTerminal:!1}}getPythonExecutable(e){return function(e){if("python"===(e=f(e))||-1===e.indexOf(i.sep)||i.basename(e)===i.dirname(e))return e;if(m(e))return e;const t=["python","python4","python3.6","python3.5","python3","python2.7","python2","python3.7","python3.8","python3.9"];for(let r of t)if(l.IS_WINDOWS){if(r=`${r}.exe`,m(i.join(e,r)))return i.join(e,r);if(m(i.join(e,"Scripts",r)))return i.join(e,"Scripts",r)}else{if(m(i.join(e,r)))return i.join(e,r);if(m(i.join(e,"bin",r)))return i.join(e,"bin",r)}return e}(e)}onWorkspaceFoldersChanged(){const e=this.workspace.workspaceFolders.map((e=>e.uri.fsPath)),t=Array.from(v.pythonSettings.keys()).filter((t=>e.indexOf(t)<0));if(t.length>0)for(const e of t)v.pythonSettings.delete(e)}initialize(){const e=()=>{const e=this.workspace.getConfiguration("python",this.workspaceRoot);this.update(e),this.debounceChangeNotification()};this.disposables.push(this.workspace.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this)),this.disposables.push(this.interpreterAutoSelectionService.onDidChangeAutoSelectedInterpreter(e.bind(this))),this.disposables.push(this.workspace.onDidChangeConfiguration((t=>{t.affectsConfiguration("python")&&e()}))),this.interpreterPathService&&this.disposables.push(this.interpreterPathService.onDidChange(e.bind(this)));const t=this.workspace.getConfiguration("python",this.workspaceRoot);t&&this.update(t)}debounceChangeNotification(){this.changed.fire()}getPythonPath(e,t,r){if(this.pythonPath=t.resolveAny(this.interpreterPathService?this.interpreterPathService.get(this.workspaceRoot):e.get("pythonPath")),!process.env.CI_DISABLE_AUTO_SELECTION&&(0===this.pythonPath.length||"python"===this.pythonPath)&&this.interpreterAutoSelectionService){const e=this.interpreterAutoSelectionService.getAutoSelectedInterpreter(this.workspaceRoot);e&&(this.pythonPath=e.path,this.workspaceRoot&&this.interpreterAutoSelectionService.setWorkspaceInterpreter(this.workspaceRoot,e).ignoreErrors())}return y(this.pythonPath,r)}}function y(e,t){return t||(t=__dirname),e=f(e),(0,u.isTestExecution)()&&!e?t:-1===e.indexOf(i.sep)||i.isAbsolute(e)?e:i.resolve(t,e)}function m(e){return o.existsSync(e)&&i.basename((0,d.getOSType)()===d.OSType.Windows?e.toLowerCase():e).startsWith("python")}v.pythonSettings=new Map,n([(0,h.debounceSync)(1)],v.prototype,"debounceChangeNotification",null),t.PythonSettings=v},15797:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvExecutionPath=void 0;const o=r(86700),s=r(61684);let a=class{constructor(e){this.configService=e}get executable(){return this.configService.getSettings().pipenvPath}};a=n([(0,o.injectable)(),i(0,(0,o.inject)(s.IConfigurationService))],a),t.PipEnvExecutionPath=a},30751:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationService=void 0;const o=r(86700),s=r(66828),a=r(87282),c=r(77498),u=r(17585),l=r(89515),h=r(77570),p=r(61684);let d=class{constructor(e){this.serviceContainer=e,this.workspaceService=this.serviceContainer.get(u.IWorkspaceService)}getSettings(e){const t=this.serviceContainer.get(a.IInterpreterAutoSelectionService),r=this.serviceContainer.get(p.IInterpreterPathService);return l.PythonSettings.getInstance(e,t,this.workspaceService,r)}async updateSectionSetting(e,t,r,n,i){const o=this.serviceContainer.get(p.IInterpreterPathService);let a={uri:n,target:i||s.ConfigurationTarget.WorkspaceFolder};"python"===e&&i!==s.ConfigurationTarget.Global&&(a=l.PythonSettings.getSettingsUriAndTarget(n,this.workspaceService)),i=i||a.target;const c=this.workspaceService.getConfiguration(e,a.uri),u="python"===e&&"pythonPath"===t?o.inspect(a.uri):c.inspect(t);void 0!==u&&(i===s.ConfigurationTarget.Global&&u.globalValue===r||i===s.ConfigurationTarget.Workspace&&u.workspaceValue===r||i===s.ConfigurationTarget.WorkspaceFolder&&u.workspaceFolderValue===r)||("python"===e&&"pythonPath"===t?await o.update(a.uri,i,r):(await c.update(t,r,i),await this.verifySetting(c,i,t,r)))}async updateSetting(e,t,r,n){return this.updateSectionSetting("python",e,t,r,n)}isTestExecution(){return"1"===process.env.VSC_PYTHON_CI_TEST}async verifySetting(e,t,r,n){if(this.isTestExecution()&&!(0,h.isUnitTestExecution)()){let i=0;do{const o=e.inspect(r);if(!o&&void 0===n)break;if(o&&void 0!==n){let e;if(e=t===s.ConfigurationTarget.Global?o.globalValue:t===s.ConfigurationTarget.Workspace?o.workspaceValue:o.workspaceFolderValue,e===n)break}await new Promise((e=>setTimeout(e,250))),i+=1}while(i<20)}}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],d),t.ConfigurationService=d},77570:function(e,t,r){"use strict";var n,i,o,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};function c(){return"1"===process.env.VSC_PYTHON_UNIT_TEST}Object.defineProperty(t,"__esModule",{value:!0}),t.UseProposedApi=t.isUnitTestExecution=t.isTestExecution=t.isCI=t.STANDARD_OUTPUT_CHANNEL=t.DEFAULT_INTERPRETER_SETTING=t.Octicons=t.Commands=t.CommandSource=t.AppinsightsKey=t.JUPYTER_EXTENSION_ID=t.PYLANCE_EXTENSION_ID=t.CODE_RUNNER_EXTENSION_ID=t.PVSC_EXTENSION_ID=t.PYTHON_NOTEBOOKS=t.PYTHON=t.InteractiveScheme=t.InteractiveInputScheme=t.NotebookCellScheme=t.PYTHON_WARNINGS=t.PYTHON_LANGUAGE=void 0,t.PYTHON_LANGUAGE="python",t.PYTHON_WARNINGS="PYTHONWARNINGS",t.NotebookCellScheme="vscode-notebook-cell",t.InteractiveInputScheme="vscode-interactive-input",t.InteractiveScheme="vscode-interactive",t.PYTHON=[{scheme:"file",language:t.PYTHON_LANGUAGE},{scheme:"untitled",language:t.PYTHON_LANGUAGE},{scheme:"vscode-notebook",language:t.PYTHON_LANGUAGE},{scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE},{scheme:t.InteractiveInputScheme,language:t.PYTHON_LANGUAGE}],t.PYTHON_NOTEBOOKS=[{scheme:"vscode-notebook",language:t.PYTHON_LANGUAGE},{scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE},{scheme:t.InteractiveInputScheme,language:t.PYTHON_LANGUAGE}],t.PVSC_EXTENSION_ID="donjayamanne.python-environment-manager",t.CODE_RUNNER_EXTENSION_ID="formulahendry.code-runner",t.PYLANCE_EXTENSION_ID="ms-python.vscode-pylance",t.JUPYTER_EXTENSION_ID="ms-toolsai.jupyter",t.AppinsightsKey="_",(o=t.CommandSource||(t.CommandSource={})).ui="ui",o.commandPalette="commandpalette",(i=t.Commands||(t.Commands={})).Exec_In_Terminal="python.envManager.execInTerminal",i.Exec_In_Terminal_Icon="python.envManager.execInTerminal-icon",i.ViewOutput="python.envManager.viewOutput",i.Start_REPL="python.envManagerstartREPL",i.Create_Terminal="python.envManager.createTerminal",i.ClearStorage="python.envManager.clearPersistentStorage",(n=t.Octicons||(t.Octicons={})).Add="$(add)",n.Test_Pass="$(check)",n.Test_Fail="$(alert)",n.Test_Error="$(x)",n.Test_Skip="$(circle-slash)",n.Downloading="$(cloud-download)",n.Installing="$(desktop-download)",n.Search_Stop="$(search-stop)",n.Star="$(star-full)",n.Gear="$(gear)",t.DEFAULT_INTERPRETER_SETTING="python",t.STANDARD_OUTPUT_CHANNEL="STANDARD_OUTPUT_CHANNEL",t.isCI="true"===process.env.TRAVIS||void 0!==process.env.TF_BUILD,t.isTestExecution=function(){return"1"===process.env.VSC_PYTHON_CI_TEST||c()},t.isUnitTestExecution=c,t.UseProposedApi=Symbol("USE_VSC_PROPOSED_API"),a(r(63281),t)},94316:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKey=void 0,t.ContextKey=class{constructor(e,t){this.name=e,this.commandManager=t}get value(){return this.lastValue}async set(e){this.lastValue!==e&&(this.lastValue=e,await this.commandManager.executeCommand("setContext",this.name,this.lastValue))}}},84911:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorUtils=t.getTempFileWithDocumentContents=t.getWorkspaceEditsFromPatch=t.getTextEditsFromPatch=void 0;const i=r(65176),o=r(86700),s=r(2568),a=r(22037),c=r(71017),u=r(66828),l=r(19735),h=r(26804),p=r(3481);var d;!function(e){e[e.Delete=0]="Delete",e[e.Insert=1]="Insert",e[e.Replace=2]="Replace"}(d||(d={}));const f=a.EOL.length;class v{constructor(e,t){this.action=e,this.start=t,this.text=""}apply(){switch(this.action){case d.Insert:return u.TextEdit.insert(this.start,this.text);case d.Delete:return u.TextEdit.delete(new u.Range(this.start,this.end));case d.Replace:return u.TextEdit.replace(new u.Range(this.start,this.end),this.text);default:return new u.TextEdit(new u.Range(new u.Position(0,0),new u.Position(0,0)),"")}}}function y(e,t,n=0){let i=n,o=0;const s=e.split(/\r?\n/g);i>0&&s.filter(((e,t)=>t<i)).forEach((e=>o+=e.length+f));const a=[];let c,l=null;for(let e=0;e<t.length;e+=1){let n=new u.Position(i,o);for(let r=0;r<t[e][1].length;r+=1)"\n"!==t[e][1][r]?o+=1:(o=0,i+=1);const h=r(65176);switch(t[e][0]){case h.DIFF_DELETE:if(0===s[i-1].length&&s[n.line-1]&&0===s[n.line-1].length?(n=new u.Position(n.line-1,0),c=new u.Position(i-1,0)):c=new u.Position(i,o),null===l)l=new v(d.Delete,n);else if(l.action!==d.Delete)throw new Error("cannot format due to an internal error.");l.end=c;break;case h.DIFF_INSERT:null===l?l=new v(d.Insert,n):l.action===d.Delete&&(l.action=d.Replace),i=n.line,o=n.character,l.text+=t[e][1];break;case h.DIFF_EQUAL:null!==l&&(a.push(l),l=null)}}return null!==l&&a.push(l),a}function m(e){const t=[];if(!e)return t;const n=e.split(/[\r\n]/);let o=0;const s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;for(;o<n.length;){const e=n[o].match(s);if(!e)throw new Error(`Invalid patch string: ${n[o]}`);const a=new i.diff_match_patch.patch_obj;t.push(a),a.start1=parseInt(e[1],10),""===e[2]?(a.start1-=1,a.length1=1):"0"===e[2]?a.length1=0:(a.start1-=1,a.length1=parseInt(e[2],10)),a.start2=parseInt(e[3],10),""===e[4]?(a.start2-=1,a.length2=1):"0"===e[4]?a.length2=0:(a.start2-=1,a.length2=parseInt(e[4],10)),o+=1;const c=r(65176);for(;o<n.length;){const e=n[o].charAt(0);let t;try{t=n[o].substring(1)}catch(e){throw new Error("Illegal escape in patch_fromText")}if("-"===e)a.diffs.push([c.DIFF_DELETE,t]);else if("+"===e)a.diffs.push([c.DIFF_INSERT,t]);else if(" "===e)a.diffs.push([c.DIFF_EQUAL,t]);else{if("@"===e)break;if(""!==e)throw new Error(`Invalid patch mode '${e}' in: ${t}`)}o+=1}}return t}t.getTextEditsFromPatch=function(e,t){if(t.startsWith("---")&&(t=t.substring(t.indexOf("@@"))),0===t.length)return[];t=t.replace(/\\ No newline at end of file[\r\n]/,"");const n=new(r(65176).diff_match_patch),i=m.call(n,t);if(!Array.isArray(i)||0===i.length)throw new Error("Unable to parse Patch string");const o=[];return i.forEach((t=>{t.diffs.forEach((e=>{e[1]+=a.EOL})),y(e,t.diffs,t.start1).forEach((e=>o.push(e.apply())))})),o},t.getWorkspaceEditsFromPatch=function(e,t,n){const i=new u.WorkspaceEdit;return e.forEach((e=>{const o=e.indexOf("@@");if(-1===o)return;const s=e.substring(0,o).split(/\r?\n/g).map((e=>e.trim())).filter((e=>e.length>0&&e.toLowerCase().endsWith(".py")&&e.indexOf(" a")>0));if(e.startsWith("---")&&(e=e.substring(o)),0===e.length)return;if(0===s.length)return;let l=s[0].substring(s[0].indexOf(" a")+3).trim();if(l=t&&!c.isAbsolute(l)?c.resolve(t,l):l,!n.fileExistsSync(l))return;e=e.replace(/\\ No newline at end of file[\r\n]/,"");const h=new(r(65176).diff_match_patch),p=m.call(h,e);if(!Array.isArray(p)||0===p.length)throw new Error("Unable to parse Patch string");const f=n.readFileSync(l),v=u.Uri.file(l);p.forEach((e=>{e.diffs.forEach((e=>{e[1]+=a.EOL})),y(f,e.diffs,e.start1).forEach((e=>{switch(e.action){case d.Delete:i.delete(v,new u.Range(e.start,e.end));break;case d.Insert:i.insert(v,e.start,e.text);break;case d.Replace:i.replace(v,new u.Range(e.start,e.end),e.text)}}))}))})),i},t.getTempFileWithDocumentContents=async function(e,t){let r=`${e.uri.fsPath}.${s(e.uri.fsPath+e.uri.fragment)}.tmp`;try{(0,p.isNotebookCell)(e.uri)&&!await t.fileExists(e.uri.fsPath)&&(r=(await t.createTemporaryFile(`${c.basename(e.uri.fsPath)}-${e.uri.fragment}.tmp`)).filePath),await t.writeFile(r,e.getText())}catch(e){(0,l.traceError)("Failed to create a temporary file",e);const t=e;throw new h.WrappedError(`Failed to create a temporary file, ${t.message}`,t)}return r};let g=class{getWorkspaceEditsFromPatch(e,t,n){const i=new u.WorkspaceEdit;if(t.startsWith("---")&&(t=t.substring(t.indexOf("@@"))),0===t.length)return i;t=t.replace(/\\ No newline at end of file[\r\n]/,"");const o=new(r(65176).diff_match_patch),s=m.call(o,t);if(!Array.isArray(s)||0===s.length)throw new Error("Unable to parse Patch string");return s.forEach((t=>{t.diffs.forEach((e=>{e[1]+=a.EOL})),y(e,t.diffs,t.start1).forEach((e=>{switch(e.action){case d.Delete:i.delete(n,new u.Range(e.start,e.end));break;case d.Insert:i.insert(n,e.start,e.text);break;case d.Replace:i.replace(n,new u.Range(e.start,e.end),e.text)}}))})),i}};g=n([(0,o.injectable)()],g),t.EditorUtils=g},26804:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedError=t.ErrorUtils=void 0;const n=r(22037);t.ErrorUtils=class{static outputHasModuleNotInstalledError(e,t){return!(!t||!(t.indexOf(`No module named ${e}`)>0||t.indexOf(`No module named '${e}'`)>0))}};class i extends Error{constructor(e,t){super(e),this.stack=`${new Error("").stack}${n.EOL}${n.EOL}${t.stack}`}}t.WrappedError=i},97300:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleNotInstalledError=void 0;class r extends Error{constructor(e){super(`Module '${e}' not installed.`)}}t.ModuleNotInstalledError=r},32727:()=>{"use strict";String.prototype.splitLines=function(e={removeEmptyEntries:!0,trim:!0}){let t=this.split(/\r?\n/g);return e&&e.trim&&(t=t.map((e=>e.trim()))),e&&e.removeEmptyEntries&&(t=t.filter((e=>e.length>0))),t},String.prototype.toCommandArgumentForPythonExt=function(){return this?!(this.indexOf(" ")>=0||this.indexOf("&")>=0)||this.startsWith('"')||this.endsWith('"')?this.toString():`"${this}"`:this},String.prototype.fileToCommandArgumentForPythonExt=function(){return this?this.toCommandArgumentForPythonExt().replace(/\\/g,"/"):this},String.prototype.trimQuotes=function(){return this?this.replace(/(^['"])|(['"]$)/g,""):this},String.prototype.replaceAll=function(e,t){return this?this.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),t):this},Promise.prototype.ignoreErrors=function(){this.catch((()=>{}))},String.prototype.format||(String.prototype.format=function(){const e=arguments;return this.replace(/{(\d+)}/g,((t,r)=>void 0===e[r]?t:e[r]))})},95939:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstallationChannelManager=void 0;const o=r(86700),s=r(18639),a=r(77498),c=r(81387),u=r(17585),l=r(84974),h=r(67098),p=r(3481),d=r(92674),f=r(59747);let v=class{constructor(e){this.serviceContainer=e}async getInstallationChannel(e,t){const r=await this.getInstallationChannels(t);if(1===r.length)return r[0];const n=d.ProductNames.get(e),i=this.serviceContainer.get(u.IApplicationShell);if(0===r.length)return void await this.showNoInstallersMessage((0,p.isResource)(t)?t:void 0);const o=`Select an option to install ${n}`,s=r.map((e=>({label:`Install using ${e.displayName}`,description:"",installer:e}))),a=await i.showQuickPick(s,{matchOnDescription:!0,matchOnDetail:!0,placeHolder:o});return a?a.installer:void 0}async getInstallationChannels(e){const t=this.serviceContainer.getAll(f.IModuleInstaller),r=[];if(0===t.length)return[];t.sort(((e,t)=>t.priority-e.priority));let n=t[0].priority;for(const i of t){if(i.priority!==n){if(r.length>0)break;n=i.priority}await i.isSupported(e)&&r.push(i)}return r}async showNoInstallersMessage(e){const t=this.serviceContainer.get(s.IInterpreterService),r=await t.getActiveInterpreter(e);if(!r)return;const n=this.serviceContainer.get(u.IApplicationShell);let i;if(i=r.envType===c.EnvironmentType.Conda?await n.showErrorMessage(h.Installer.noCondaOrPipInstaller(),h.Installer.searchForHelp()):await n.showErrorMessage(h.Installer.noPipInstaller(),h.Installer.searchForHelp()),"Search for help"===i){const e=this.serviceContainer.get(l.IPlatformService),t=e.isWindows?"Windows":e.isMac?"MacOS":"Linux";n.openUrl(`https://www.bing.com/search?q=Install Pip ${t} ${r.envType===c.EnvironmentType.Conda?"Conda":""}`)}}};v=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],v),t.InstallationChannelManager=v},5181:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaInstaller=void 0;const o=r(86700),s=r(18639),a=r(77498),c=r(81387),u=r(61684),l=r(3481),h=r(30135),p=r(59747);let d=class extends h.ModuleInstaller{constructor(e){super(e)}get name(){return"Conda"}get displayName(){return"Conda"}get type(){return c.ModuleInstallerType.Conda}get priority(){return 0}async isSupported(e){if(!1===this._isCondaAvailable)return!1;const t=this.serviceContainer.get(s.ICondaService);return this._isCondaAvailable=await t.isCondaAvailable(),!!this._isCondaAvailable&&this.isCurrentEnvironmentACondaEnvironment(e)}async getExecutionInfo(e,t,r=0){var n;const i=this.serviceContainer.get(s.ICondaService),o=await i.getCondaFile(!0),a=(0,l.isResource)(t)?this.serviceContainer.get(u.IConfigurationService).getSettings(t).pythonPath:null!==(n=t.id)&&void 0!==n?n:"",c=this.serviceContainer.get(s.IComponentAdapter),d=await c.getCondaEnvironment(a),f=[r&p.ModuleInstallFlags.upgrade?"update":"install"];return[u.Product.tensorboard,u.Product.ipykernel,u.Product.pandas,u.Product.nbconvert,u.Product.jupyter,u.Product.notebook].map(h.translateProductToModule).includes(e)&&f.push("-c","conda-forge"),d&&d.name?(f.push("--name"),f.push(d.name.toCommandArgumentForPythonExt())):d&&d.path&&(f.push("--prefix"),f.push(d.path.fileToCommandArgumentForPythonExt())),r&p.ModuleInstallFlags.updateDependencies&&f.push("--update-deps"),r&p.ModuleInstallFlags.reInstall&&f.push("--force-reinstall"),f.push(e),f.push("-y"),{args:f,execPath:o,useShell:!0}}async isCurrentEnvironmentACondaEnvironment(e){var t;const r=this.serviceContainer.get(s.IComponentAdapter),n=(0,l.isResource)(e)?this.serviceContainer.get(u.IConfigurationService).getSettings(e).pythonPath:null!==(t=e.id)&&void 0!==t?t:"";return r.isCondaEnvironment(n)}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],d),t.CondaInstaller=d},30135:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.translateProductToModule=t.ModuleInstaller=void 0;const i=r(86700),o=r(71017),s=r(66828),a=r(18639),c=r(19735),u=r(81387),l=r(54813),h=r(61522),p=r(17585),d=r(29979),f=r(77570),v=r(84974),y=r(31776),m=r(29983),g=r(58400),b=r(61684),_=r(67098),E=r(3481),S=r(92674);let w=class{constructor(e){this.serviceContainer=e}async installModule(e,t,r,n,i){const c=!(null==i?void 0:i.installAsProcess),f="string"==typeof e?e:T(e),m="string"==typeof e?f:S.ProductNames.get(e);(0,l.sendTelemetryEvent)(h.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:this.displayName,productName:m});const g=(0,E.isResource)(t)?t:void 0,w=await this.getExecutionInfo(f,t,n),P=async e=>{var r;const n=await this.processInstallArgs(w.args,t);if(w.moduleName){const i=this.serviceContainer.get(b.IConfigurationService).getSettings(g),s=this.serviceContainer.get(a.IInterpreterService),l=(0,E.isResource)(t)?await s.getActiveInterpreter(t):t,h=null!==(r=null==l?void 0:l.path)&&void 0!==r?r:i.pythonPath,p=(0,E.isResource)(t)?h:t.path,d=y.execModule(w.moduleName,n);if(l&&l.envType===u.EnvironmentType.Unknown)if(i.globalModuleInstallation){const r=this.serviceContainer.get(v.IFileSystem);await r.isDirReadonly(o.dirname(p)).catch((e=>!0))?this.elevatedInstall(p,d):await this.executeCommand(c,t,p,d,e,w.useShell)}else f===T(b.Product.pip)?await this.executeCommand(c,t,p,d,e,w.useShell):await this.executeCommand(c,t,p,d.concat(["--user"]),e,w.useShell);else await this.executeCommand(c,t,p,d,e,w.useShell)}else await this.executeCommand(c,t,w.execPath,n,e,w.useShell)};if(r){const e=this.serviceContainer.get(p.IApplicationShell),t={location:s.ProgressLocation.Notification,cancellable:!0,title:_.Products.installingModule().format(f)};await e.withProgress(t,(async(e,t)=>P((0,d.wrapCancellationTokens)(t,r))))}else await P(r)}elevatedInstall(e,t){const n=this.serviceContainer.get(b.IOutputChannel,f.STANDARD_OUTPUT_CHANNEL),i=`"${e.replace(/\\/g,"/")}" ${t.join(" ")}`;(0,c.traceLog)(`[Elevated] ${i}`),r(65425).exec(i,{name:"VS Code Python"},(async(e,t,r)=>{if(e){const t=this.serviceContainer.get(p.IApplicationShell);await t.showErrorMessage(e)}else n.show(),t&&(0,c.traceLog)(t),r&&(0,c.traceError)(`Warning: ${r}`)}))}async processInstallArgs(e,t){const r=e.findIndex((e=>"PYLINT"===e.toUpperCase()));if(-1===r)return e;const n=this.serviceContainer.get(a.IInterpreterService),i=(0,E.isResource)(t)?await n.getActiveInterpreter(t):t;if(i&&i.version&&2===i.version.major){const t=[...e];return t[r]='"pylint<2.0.0"',t}return e}async executeCommand(e,t,r,n,i,o){const s={};if((0,E.isResource)(t)?s.resource=t:s.interpreter=t,e)this.serviceContainer.get(g.ITerminalServiceFactory).getTerminalService(s).sendCommand(r,n,i);else{const e=this.serviceContainer.get(m.IProcessServiceFactory),t=await e.create(s.resource);if(o){const e=[r,...n].reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),"");await t.shellExec(e)}else await t.exec(r,n)}}};function T(e){switch(e){case b.Product.mypy:return"mypy";case b.Product.pylama:return"pylama";case b.Product.prospector:return"prospector";case b.Product.pylint:return"pylint";case b.Product.pytest:return"pytest";case b.Product.autopep8:return"autopep8";case b.Product.black:return"black";case b.Product.pycodestyle:return"pycodestyle";case b.Product.pydocstyle:return"pydocstyle";case b.Product.yapf:return"yapf";case b.Product.flake8:return"flake8";case b.Product.unittest:return"unittest";case b.Product.bandit:return"bandit";case b.Product.jupyter:return"jupyter";case b.Product.notebook:return"notebook";case b.Product.pandas:return"pandas";case b.Product.ipykernel:return"ipykernel";case b.Product.nbconvert:return"nbconvert";case b.Product.kernelspec:return"kernelspec";case b.Product.tensorboard:return"tensorboard";case b.Product.torchProfilerInstallName:return"torch-tb-profiler";case b.Product.torchProfilerImportName:return"torch_tb_profiler";case b.Product.pip:return"pip";case b.Product.ensurepip:return"ensurepip";case b.Product.python:return"python";default:throw new Error(`Product ${e} cannot be installed as a Python Module.`)}}w=n([(0,i.injectable)()],w),t.ModuleInstaller=w,t.translateProductToModule=T},22577:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvInstaller=t.pipenvName=void 0;const o=r(86700),s=r(18639),a=r(77498),c=r(37924),u=r(81387),l=r(17585),h=r(3481),p=r(30135),d=r(59747);t.pipenvName="pipenv";let f=class extends p.ModuleInstaller{get name(){return"pipenv"}get type(){return u.ModuleInstallerType.Pipenv}get displayName(){return t.pipenvName}get priority(){return 10}constructor(e){super(e)}async isSupported(e){if((0,h.isResource)(e)){const t=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e),r=e?this.serviceContainer.get(l.IWorkspaceService).getWorkspaceFolder(e):void 0;return!(!t||!r||t.envType!==u.EnvironmentType.Pipenv)&&(0,c.isPipenvEnvironmentRelatedToFolder)(t.path,r.uri.fsPath)}return e.envType===u.EnvironmentType.Pipenv}async getExecutionInfo(e,r,n=0){const i=[n&d.ModuleInstallFlags.reInstall||n&d.ModuleInstallFlags.updateDependencies||n&d.ModuleInstallFlags.upgrade?"update":"install",e,"--dev"];return"black"===e&&i.push("--pre"),{args:i,execPath:t.pipenvName}}};f=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],f),t.PipEnvInstaller=f},36352:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipInstaller=void 0;const o=r(86700),s=r(77498),a=r(81387),c=r(17585),u=r(29983),l=r(61684),h=r(3481),p=r(30135),d=r(59747),f=r(71017),v=r(48266),y=r(92674),m=r(54813),g=r(61522),b=r(18639),_=r(48431);let E=class extends p.ModuleInstaller{get name(){return"Pip"}get type(){return a.ModuleInstallerType.Pip}get displayName(){return"Pip"}get priority(){return 0}constructor(e){super(e)}async isSupported(e){return!1!==await async function(e,t){var r;const n=e.get(b.IInterpreterService),i=(0,h.isResource)(t)?await n.getActiveInterpreter(t):t;if(i)return!((null===(r=i.envPath)||void 0===r?void 0:r.length)&&i.envType===a.EnvironmentType.Conda&&!(0,_.isParentPath)(null==i?void 0:i.path,i.envPath))}(this.serviceContainer,e)&&this.isPipAvailable(e)}async getExecutionInfo(e,t,r=0){var n,i,o;if(e===(0,p.translateProductToModule)(l.Product.pip)){const e=(0,h.isResource)(t)?"":`${(null===(n=t.version)||void 0===n?void 0:n.major)||""}.${(null===(i=t.version)||void 0===i?void 0:i.minor)||""}.${(null===(o=t.version)||void 0===o?void 0:o.patch)||""}`,r=(0,h.isResource)(t)?void 0:t.envType;(0,m.sendTelemetryEvent)(g.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:a.ModuleInstallerType.Pip,productName:y.ProductNames.get(l.Product.pip),version:e,envType:r});const s=this.serviceContainer.get(l.IInstaller);if(await s.isInstalled(l.Product.ensurepip,t))return{args:[],moduleName:"ensurepip"};(0,m.sendTelemetryEvent)(g.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:a.ModuleInstallerType.Pip,productName:y.ProductNames.get(l.Product.ensurepip),version:e,envType:r});const c=this.serviceContainer.get(b.IInterpreterService),u=(0,h.isResource)(t)?await c.getActiveInterpreter(t):t;return{execPath:u?u.path:"python",args:[f.join(v._SCRIPTS_DIR,"get-pip.py")]}}const s=[],u=this.serviceContainer.get(c.IWorkspaceService).getConfiguration("http").get("proxy","");return u.length>0&&(s.push("--proxy"),s.push(u)),s.push("install","-U"),r&d.ModuleInstallFlags.reInstall&&s.push("--force-reinstall"),{args:[...s,e],moduleName:"pip"}}isPipAvailable(e){const t=this.serviceContainer.get(u.IPythonExecutionFactory),r=(0,h.isResource)(e)?e:void 0,n=(0,h.isResource)(e)?void 0:e.path;return t.create({resource:r,pythonPath:n}).then((e=>e.isModuleInstalled("pip"))).catch((()=>!1))}};E=n([(0,o.injectable)(),i(0,(0,o.inject)(s.IServiceContainer))],E),t.PipInstaller=E},73300:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PoetryInstaller=t.poetryName=void 0;const o=r(86700),s=r(18639),a=r(77498),c=r(13298),u=r(81387),l=r(17585),h=r(61684),p=r(3481),d=r(30135);t.poetryName="poetry";let f=class extends d.ModuleInstaller{constructor(e,t,r){super(e),this.workspaceService=t,this.configurationService=r}get name(){return"poetry"}get type(){return u.ModuleInstallerType.Poetry}get displayName(){return t.poetryName}get priority(){return 10}async isSupported(e){if(!e)return!1;if(!(0,p.isResource)(e))return!1;const t=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e),r=e?this.workspaceService.getWorkspaceFolder(e):void 0;return!(!t||!r||t.envType!==u.EnvironmentType.Poetry)&&(0,c.isPoetryEnvironmentRelatedToFolder)(t.path,r.uri.fsPath,this.configurationService.getSettings(e).poetryPath)}async getExecutionInfo(e,t){const r=this.configurationService.getSettings((0,p.isResource)(t)?t:void 0).poetryPath,n=["add","--dev",e];return"black"===e&&n.push("--allow-prereleases"),{args:n,execPath:r}}};f=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer)),i(1,(0,o.inject)(l.IWorkspaceService)),i(2,(0,o.inject)(h.IConfigurationService))],f),t.PoetryInstaller=f},80819:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInstaller=t.PythonInstaller=t.DataScienceInstaller=t.Product=void 0;const o=r(86700),s=r(36625);r(32727);const a=r(18639),c=r(77498),u=r(81387),l=r(54813),h=r(61522),p=r(29983),d=r(61684),f=r(3481),v=r(30135),y=r(92674),m=r(59747),g=r(19735),b=r(48431),_=r(17585),E=r(67098);var S=r(61684);Object.defineProperty(t,"Product",{enumerable:!0,get:function(){return S.Product}});const w=new Map([[d.Product.torchProfilerInstallName,new Set([u.EnvironmentType.Conda])]]);class T{constructor(e){this.serviceContainer=e,this.appShell=e.get(_.IApplicationShell),this.configService=e.get(d.IConfigurationService),this.workspaceService=e.get(_.IWorkspaceService),this.productService=e.get(m.IProductService),this.persistentStateFactory=e.get(d.IPersistentStateFactory)}promptToInstall(e,t,r,n){const i=t&&(0,f.isResource)(t)?this.workspaceService.getWorkspaceFolder(t):void 0,o=`${e}${i?i.uri.fsPath:""}`;if(T.PromptPromises.has(o))return T.PromptPromises.get(o);const s=this.promptToInstallImplementation(e,t,r,n);return T.PromptPromises.set(o,s),s.then((()=>T.PromptPromises.delete(o))).ignoreErrors(),s.catch((()=>T.PromptPromises.delete(o))).ignoreErrors(),s}async install(e,t,r,n,i){if(e===d.Product.unittest)return d.InstallerResponse.Installed;const o=this.serviceContainer.get(m.IInstallationChannelManager),s=await o.getInstallationChannel(e,t);return s?(await s.installModule(e,t,r,n,i).catch((t=>(0,g.traceError)(`Error in installing the product '${y.ProductNames.get(e)}', ${t}`))),this.isInstalled(e,t).then((t=>((0,l.sendTelemetryEvent)(h.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:s.displayName,productName:y.ProductNames.get(e),isInstalled:t}),t?d.InstallerResponse.Installed:d.InstallerResponse.Ignore)))):((0,l.sendTelemetryEvent)(h.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",productName:y.ProductNames.get(e)}),d.InstallerResponse.Ignore)}async isProductVersionCompatible(e,t,r){const n=await this.getProductSemVer(e,r);return n?s.satisfies(n,t)?d.ProductInstallStatus.Installed:d.ProductInstallStatus.NeedsUpgrade:d.ProductInstallStatus.NotInstalled}async getProductSemVer(e,t){const r=(0,f.isResource)(t)?void 0:t,n=(0,f.isResource)(t)?t:void 0,i=this.getExecutableNameFromSettings(e,n);let o;if(this.isExecutableAModule(e,n)){const e=await this.serviceContainer.get(p.IPythonExecutionFactory).createActivatedEnvironment({resource:n,interpreter:r,allowEnvironmentFetchExceptions:!0});o=await e.getModuleVersion(i)}else{const e=await this.serviceContainer.get(p.IProcessServiceFactory).create(n);o=(await e.exec(i,["--version"],{mergeStdOutErr:!0})).stdout.trim()}if(!o)return null;try{return s.coerce(o)}catch(t){return(0,g.traceError)(`Unable to parse version ${o} for product ${e}: `,t),null}}async isInstalled(e,t){if(e===d.Product.unittest)return!0;const r=(0,f.isResource)(t)?void 0:t,n=(0,f.isResource)(t)?t:void 0,i=this.getExecutableNameFromSettings(e,n);return this.isExecutableAModule(e,n)?(await this.serviceContainer.get(p.IPythonExecutionFactory).createActivatedEnvironment({resource:n,interpreter:r,allowEnvironmentFetchExceptions:!0})).isModuleInstalled(i):(await this.serviceContainer.get(p.IProcessServiceFactory).create(n)).exec(i,["--version"],{mergeStdOutErr:!0}).then((()=>!0)).catch((()=>!1))}getExecutableNameFromSettings(e,t){const r=this.productService.getProductType(e);return this.serviceContainer.get(m.IProductPathService,r).getExecutableNameFromSettings(e,t)}isExecutableAModule(e,t){const r=this.productService.getProductType(e);return this.serviceContainer.get(m.IProductPathService,r).isExecutableAModule(e,t)}}T.PromptPromises=new Map;class P extends T{async install(e,t,r,n){var i,o,s,a;if((0,f.isResource)(t))throw new Error("All data science packages require an interpreter be passed in");const c=t;let p=await this.serviceContainer.get(m.IInstallationChannelManager).getInstallationChannels(c);const b=(0,v.translateProductToModule)(e),_=`${(null===(i=c.version)||void 0===i?void 0:i.major)||""}.${(null===(o=c.version)||void 0===o?void 0:o.minor)||""}.${(null===(s=c.version)||void 0===s?void 0:s.patch)||""}`;if(n&&n&m.ModuleInstallFlags.installPipIfRequired&&c.envType!==u.EnvironmentType.Conda&&!p.some((e=>e.type===u.ModuleInstallerType.Pip))){const e=this.serviceContainer.getAll(m.IModuleInstaller).find((e=>e.type===u.ModuleInstallerType.Pip));e?((0,g.traceInfo)(`Installing pip as its not available to install ${b}.`),await e.installModule(d.Product.pip,c,r).catch((e=>(0,g.traceError)(`Error in installing the module '${b} as Pip could not be installed', ${e}`))),await this.isInstalled(d.Product.pip,c).then((t=>{(0,l.sendTelemetryEvent)(h.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:e.displayName,requiredInstaller:u.ModuleInstallerType.Pip,version:_,envType:c.envType,isInstalled:t,productName:y.ProductNames.get(d.Product.pip)})})).catch(f.noop),p=await this.serviceContainer.get(m.IInstallationChannelManager).getInstallationChannels(c)):((0,l.sendTelemetryEvent)(h.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:u.ModuleInstallerType.Pip,productName:y.ProductNames.get(d.Product.pip),version:_,envType:c.envType}),(0,g.traceError)("Unable to install pip when its required."))}const S=!(null===(a=w.get(e))||void 0===a?void 0:a.has(u.EnvironmentType.Conda));let T=u.ModuleInstallerType.Unknown;if(c.envType===u.EnvironmentType.Conda&&S)T=u.ModuleInstallerType.Conda;else if(c.envType!==u.EnvironmentType.Conda||S)switch(c.envType){case u.EnvironmentType.Pipenv:T=u.ModuleInstallerType.Pipenv;break;case u.EnvironmentType.Poetry:T=u.ModuleInstallerType.Poetry;break;default:T=u.ModuleInstallerType.Pip}else(0,g.traceInfo)(`Interpreter type is conda but package ${b} is not available through conda, using pip instead.`),T=u.ModuleInstallerType.Pip;const P=p.find((e=>e.type===T));return P?(await P.installModule(e,c,r,n).catch((e=>(0,g.traceError)(`Error in installing the module '${b}', ${e}`))),this.isInstalled(e,c).then((t=>((0,l.sendTelemetryEvent)(h.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:P.displayName||"",requiredInstaller:T,version:_,envType:c.envType,isInstalled:t,productName:y.ProductNames.get(e)}),t?d.InstallerResponse.Installed:d.InstallerResponse.Ignore)))):(this.appShell.showErrorMessage(E.Installer.couldNotInstallLibrary().format(b)).then(f.noop,f.noop),(0,l.sendTelemetryEvent)(h.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:T,productName:y.ProductNames.get(e),version:_,envType:c.envType}),d.InstallerResponse.Ignore)}async promptToInstallImplementation(e,t,r,n){const i=y.ProductNames.get(e);return"Yes"===await this.appShell.showErrorMessage(E.Installer.dataScienceInstallPrompt().format(i),"Yes","No")?this.install(e,t,r):d.InstallerResponse.Ignore}}t.DataScienceInstaller=P;let I=class{constructor(e){this.serviceContainer=e}async isInstalled(e,t){var r;if(e!==d.Product.python)throw new Error(`${e} cannot be installed via conda python installer`);const n=this.serviceContainer.get(a.IInterpreterService),i=(0,f.isResource)(t)?await n.getActiveInterpreter(t):t;return!i||!((null===(r=i.envPath)||void 0===r?void 0:r.length)&&i.envType===u.EnvironmentType.Conda&&!(0,b.isParentPath)(null==i?void 0:i.path,i.envPath))}async install(e,t,r,n){if(e!==d.Product.python)throw new Error(`${e} cannot be installed via python installer`);const i=this.serviceContainer.getAll(m.IModuleInstaller).find((e=>e.type===u.ModuleInstallerType.Conda));if(!i||!await i.isSupported(t))return(0,g.traceError)("Conda installer not available for installing python in the given environment"),d.InstallerResponse.Ignore;const o=(0,v.translateProductToModule)(e);return await i.installModule(d.Product.python,t,void 0,void 0,{installAsProcess:!0}).catch((e=>(0,g.traceError)(`Error in installing the module '${o}', ${e}`))),this.isInstalled(e,t).then((e=>e?d.InstallerResponse.Installed:d.InstallerResponse.Ignore))}async promptToInstall(e,t,r,n){return d.InstallerResponse.Ignore}async isProductVersionCompatible(e,t,r){return d.ProductInstallStatus.Installed}};I=n([i(0,(0,o.inject)(c.IServiceContainer))],I),t.PythonInstaller=I;let O=class{constructor(e){this.serviceContainer=e,this.productService=e.get(m.IProductService),this.interpreterService=this.serviceContainer.get(a.IInterpreterService)}dispose(){}async promptToInstall(e,t,r,n){return((0,f.isResource)(t)?await this.interpreterService.getActiveInterpreter(t):t)?this.createInstaller(e).promptToInstall(e,t,r,n):d.InstallerResponse.Ignore}async isProductVersionCompatible(e,t,r){return this.createInstaller(e).isProductVersionCompatible(e,t,r)}async install(e,t,r,n,i){return this.createInstaller(e).install(e,t,r,n,i)}async isInstalled(e,t){return this.createInstaller(e).isInstalled(e,t)}translateProductToModuleName(e){return(0,v.translateProductToModule)(e)}createInstaller(e){switch(this.productService.getProductType(e)){case d.ProductType.DataScience:return new P(this.serviceContainer);case d.ProductType.Python:return new I(this.serviceContainer)}throw new Error(`Unknown product ${e}`)}};O=n([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],O),t.ProductInstaller=O},92674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductNames=void 0;const n=r(61684);t.ProductNames=new Map,t.ProductNames.set(n.Product.autopep8,"autopep8"),t.ProductNames.set(n.Product.bandit,"bandit"),t.ProductNames.set(n.Product.black,"black"),t.ProductNames.set(n.Product.flake8,"flake8"),t.ProductNames.set(n.Product.mypy,"mypy"),t.ProductNames.set(n.Product.pycodestyle,"pycodestyle"),t.ProductNames.set(n.Product.pylama,"pylama"),t.ProductNames.set(n.Product.prospector,"prospector"),t.ProductNames.set(n.Product.pydocstyle,"pydocstyle"),t.ProductNames.set(n.Product.pylint,"pylint"),t.ProductNames.set(n.Product.pytest,"pytest"),t.ProductNames.set(n.Product.yapf,"yapf"),t.ProductNames.set(n.Product.tensorboard,"tensorboard"),t.ProductNames.set(n.Product.torchProfilerInstallName,"torch-tb-profiler"),t.ProductNames.set(n.Product.torchProfilerImportName,"torch_tb_profiler"),t.ProductNames.set(n.Product.jupyter,"jupyter"),t.ProductNames.set(n.Product.notebook,"notebook"),t.ProductNames.set(n.Product.ipykernel,"ipykernel"),t.ProductNames.set(n.Product.nbconvert,"nbconvert"),t.ProductNames.set(n.Product.kernelspec,"kernelspec"),t.ProductNames.set(n.Product.pandas,"pandas"),t.ProductNames.set(n.Product.pip,"pip"),t.ProductNames.set(n.Product.ensurepip,"ensurepip")},43942:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceProductPathService=t.BaseProductPathsService=void 0;const o=r(86700),s=r(71017),a=r(77498),c=r(61684);let u=class{constructor(e){this.serviceContainer=e,this.configService=e.get(c.IConfigurationService),this.productInstaller=e.get(c.IInstaller)}isExecutableAModule(e,t){let r;try{r=this.productInstaller.translateProductToModuleName(e)}catch(e){}const n=this.getExecutableNameFromSettings(e,t);return"string"==typeof r&&r.length>0&&s.basename(n)===n}};u=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],u),t.BaseProductPathsService=u;let l=class extends u{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.productInstaller.translateProductToModuleName(e)}};l=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],l),t.DataScienceProductPathService=l},23202:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductService=void 0;const i=r(86700),o=r(61684);let s=class{constructor(){this.ProductTypes=new Map,this.ProductTypes.set(o.Product.jupyter,o.ProductType.DataScience),this.ProductTypes.set(o.Product.notebook,o.ProductType.DataScience),this.ProductTypes.set(o.Product.ipykernel,o.ProductType.DataScience),this.ProductTypes.set(o.Product.nbconvert,o.ProductType.DataScience),this.ProductTypes.set(o.Product.kernelspec,o.ProductType.DataScience),this.ProductTypes.set(o.Product.pandas,o.ProductType.DataScience),this.ProductTypes.set(o.Product.tensorboard,o.ProductType.DataScience),this.ProductTypes.set(o.Product.torchProfilerInstallName,o.ProductType.DataScience),this.ProductTypes.set(o.Product.torchProfilerImportName,o.ProductType.DataScience),this.ProductTypes.set(o.Product.pip,o.ProductType.DataScience),this.ProductTypes.set(o.Product.ensurepip,o.ProductType.DataScience),this.ProductTypes.set(o.Product.python,o.ProductType.Python)}getProductType(e){return this.ProductTypes.get(e)}};s=n([(0,i.injectable)()],s),t.ProductService=s},34061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const n=r(61684),i=r(95939),o=r(5181),s=r(22577),a=r(36352),c=r(73300),u=r(43942),l=r(23202),h=r(59747);t.registerTypes=function(e){e.addSingleton(h.IModuleInstaller,o.CondaInstaller),e.addSingleton(h.IModuleInstaller,a.PipInstaller),e.addSingleton(h.IModuleInstaller,s.PipEnvInstaller),e.addSingleton(h.IModuleInstaller,c.PoetryInstaller),e.addSingleton(h.IInstallationChannelManager,i.InstallationChannelManager),e.addSingleton(h.IProductService,l.ProductService),e.addSingleton(h.IProductPathService,u.DataScienceProductPathService,n.ProductType.DataScience)}},59747:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleInstallFlags=t.IProductPathService=t.IProductService=t.IInstallationChannelManager=t.IPythonInstallation=t.IBaseInstaller=t.IModuleInstaller=void 0,t.IModuleInstaller=Symbol("IModuleInstaller"),t.IBaseInstaller=Symbol("IBaseInstaller"),t.IPythonInstallation=Symbol("IPythonInstallation"),t.IInstallationChannelManager=Symbol("IInstallationChannelManager"),t.IProductService=Symbol("IProductService"),t.IProductPathService=Symbol("IProductPathService"),(r=t.ModuleInstallFlags||(t.ModuleInstallFlags={}))[r.upgrade=1]="upgrade",r[r.updateDependencies=2]="updateDependencies",r[r.reInstall=4]="reInstall",r[r.installPipIfRequired=8]="installPipIfRequired"},97469:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPathService=t.defaultInterpreterPathSetting=void 0;const o=r(55674),s=r(86700),a=r(66828),c=r(19735),u=r(17585),l=r(89515),h=r(77570),p=r(48431),d=r(61684),f=r(48683);t.defaultInterpreterPathSetting="defaultInterpreterPath";const v=process.env.CI_PYTHON_PATH&&o.existsSync(process.env.CI_PYTHON_PATH)?process.env.CI_PYTHON_PATH:"python";let y=class{constructor(e,t,r){this.persistentStateFactory=e,this.workspaceService=t,this._didChangeInterpreterEmitter=new a.EventEmitter,r.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this))),this.fileSystemPaths=p.FileSystemPaths.withDefaults()}get onDidChange(){return this._didChangeInterpreterEmitter.event}async onDidChangeConfiguration(e){e.affectsConfiguration(`python.${t.defaultInterpreterPathSetting}`)&&this._didChangeInterpreterEmitter.fire({uri:void 0,configTarget:a.ConfigurationTarget.Global})}inspect(e){var t,r;let n,i;(e=l.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri)&&(n=this.persistentStateFactory.createGlobalPersistentState(this.getSettingKey(e,a.ConfigurationTarget.WorkspaceFolder),void 0),i=this.persistentStateFactory.createGlobalPersistentState(this.getSettingKey(e,a.ConfigurationTarget.Workspace),void 0));const o=null!==(r=null===(t=this.workspaceService.getConfiguration("python",e))||void 0===t?void 0:t.inspect("defaultInterpreterPath"))&&void 0!==r?r:{};return{globalValue:o.globalValue,workspaceFolderValue:(null==n?void 0:n.value)||o.workspaceFolderValue,workspaceValue:(null==i?void 0:i.value)||o.workspaceValue}}get(e){var t;const r=this.inspect(e),n=r.workspaceFolderValue||r.workspaceValue||r.globalValue||((0,h.isTestExecution)()?v:"python");return new f.SystemVariables(void 0,null===(t=this.workspaceService.getWorkspaceFolder(e))||void 0===t?void 0:t.uri.fsPath,this.workspaceService).resolveAny(n)}async update(e,t,r){if(e=l.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri,t===a.ConfigurationTarget.Global){const e=this.workspaceService.getConfiguration("python");return void(e.inspect("defaultInterpreterPath").globalValue!==r&&(await e.update("defaultInterpreterPath",r,!0),this._didChangeInterpreterEmitter.fire({uri:void 0,configTarget:t})))}if(!e)return void(0,c.traceError)("Cannot update workspace settings as no workspace is opened");const n=this.getSettingKey(e,t),i=this.persistentStateFactory.createGlobalPersistentState(n,void 0);i.value!==r&&(await i.updateValue(r),this._didChangeInterpreterEmitter.fire({uri:e,configTarget:t}))}getSettingKey(e,t){let r;const n=this.workspaceService.getWorkspaceFolderIdentifier(e);return r=t===a.ConfigurationTarget.WorkspaceFolder?`WORKSPACE_FOLDER_INTERPRETER_PATH_${n}`:this.workspaceService.workspaceFile?`WORKSPACE_INTERPRETER_PATH_${this.fileSystemPaths.normCase(this.workspaceService.workspaceFile.fsPath)}`:`WORKSPACE_FOLDER_INTERPRETER_PATH_${n}`,r}};y=n([(0,s.injectable)(),i(0,(0,s.inject)(d.IPersistentStateFactory)),i(1,(0,s.inject)(u.IWorkspaceService)),i(2,(0,s.inject)(d.IDisposableRegistry))],y),t.InterpreterPathService=y},21621:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserService=t.launch=void 0;const i=r(86700),o=r(66828);function s(e){o.env.openExternal(o.Uri.parse(e))}t.launch=s;let a=class{launch(e){s(e)}};a=n([(0,i.injectable)()],a),t.BrowserService=a},39425:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileDownloader=void 0;const o=r(86700),s=r(19735),a=r(17585),c=r(77570),u=r(84974),l=r(61684),h=r(67098),p=r(3481);let d=class{constructor(e,t,r){this.httpClient=e,this.fs=t,this.appShell=r}async downloadFile(e,t){(0,s.traceLog)(h.Http.downloadingFile().format(e));const r=await this.fs.createTemporaryFile(t.extension);return await this.downloadFileWithStatusBarProgress(e,t.progressMessagePrefix,r.filePath).then(p.noop,(e=>(r.dispose(),Promise.reject(e)))),r.filePath}async downloadFileWithStatusBarProgress(e,t,r){await this.appShell.withProgressCustomIcon(c.Octicons.Downloading,(async n=>{const i=await this.httpClient.downloadFile(e),o=this.fs.createWriteStream(r);return this.displayDownloadProgress(e,n,i,o,t)}))}async displayDownloadProgress(e,t,n,i,o){return new Promise(((s,a)=>{n.on("response",(t=>{200!==t.statusCode&&a(new Error(`Failed with status ${t.statusCode}, ${t.statusMessage}, Uri ${e}`))})),r(95095)(n).on("progress",(e=>{const r=function(e,t){const r=Math.round(t.size.transferred/1024),n=Math.round(t.size.total/1024),i=Math.round(100*t.percent);return h.Http.downloadingFileProgress().format(e,r.toString(),n.toString(),i.toString())}(o,e);t.report({message:r})})).on("error",a).pipe(i).on("error",a).on("close",s)}))}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(l.IHttpClient)),i(1,(0,o.inject)(u.IFileSystem)),i(2,(0,o.inject)(a.IApplicationShell))],d),t.FileDownloader=d},90220:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;const o=r(86700),s=r(60516),a=r(77498),c=r(19735),u=r(17585);let l=class{constructor(e){const t=e.get(u.IWorkspaceService);this.requestOptions={proxy:t.getConfiguration("http").get("proxy","")}}async downloadFile(e){return(await Promise.resolve().then((()=>r(48663))))(e,this.requestOptions)}async getJSON(e,t=!0){const r=await this.getContents(e);return this.parseBodyToJSON(r,t)}async parseBodyToJSON(e,t){if(t)return JSON.parse(e);{let t=[];const r=(0,s.parse)(e,t,{allowTrailingComma:!0,disallowComments:!1});return t.length>0&&(0,c.traceError)("JSONC parser returned ParseError codes",t),r}}async exists(e){const t=r(48663);return new Promise((r=>{try{t.get(e,this.requestOptions).on("response",(e=>r(200===e.statusCode))).on("error",(()=>r(!1)))}catch(e){r(!1)}}))}async getContents(e){const t=r(48663);return new Promise(((r,n)=>{t(e,this.requestOptions,((t,i,o)=>t?n(t):200!==i.statusCode?n(new Error(`Failed with status ${i.statusCode}, ${i.statusMessage}, Uri ${e}`)):void r(o)))}))}};l=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],l),t.HttpClient=l},73766:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalStorage=t.PersistentStateFactory=t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED=t.GLOBAL_PERSISTENT_KEYS_DEPRECATED=t.PersistentState=void 0;const o=r(86700),s=r(19735),a=r(17585),c=r(77570),u=r(61684),l=r(36952);class h{constructor(e,t,r,n){this.storage=e,this.key=t,this.defaultValue=r,this.expiryDurationMs=n}get value(){if(this.expiryDurationMs){const e=this.storage.get(this.key,{data:this.defaultValue});return!e||!e.expiry||e.expiry<Date.now()?this.defaultValue:e.data}return this.storage.get(this.key,this.defaultValue)}async updateValue(e){try{this.expiryDurationMs?await this.storage.update(this.key,{data:e,expiry:Date.now()+this.expiryDurationMs}):await this.storage.update(this.key,e)}catch(e){(0,s.traceError)("Error while updating storage for key:",this.key,e)}}}t.PersistentState=h,t.GLOBAL_PERSISTENT_KEYS_DEPRECATED="PYTHON_EXTENSION_GLOBAL_STORAGE_KEYS",t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED="PYTHON_EXTENSION_WORKSPACE_STORAGE_KEYS";const p="PYTHON_GLOBAL_STORAGE_KEYS";let d=class{constructor(e,t,r){this.globalState=e,this.workspaceState=t,this.cmdManager=r,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this._globalKeysStorage=new h(this.globalState,p,[]),this._workspaceKeysStorage=new h(this.workspaceState,"PYTHON_WORKSPACE_STORAGE_KEYS",[]),this.cleanedOnce=!1}async activate(){var e;null===(e=this.cmdManager)||void 0===e||e.registerCommand(c.Commands.ClearStorage,this.cleanAllPersistentStates.bind(this));const r=this.createGlobalPersistentState(t.GLOBAL_PERSISTENT_KEYS_DEPRECATED,[]),n=this.createWorkspacePersistentState(t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED,[]);r.value.length>0&&r.updateValue([]).ignoreErrors(),n.value.length>0&&n.updateValue([]).ignoreErrors()}createGlobalPersistentState(e,t,r){return this.addKeyToStorage("global",e,t).ignoreErrors(),new h(this.globalState,e,t,r)}createWorkspacePersistentState(e,t,r){return this.addKeyToStorage("workspace",e,t).ignoreErrors(),new h(this.workspaceState,e,t,r)}async addKeyToStorage(e,t,r){const n="global"===e?this._globalKeysStorage:this._workspaceKeysStorage;n.value.find((e=>e.key===t))||await n.updateValue([{key:t,defaultValue:r},...n.value])}async cleanAllPersistentStates(){this.cleanedOnce?(0,s.traceError)("Storage can only be cleaned once per session, reload window."):(await Promise.all(this._globalKeysStorage.value.map((async e=>{const t=this.createGlobalPersistentState(e.key);await t.updateValue(e.defaultValue)}))),await Promise.all(this._workspaceKeysStorage.value.map((async e=>{const t=this.createWorkspacePersistentState(e.key);await t.updateValue(e.defaultValue)}))),await this._globalKeysStorage.updateValue([]),await this._workspaceKeysStorage.updateValue([]),this.cleanedOnce=!0,(0,s.traceVerbose)("Finished clearing storage."))}};n([(0,l.cache)(-1,!0)],d.prototype,"addKeyToStorage",null),d=n([(0,o.injectable)(),i(0,(0,o.inject)(u.IMemento)),i(0,(0,o.named)(u.GLOBAL_MEMENTO)),i(1,(0,o.inject)(u.IMemento)),i(1,(0,o.named)(u.WORKSPACE_MEMENTO)),i(2,(0,o.inject)(a.ICommandManager))],d),t.PersistentStateFactory=d,t.getGlobalStorage=function(e,t,r){const n=new h(e.globalState,p,[]);if(!n.value.find((e=>e.key===t&&e.defaultValue===r))){const e=[{key:t,defaultValue:r},...n.value];n.updateValue(e).ignoreErrors()}const i=new h(e.globalState,t,r);return{get:()=>i.value,set:e=>i.updateValue(e)}}},93666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_WINDOWS=void 0,t.IS_WINDOWS=/^win/.test(process.platform)},95311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNoPermissionsError=t.isNotDirError=t.isFileIsDirError=t.isFileExistsError=t.isFileNotFoundError=t.createDirNotEmptyError=void 0;const n=r(66828);var i;function o(e,t){const r=e.code;if(r)return r===t}!function(e){const t=n.FileSystemError.FileNotFound().name,r=n.FileSystemError.FileExists().name,i=n.FileSystemError.FileIsADirectory().name,o=n.FileSystemError.FileNotADirectory().name,s=n.FileSystemError.NoPermissions().name,a=[t,r,i,o,s];function c(e,t){if(a.includes(e.name))return e.name===t}e.isFileNotFound=function(e){return c(e,t)},e.isFileExists=function(e){return c(e,r)},e.isFileIsDir=function(e){return c(e,i)},e.isNotDir=function(e){return c(e,o)},e.isNoPermissions=function(e){return c(e,s)}}(i||(i={})),t.createDirNotEmptyError=function(e){const t=new Error(`directory "${e}" not empty`);return t.name="SystemError",t.code="ENOTEMPTY",t.path=e,t.syscall="rmdir",t},t.isFileNotFoundError=function(e){const t=e,r=i.isFileNotFound(t);return void 0!==r?r:o(t,"ENOENT")},t.isFileExistsError=function(e){const t=e,r=i.isFileExists(t);return void 0!==r?r:o(t,"EEXIST")},t.isFileIsDirError=function(e){const t=i.isFileIsDir(e);return void 0!==t?t:o(e,"EISDIR")},t.isNotDirError=function(e){const t=i.isNotDir(e);return void 0!==t?t:o(e,"ENOTDIR")},t.isNoPermissionsError=function(e){const t=e,r=i.isNoPermissions(t);return void 0!==r?r:o(t,"EACCES")}},90209:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystem=t.getHashString=t.FileSystemUtils=t.RawFileSystem=t.convertStat=void 0;const i=r(6113),o=r(55674),s=r(12884),a=r(86700),c=r(73837),u=r(66828),l=r(19735);r(32727);const h=r(56091),p=r(95311),d=r(48431),f=r(22512),v=r(84974),y="utf8";function m(e,t){return{type:t,size:e.size,ctime:Math.round(e.ctimeMs),mtime:Math.round(e.mtimeMs)}}function g(e,t){return t===v.FileType.Unknown?e.filter((([e,t])=>t===v.FileType.Unknown||t===(v.FileType.SymbolicLink&v.FileType.Unknown))):e.filter((([e,r])=>(r&t)>0))}t.convertStat=m;class b{constructor(e,t,r){this.paths=e,this.vscfs=t,this.fsExtra=r}static withDefaults(e,t,r){return new b(e||d.FileSystemPaths.withDefaults(),t||u.workspace.fs,r||o)}async pathExists(e){return this.fsExtra.pathExists(e)}async stat(e){const t=u.Uri.file(e);return this.vscfs.stat(t)}async lstat(e){const t=await this.fsExtra.lstat(e);return m(t,(0,h.convertFileType)(t))}async chmod(e,t){return this.fsExtra.chmod(e,t)}async move(e,t){const r=u.Uri.file(e),n=u.Uri.file(t);await this.vscfs.stat(u.Uri.file(this.paths.dirname(t)));const i={overwrite:!1};try{await this.vscfs.rename(r,n,i)}catch(e){if(!(0,p.isFileExistsError)(e))throw e;if((await this.vscfs.stat(n)).type===v.FileType.Directory)throw e;i.overwrite=!0,await this.vscfs.rename(r,n,i)}}async readData(e){const t=u.Uri.file(e),r=await this.vscfs.readFile(t);return Buffer.from(r)}async readText(e){const t=u.Uri.file(e),r=await this.vscfs.readFile(t);return Buffer.from(r).toString(y)}async writeText(e,t){const r=u.Uri.file(e),n=Buffer.from(t);await this.vscfs.writeFile(r,n)}async appendText(e,t){return this.fsExtra.appendFile(e,t)}async copyFile(e,t){const r=u.Uri.file(e),n=u.Uri.file(t);await this.vscfs.stat(u.Uri.file(this.paths.dirname(t))),await this.vscfs.copy(r,n,{overwrite:!0})}async rmfile(e){const t=u.Uri.file(e);return this.vscfs.delete(t,{recursive:!1,useTrash:!1})}async rmdir(e){const t=u.Uri.file(e),r=await this.vscfs.readDirectory(t);if(r&&r.length>0)throw(0,p.createDirNotEmptyError)(e);return this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async rmtree(e){const t=u.Uri.file(e);return await this.vscfs.stat(t),this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async mkdirp(e){const t=u.Uri.file(e);await this.vscfs.createDirectory(t)}async listdir(e){const t=u.Uri.file(e);return(await this.vscfs.readDirectory(t)).map((([t,r])=>[this.paths.join(e,t),r]))}statSync(e){let t=this.fsExtra.lstatSync(e),r=v.FileType.Unknown;return t.isSymbolicLink()&&(r=v.FileType.SymbolicLink,t=this.fsExtra.statSync(e)),r|=(0,h.convertFileType)(t),m(t,r)}readTextSync(e){return this.fsExtra.readFileSync(e,y)}createReadStream(e){return this.fsExtra.createReadStream(e)}createWriteStream(e){return this.fsExtra.createWriteStream(e)}}t.RawFileSystem=b;class _{constructor(e,t,r,n,i,o){this.raw=e,this.pathUtils=t,this.paths=r,this.tmp=n,this.getHash=i,this.globFiles=o}static withDefaults(e,t,r,n,i){return t=t||d.FileSystemPathUtils.withDefaults(),new _(e||b.withDefaults(t.paths),t,t.paths,r||f.TemporaryFileSystem.withDefaults(),n||E,i||(0,c.promisify)(s))}async createDirectory(e){return this.raw.mkdirp(e)}async deleteDirectory(e){return this.raw.rmdir(e)}async deleteFile(e){return this.raw.rmfile(e)}async pathExists(e,t){if(void 0===t)return this.raw.pathExists(e);let r;try{r=await this.raw.stat(e)}catch(t){return(0,p.isFileNotFoundError)(t)||(0,l.traceError)(`stat() failed for "${e}"`,t),!1}return t===v.FileType.Unknown?r.type===v.FileType.Unknown:(r.type&t)===t}async fileExists(e){return this.pathExists(e,v.FileType.File)}async directoryExists(e){return this.pathExists(e,v.FileType.Directory)}async listdir(e){try{return await this.raw.listdir(e)}catch(t){if(!await this.pathExists(e))return[];throw t}}async getSubDirectories(e){return g(await this.listdir(e),v.FileType.Directory).map((([e,t])=>e))}async getFiles(e){return g(await this.listdir(e),v.FileType.File).map((([e,t])=>e))}async isDirReadonly(e){const t=`${e}${this.paths.sep}___vscpTest___`;try{await this.raw.stat(e),await this.raw.writeText(t,"")}catch(e){if((0,p.isNoPermissionsError)(e))return!0;throw e}return this.raw.rmfile(t).ignoreErrors(),!1}async getFileHash(e){const t=await this.raw.lstat(e),r=`${t.ctime}-${t.mtime}`;return this.getHash(r)}async search(e,t,r){let n;t&&(n={...n,cwd:t}),r&&(n={...n,dot:r});const i=await this.globFiles(e,n);return Array.isArray(i)?i:[]}fileExistsSync(e){try{this.raw.statSync(e)}catch(e){if((0,p.isFileNotFoundError)(e))return!1;throw e}return!0}}function E(e){const t=(0,i.createHash)("sha512");return t.update(e),t.digest("hex")}t.FileSystemUtils=_,t.getHashString=E;let S=class{constructor(){this.utils=_.withDefaults()}get directorySeparatorChar(){return this.utils.paths.sep}arePathsSame(e,t){return this.utils.pathUtils.arePathsSame(e,t)}getDisplayName(e){return this.utils.pathUtils.getDisplayName(e)}async stat(e){return this.utils.raw.stat(e)}async createDirectory(e){return this.utils.createDirectory(e)}async deleteDirectory(e){return this.utils.deleteDirectory(e)}async listdir(e){return this.utils.listdir(e)}async readFile(e){return this.utils.raw.readText(e)}async readData(e){return this.utils.raw.readData(e)}async writeFile(e,t){return this.utils.raw.writeText(e,t)}async appendFile(e,t){return this.utils.raw.appendText(e,t)}async copyFile(e,t){return this.utils.raw.copyFile(e,t)}async deleteFile(e){return this.utils.deleteFile(e)}async chmod(e,t){return this.utils.raw.chmod(e,t)}async move(e,t){await this.utils.raw.move(e,t)}readFileSync(e){return this.utils.raw.readTextSync(e)}createReadStream(e){return this.utils.raw.createReadStream(e)}createWriteStream(e){return this.utils.raw.createWriteStream(e)}async fileExists(e){return this.utils.fileExists(e)}pathExists(e){return this.utils.pathExists(e)}fileExistsSync(e){return this.utils.fileExistsSync(e)}async directoryExists(e){return this.utils.directoryExists(e)}async getSubDirectories(e){return this.utils.getSubDirectories(e)}async getFiles(e){return this.utils.getFiles(e)}async getFileHash(e){return this.utils.getFileHash(e)}async search(e,t,r){return this.utils.search(e,t,r)}async createTemporaryFile(e,t){return this.utils.tmp.createFile(e,t)}async isDirReadonly(e){return this.utils.isDirReadonly(e)}};S=n([(0,a.injectable)()],S),t.FileSystem=S},88409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchLocationForPattern=t.FileChangeType=void 0;const n=r(66828),i=r(19735),o=r(81837);var s;!function(e){e.Changed="changed",e.Created="created",e.Deleted="deleted"}(s=t.FileChangeType||(t.FileChangeType={})),t.watchLocationForPattern=function(e,t,r){const a=new n.RelativePattern(e,t),c=new o.Disposables;(0,i.traceVerbose)(`Start watching: ${e} with pattern ${t} using VSCode API`);try{const e=n.workspace.createFileSystemWatcher(a);c.push(e.onDidCreate((e=>r(s.Created,e.fsPath)))),c.push(e.onDidChange((e=>r(s.Changed,e.fsPath)))),c.push(e.onDidDelete((e=>r(s.Deleted,e.fsPath))))}catch(r){(0,i.traceError)(`Failed to create File System watcher for patter ${t} in ${e}`,r)}return c}},48431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arePathsSame=t.isParentPath=t.normCasePath=t.FileSystemPathUtils=t.Executables=t.FileSystemPaths=void 0;const n=r(71017),i=r(47237),o=r(87450),s=r(58967);class a{constructor(e,t){this.isCaseInsensitive=e,this.raw=t}static withDefaults(e){return void 0===e&&(e=(0,o.getOSType)()===o.OSType.Windows),new a(e,n)}get sep(){return this.raw.sep}join(...e){return this.raw.join(...e)}dirname(e){return this.raw.dirname(e)}basename(e,t){return this.raw.basename(e,t)}normalize(e){return this.raw.normalize(e)}normCase(e){return e=this.raw.normalize(e),this.isCaseInsensitive?e.toUpperCase():e}}t.FileSystemPaths=a;class c{constructor(e,t){this.delimiter=e,this.osType=t}static withDefaults(){return new c(n.delimiter,(0,o.getOSType)())}get envVar(){return(0,i.getSearchPathEnvVarNames)(this.osType)[0]}}t.Executables=c;class u{constructor(e,t,r,n){this.home=e,this.paths=t,this.executables=r,this.raw=n}static withDefaults(e){return void 0===e&&(e=a.withDefaults()),new u(s("~"),e,c.withDefaults(),n)}arePathsSame(e,t){return(e=this.paths.normCase(e))===this.paths.normCase(t)}getDisplayName(e,t){return t&&h(e,t)?`.${this.paths.sep}${this.raw.relative(t,e)}`:h(e,this.home)?`~${this.paths.sep}${this.raw.relative(this.home,e)}`:e}}function l(e){return(0,o.getOSType)()===o.OSType.Windows?n.normalize(e).toUpperCase():n.normalize(e)}function h(e,t){return t.endsWith(n.sep)||(t+=n.sep),e.endsWith(n.sep)||(e+=n.sep),l(e).startsWith(l(t))}t.FileSystemPathUtils=u,t.normCasePath=l,t.isParentPath=h,t.arePathsSame=function(e,t){return l(e)===l(t)}},22512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemporaryFileSystem=void 0;const n=r(36276);class i{constructor(e){this.raw=e}static withDefaults(){return new i(n)}createFile(e,t){const r={postfix:e,mode:t};return new Promise(((e,t)=>{this.raw.file(r,((r,n,i,o)=>{if(r)return t(r);e({filePath:n,dispose:o})}))}))}}t.TemporaryFileSystem=i},79434:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PathUtils=void 0;const o=r(86700),s=r(71017),a=r(61684),c=r(87450),u=r(48431),l=r(58967);let h=class{constructor(e){const t=e?c.OSType.Windows:c.OSType.Unknown;this.utils=new u.FileSystemPathUtils(l("~"),u.FileSystemPaths.withDefaults(),new u.Executables(s.delimiter,t),s)}get home(){return this.utils.home}get delimiter(){return this.utils.executables.delimiter}get separator(){return this.utils.paths.sep}getPathVariableName(){return this.utils.executables.envVar}getDisplayName(e,t){return this.utils.getDisplayName(e,t)}basename(e,t){return this.utils.paths.basename(e,t)}};h=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IsWindows))],h),t.PathUtils=h},65243:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformService=void 0;const i=r(86700),o=r(22037),s=r(36625),a=r(47237),c=r(87450),u=r(52439);let l=class{constructor(){this.osType=(0,c.getOSType)()}get pathVariableName(){return(0,a.getSearchPathEnvVarNames)(this.osType)[0]}get virtualEnvBinName(){return this.isWindows?"Scripts":"bin"}async getVersion(){if(this.version)return this.version;switch(this.osType){case c.OSType.Windows:case c.OSType.OSX:try{const e=(0,s.coerce)(o.release());if(e)return this.version=e,this.version;throw new Error("Unable to parse version")}catch(e){return(0,u.parseSemVerSafe)(o.release())}default:throw new Error("Not Supported")}}get isWindows(){return this.osType===c.OSType.Windows}get isMac(){return this.osType===c.OSType.OSX}get isLinux(){return this.osType===c.OSType.Linux}get osRelease(){return o.release()}get is64bit(){return(0,c.getArchitecture)()===c.Architecture.x64}};l=n([(0,i.injectable)()],l),t.PlatformService=l},3522:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.getArchitectureDisplayName=t.RegistryImplementation=void 0;const i=r(86700),o=r(19735),s=r(87450),a=r(84974);var c;!function(e){e.x86="x86",e.x64="x64"}(c||(c={}));let u=class{async getKeys(e,t,n){return async function(e){const t=r(1283);return new Promise((r=>{new t(e).keys(((e,t)=>{if(e||!Array.isArray(t))return r([]);r(t.filter((e=>"string"==typeof e.key)).map((e=>e.key)))}))}))}({hive:h(t),arch:l(n),key:e}).catch((e=>((0,o.traceError)("Fetching keys from windows registry resulted in an error",e),[])))}async getValue(e,t,n,i=""){return async function(e,t=""){const n=r(1283);return new Promise((r=>{new n(e).get(t,((e,t)=>{if(e||!t||"string"!=typeof t.value)return r(void 0);r(t.value)}))}))}({hive:h(t),arch:l(n),key:e},i).catch((e=>{(0,o.traceError)("Fetching key value from windows registry resulted in an error",e)}))}};function l(e){switch(e){case s.Architecture.x86:return c.x86;case s.Architecture.x64:return c.x64;default:return}}function h(e){const t=r(1283);switch(e){case a.RegistryHive.HKCU:return t.HKCU;case a.RegistryHive.HKLM:return t.HKLM;default:return}}u=n([(0,i.injectable)()],u),t.RegistryImplementation=u,t.getArchitectureDisplayName=function(e){switch(e){case s.Architecture.x64:return"64-bit";case s.Architecture.x86:return"32-bit";default:return""}}},29992:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const n=r(90209),i=r(65243),o=r(3522),s=r(84974);t.registerTypes=function(e){e.addSingleton(s.IPlatformService,i.PlatformService),e.addSingleton(s.IFileSystem,n.FileSystem),e.addSingleton(s.IRegistry,o.RegistryImplementation)}},84974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFileSystem=t.IFileSystemPathUtils=t.IPlatformService=t.IRegistry=t.RegistryHive=t.FileType=void 0;const n=r(66828);var i;t.FileType=n.FileType,(i=t.RegistryHive||(t.RegistryHive={}))[i.HKCU=0]="HKCU",i[i.HKLM=1]="HKLM",t.IRegistry=Symbol("IRegistry"),t.IPlatformService=Symbol("IPlatformService"),t.IFileSystemPathUtils=Symbol("IFileSystemPathUtils"),t.IFileSystem=Symbol("IFileSystem")},93289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENCODING=void 0,t.DEFAULT_ENCODING="utf8"},20900:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentProcess=void 0;const i=r(86700);let o=class{constructor(){this.on=(e,t)=>(process.on(e,t),process)}get env(){return process.env}get argv(){return process.argv}get stdout(){return process.stdout}get stdin(){return process.stdin}get execPath(){return process.execPath}};o=n([(0,i.injectable)()],o),t.CurrentProcess=o},73153:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecoder=void 0;const i=r(4914),o=r(86700),s=r(93289);let a=class{decode(e,t=s.DEFAULT_ENCODING){return t=i.encodingExists(t)?t:s.DEFAULT_ENCODING,i.decode(Buffer.concat(e),t)}};a=n([(0,o.injectable)()],a),t.BufferDecoder=a},31776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModuleVersion=t.isModuleInstalled=t.isValid=t.getUserSitePackages=t.getSitePackages=t.getExecutable=t.getSysPrefix=t.execModule=t.execCode=void 0,t.execCode=function(e){return["-c",e]},t.execModule=function(e,t){return["-m",e,...t]},t.getSysPrefix=function(){return[["-c","import sys;print(sys.prefix)"],function(e){return e.trim()}]},t.getExecutable=function(){return[["-c","import sys;print(sys.executable)"],function(e){return e.trim()}]},t.getSitePackages=function(){return[["-c","from distutils.sysconfig import get_python_lib; print(get_python_lib())"],function(e){return e.trim()}]},t.getUserSitePackages=function(){return[["site","--user-site"],function(e){return e.trim()}]},t.isValid=function(){return[["-c","print(1234)"],function(e){return e.startsWith("1234")}]},t.isModuleInstalled=function(e){return[["-c",`import ${e}`],function(e){return!0}]},t.getModuleVersion=function(e){return[["-c",`import ${e}; print(${e}.__version__)`],function(e){return e.trim()}]}},48266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._SCRIPTS_DIR=void 0;const n=r(71017),i=r(77570);t._SCRIPTS_DIR=n.join(i.EXTENSION_ROOT_DIR,"pythonFiles")},4057:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linterScript=t.tensorboardLauncher=t.visualstudio_py_testlauncher=t.testlauncher=t.shell_exec=t.printEnvVariables=t.normalizeSelection=t.sortImports=t.interpreterInfo=t.OUTPUT_MARKER_SCRIPT=t.testingTools=void 0;const n=r(71017),i=r(48266),o=i._SCRIPTS_DIR;t.testingTools=r(81036),t.OUTPUT_MARKER_SCRIPT=n.join(i._SCRIPTS_DIR,"get_output_via_markers.py"),t.interpreterInfo=function(){const e=[n.join(o,"interpreterInfo.py")];return[e,function(t){let r;try{r=JSON.parse(t)}catch(r){throw Error(`python ${e} returned bad JSON (${t}) (${r})`)}return r}]},t.sortImports=function(e,t){const r=[n.join(o,"sortImports.py"),e,"--diff"];return t&&r.push(...t),[r,function(e){return e}]},t.normalizeSelection=function(){return[[n.join(o,"normalizeSelection.py")],function(e){return e}]},t.printEnvVariables=function(){return[[n.join(o,"printEnvVariables.py").fileToCommandArgumentForPythonExt()],function(e){return JSON.parse(e)}]},t.shell_exec=function(e,t,r){return[n.join(o,"shell_exec.py"),e.fileToCommandArgumentForPythonExt(),...r,t.fileToCommandArgumentForPythonExt()]},t.testlauncher=function(e){return[n.join(o,"testlauncher.py"),...e]},t.visualstudio_py_testlauncher=function(e){return[n.join(o,"visualstudio_py_testlauncher.py"),...e]},t.tensorboardLauncher=function(e){return[n.join(o,"tensorboard_launcher.py"),...e]},t.linterScript=function(){return n.join(o,"linter.py")}},81036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unittestDiscovery=t.runAdapter=void 0;const n=r(71017),i=r(48266),o=n.join(i._SCRIPTS_DIR,"testing_tools");t.runAdapter=function(e){return[n.join(o,"run_adapter.py"),...e]},t.unittestDiscovery=function(e){return[n.join(o,"unittest_discovery.py"),...e]}},34581:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessLogger=void 0;const o=r(86700),s=r(19735),a=r(17585),c=r(77570),u=r(67098),l=r(87450);let h=class{constructor(e){this.workspaceService=e}logProcess(e,t,r){if(!(0,c.isTestExecution)()&&c.isCI&&process.env.UITEST_DISABLE_PROCESS_LOGGING)return;let n=t?[e,...t].map((e=>e.trimQuotes().toCommandArgumentForPythonExt())).join(" "):e;const i=[`> ${this.getDisplayCommands(n)}`];r&&r.cwd&&i.push(`${u.Logging.currentWorkingDirectory()} ${this.getDisplayCommands(r.cwd)}`),i.forEach((e=>{(0,s.traceLog)(e)}))}getDisplayCommands(e){this.workspaceService.workspaceFolders&&1===this.workspaceService.workspaceFolders.length&&(e=p(e,this.workspaceService.workspaceFolders[0].uri.fsPath,"."));const t=(0,l.getUserHomeDir)();return t&&(e=p(e,t,"~")),e}};function p(e,t,r){const n=t.replaceAll("\\",(0,l.getOSType)()===l.OSType.Windows?"(\\\\|/)":"\\\\");let i=new RegExp(n,"ig");return e.replace(i,r)}h=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService))],h),t.ProcessLogger=h},66462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessService=void 0;const n=r(82361),i=r(19735),o=r(18699);class s extends n.EventEmitter{constructor(e,t){super(),this.decoder=e,this.env=t,this.processesToKill=new Set}static isAlive(e){try{return process.kill(e,0),!0}catch(e){return!1}}static kill(e){(0,o.killPid)(e)}dispose(){this.removeAllListeners(),this.processesToKill.forEach((e=>{try{e.dispose()}catch(e){}}))}execObservable(e,t,r={}){const n=(0,o.execObservable)(e,t,r,this.decoder,this.env,this.processesToKill);return this.emit("exec",e,t,r),n}exec(e,t,r={}){const n=(0,o.plainExec)(e,t,r,this.decoder,this.env,this.processesToKill);return this.emit("exec",e,t,r),n}shellExec(e,t={}){this.emit("exec",e,void 0,t);const r=new Set;return(0,o.shellExec)(e,t,this.env,r).finally((()=>{r.forEach((t=>{try{t.dispose()}catch(t){(0,i.traceError)(`Unable to kill process for ${e}`)}}))}))}}t.ProcessService=s},98065:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessServiceFactory=void 0;const o=r(86700),s=r(61684),a=r(19909),c=r(66462),u=r(29983);let l=class{constructor(e,t,r,n){this.envVarsService=e,this.processLogger=t,this.decoder=r,this.disposableRegistry=n}async create(e){const t=await this.envVarsService.getEnvironmentVariables(e),r=new c.ProcessService(this.decoder,t);return this.disposableRegistry.push(r),r.on("exec",this.processLogger.logProcess.bind(this.processLogger))}};l=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IEnvironmentVariablesProvider)),i(1,(0,o.inject)(u.IProcessLogger)),i(2,(0,o.inject)(u.IBufferDecoder)),i(3,(0,o.inject)(s.IDisposableRegistry))],l),t.ProcessServiceFactory=l},3672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWindowsStoreEnv=t.createCondaEnv=t.createPythonEnv=void 0;const n=r(71017),i=r(19735),o=r(75470),s=r(24708),a=r(93400),c=r(69554),u=r(31776);class l{constructor(e,t){this.pythonPath=e,this.deps=t,this.cachedExecutablePath=new Map,this.cachedInterpreterInformation=null}getExecutionInfo(e=[],t){const r=this.deps.getPythonArgv(this.pythonPath);return(0,s.buildPythonExecInfo)(r,e,t)}getExecutionObservableInfo(e=[],t){const r=this.deps.getObservablePythonArgv(this.pythonPath);return(0,s.buildPythonExecInfo)(r,e,t)}async getInterpreterInformation(){return null===this.cachedInterpreterInformation&&(this.cachedInterpreterInformation=await this.getInterpreterInformationImpl()),this.cachedInterpreterInformation}async getExecutablePath(){if(await this.deps.isValidExecutable(this.pythonPath))return this.pythonPath;const e=this.cachedExecutablePath.get(this.pythonPath);if(void 0!==e)return e;const t=this.getExecutionInfo(),r=(0,a.getExecutablePath)(t,this.deps.shellExec);return this.cachedExecutablePath.set(this.pythonPath,r),r}async getModuleVersion(e){const[t,r]=u.getModuleVersion(e),n=this.getExecutionInfo(t);let o;try{o=await this.deps.exec(n.command,n.args)}catch(t){return void(0,i.traceInfo)(`Error when getting version of module ${e}`,t)}return r(o.stdout)}async isModuleInstalled(e){const[t]=u.isModuleInstalled(e),r=this.getExecutionInfo(t);try{await this.deps.exec(r.command,r.args)}catch(t){return(0,i.traceInfo)(`Error when checking if module is installed ${e}`,t),!1}return!0}async getInterpreterInformationImpl(){try{const e=this.getExecutionInfo();return await(0,c.getInterpreterInfo)(e,this.deps.shellExec,{info:i.traceInfo,error:i.traceError})}catch(e){(0,i.traceError)(`Failed to get interpreter information for '${this.pythonPath}'`,e)}}}function h(e,t,r,i,o){return{getPythonArgv:e=>(n.basename(e)===e&&(t=e.split(" ")),t||[e]),getObservablePythonArgv:e=>(n.basename(e)===e&&(r=e.split(" ")),r||[e]),isValidExecutable:e,exec:async(e,t)=>i(e,t,{throwOnStdErr:!0}),shellExec:o}}t.createPythonEnv=function(e,t,r){const n=h((async e=>r.pathExists(e)),void 0,void 0,((e,r,n)=>t.exec(e,r,n)),((e,r)=>t.shellExec(e,r)));return new l(e,n)},t.createCondaEnv=async function(e,t,r){const n=await o.Conda.getConda(),i=await(null==n?void 0:n.getRunPythonArgs({name:e.name,prefix:e.path}));if(!i)return;const s=h((async e=>r.pathExists(e)),i,i,((e,r,n)=>t.exec(e,r,n)),((e,r)=>t.shellExec(e,r))),a=await(null==n?void 0:n.getInterpreterPathForEnvironment({name:e.name,prefix:e.path}));return a?new l(a,s):void 0},t.createWindowsStoreEnv=function(e,t){const r=h((async e=>!0),void 0,void 0,((e,r,n)=>t.exec(e,r,n)),((e,r)=>t.shellExec(e,r)));return new l(e,r)}},51625:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonExecutionFactory=void 0;const o=r(86700),s=r(80351),a=r(18639),c=r(77498),u=r(54813),l=r(61522),h=r(84974),p=r(61684),d=r(66462),f=r(3672),v=r(29672),y=r(29983),m=r(87282),g=r(59314),b=r(19735);let _=class{constructor(e,t,r,n,i,o,s,a){this.serviceContainer=e,this.activationHelper=t,this.processServiceFactory=r,this.configService=n,this.decoder=i,this.pyenvs=o,this.autoSelection=s,this.interpreterPathExpHelper=a,this.disposables=this.serviceContainer.get(p.IDisposableRegistry),this.logger=this.serviceContainer.get(y.IProcessLogger),this.fileSystem=this.serviceContainer.get(h.IFileSystem)}async create(e){let{pythonPath:t}=e;if(!t){const r=this.interpreterPathExpHelper.get(e.resource);r&&"python"!==r||await Promise.race([this.autoSelection.autoSelectInterpreter(e.resource).then((()=>!0)),(0,g.sleep)(5e4).then((()=>!1))])||(0,b.traceError)("Autoselection timeout out, this is likely a issue with how consumer called execution factory API. Using default python to execute."),t=this.configService.getSettings(e.resource).pythonPath}const r=await this.processServiceFactory.create(e.resource),n=await this.createCondaExecutionService(t,r);if(n)return n;const i=this.pyenvs.isWindowsStoreInterpreter.bind(this.pyenvs);return E(r,await i(t)?(0,f.createWindowsStoreEnv)(t,r):(0,f.createPythonEnv)(t,r,this.fileSystem))}async createActivatedEnvironment(e){const t=await this.activationHelper.getActivatedEnvironmentVariables(e.resource,e.interpreter,e.allowEnvironmentFetchExceptions),r=t&&Object.keys(t).length>0;if((0,u.sendTelemetryEvent)(l.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,void 0,{hasEnvVars:r}),!r)return this.create({resource:e.resource,pythonPath:e.interpreter?e.interpreter.path:void 0});const n=e.interpreter?e.interpreter.path:this.configService.getSettings(e.resource).pythonPath,i=new d.ProcessService(this.decoder,{...t});i.on("exec",this.logger.logProcess.bind(this.logger)),this.disposables.push(i);const o=await this.createCondaExecutionService(n,i);return o||E(i,(0,f.createPythonEnv)(n,i,this.fileSystem))}async createCondaExecutionService(e,t){const r=this.serviceContainer.get(a.IComponentAdapter),[n]=await Promise.all([r.getCondaEnvironment(e)]);if(!n)return;const i=await(0,f.createCondaEnv)(n,t,this.fileSystem);return i?E(t,i):void 0}};function E(e,t){const r=(0,v.createPythonProcessService)(e,t);return{getInterpreterInformation:()=>t.getInterpreterInformation(),getExecutablePath:()=>t.getExecutablePath(),isModuleInstalled:e=>t.isModuleInstalled(e),getModuleVersion:e=>t.getModuleVersion(e),getExecutionInfo:e=>t.getExecutionInfo(e),execObservable:(e,t)=>r.execObservable(e,t),execModuleObservable:(e,t,n)=>r.execModuleObservable(e,t,n),exec:(e,t)=>r.exec(e,t),execModule:(e,t,n)=>r.execModule(e,t,n),execForLinter:(e,t,n)=>r.execForLinter(e,t,n)}}_=n([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer)),i(1,(0,o.inject)(s.IEnvironmentActivationService)),i(2,(0,o.inject)(y.IProcessServiceFactory)),i(3,(0,o.inject)(p.IConfigurationService)),i(4,(0,o.inject)(y.IBufferDecoder)),i(5,(0,o.inject)(a.IComponentAdapter)),i(6,(0,o.inject)(m.IInterpreterAutoSelectionService)),i(7,(0,o.inject)(p.IInterpreterPathService))],_),t.PythonExecutionFactory=_},29672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonProcessService=void 0;const n=r(26804),i=r(97300),o=r(31776);class s{constructor(e){this.deps=e}execObservable(e,t){const r={...t},n=this.deps.getExecutionObservableInfo(e);return this.deps.execObservable(n.command,n.args,r)}execModuleObservable(e,t,r){const n=o.execModule(e,t),i={...r},s=this.deps.getExecutionObservableInfo(n);return this.deps.execObservable(s.command,s.args,i)}async exec(e,t){const r={...t},n=this.deps.getExecutionInfo(e);return this.deps.exec(n.command,n.args,r)}async execModule(e,t,r){const s=o.execModule(e,t),a={...r},c=this.deps.getExecutionInfo(s),u=await this.deps.exec(c.command,c.args,a);if(e&&n.ErrorUtils.outputHasModuleNotInstalledError(e,u.stderr)&&!await this.deps.isModuleInstalled(e))throw new i.ModuleNotInstalledError(e);return u}async execForLinter(e,t,r){const o={...r},s=this.deps.getExecutionInfo(t),a=await this.deps.exec(s.command,s.args,o);if(e&&n.ErrorUtils.outputHasModuleNotInstalledError(e,a.stderr)&&!await this.deps.isModuleInstalled(e))throw new i.ModuleNotInstalledError(e);return a}}t.createPythonProcessService=function(e,t){return new s({isModuleInstalled:async e=>t.isModuleInstalled(e),getExecutionInfo:e=>t.getExecutionInfo(e),getExecutionObservableInfo:e=>t.getExecutionObservableInfo(e),exec:async(t,r,n)=>e.exec(t,r,n),execObservable:(t,r,n)=>e.execObservable(t,r,n)})}},91950:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonToolExecutionService=void 0;const o=r(86700),s=r(77498),a=r(29983);let c=class{constructor(e){this.serviceContainer=e}async execObservable(e,t,r){if(t.env)throw new Error("Environment variables are not supported");return e.moduleName&&e.moduleName.length>0?(await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:r})).execModuleObservable(e.moduleName,e.args,t):(await this.serviceContainer.get(a.IProcessServiceFactory).create(r)).execObservable(e.execPath,e.args,{...t})}async exec(e,t,r){if(t.env)throw new Error("Environment variables are not supported");return e.moduleName&&e.moduleName.length>0?(await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:r})).execModule(e.moduleName,e.args,t):(await this.serviceContainer.get(a.IProcessServiceFactory).create(r)).exec(e.execPath,e.args,{...t})}async execForLinter(e,t,r){if(t.env)throw new Error("Environment variables are not supported");const n=await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:r});return e.execPath?n.exec(e.args,t):n.execForLinter(e.moduleName,e.args,t)}};c=n([(0,o.injectable)(),i(0,(0,o.inject)(s.IServiceContainer))],c),t.PythonToolExecutionService=c},18699:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killPid=t.execObservable=t.plainExec=t.shellExec=void 0;const n=r(32081),i=r(95100),o=r(59314),s=r(93289),a=r(29983),c=r(3481);function u(e,t){const r={...e},n=r;if(n){n.encoding="string"==typeof n.encoding&&n.encoding.length>0?n.encoding:s.DEFAULT_ENCODING;const{encoding:e}=n;delete n.encoding,n.encoding=e}if(r.env&&0!==Object.keys(r.env).length)r.env={...r.env};else{const e=t||process.env;r.env={...e}}return n&&n.extraVariables&&(r.env={...r.env,...n.extraVariables}),r.env.PYTHONUNBUFFERED="1",r.env.PYTHONIOENCODING||(r.env.PYTHONIOENCODING="utf-8"),r}function l(e){const t=e.match(/>>>PYTHON-EXEC-OUTPUT([\s\S]*)<<<PYTHON-EXEC-OUTPUT/),r=null!==t&&t.length>=2?t[1].trim():void 0;return void 0!==r?r:e}function h(e){try{"win32"===process.platform?(0,n.execSync)(`taskkill /pid ${e} /T /F`):process.kill(e)}catch(e){}}t.shellExec=function(e,t={},r,i){const o=u(t,r);return new Promise(((t,r)=>{const s=(0,n.exec)(e,o,((e,n,i)=>{e&&null!==e?r(e):o.throwOnStdErr&&i&&i.length?r(new Error(i)):(n=l(n),t({stderr:i&&i.length>0?i:void 0,stdout:n}))})),a={dispose:()=>{s.killed||s.kill()}};i&&i.add(a)}))},t.plainExec=function(e,t,r={},i,s,h){var p,d;const f=u(r,s),v=f.encoding?f.encoding:"utf8",y=(0,n.spawn)(e,t,f);null===(p=y.stdout)||void 0===p||p.on("error",c.noop),null===(d=y.stderr)||void 0===d||d.on("error",c.noop);const m=(0,o.createDeferred)(),g={dispose:()=>{y.killed||m.completed||y.kill()}};null==h||h.add(g);const b=[],_=(e,t,r)=>{null==e||e.on(t,r),b.push({dispose:()=>null==e?void 0:e.removeListener(t,r)})};r.token&&b.push(r.token.onCancellationRequested(g.dispose));const E=[];_(y.stdout,"data",(e=>E.push(e)));const S=[];return _(y.stderr,"data",(e=>{r.mergeStdOutErr?(E.push(e),S.push(e)):S.push(e)})),y.once("close",(()=>{if(m.completed)return;const e=0===S.length||null==i?void 0:i.decode(S,v);if(e&&e.length>0&&r.throwOnStdErr)m.reject(new a.StdErrError(e));else{let t=i?i.decode(E,v):"";t=l(t),m.resolve({stdout:t,stderr:e})}b.forEach((e=>e.dispose()))})),y.once("error",(e=>{m.reject(e),b.forEach((e=>e.dispose()))})),m.promise},t.execObservable=function(e,t,r={},o,s,c){const l=u(r,s),p=l.encoding?l.encoding:"utf8",d=(0,n.spawn)(e,t,l);let f=!1;const v={dispose(){!d||d.killed||f||h(d.pid),d&&d.unref()}};null==c||c.add(v);const y=new i.Observable((e=>{const t=[],n=(e,r,n)=>{null==e||e.on(r,n),t.push({dispose:()=>null==e?void 0:e.removeListener(r,n)})};r.token&&t.push(r.token.onCancellationRequested((()=>{f||d.killed||(d.kill(),f=!0)})));const i=(t,n)=>{let i=o?o.decode([n],p):"";"stderr"===t&&r.throwOnStdErr?e.error(new a.StdErrError(i)):(i=function(e){return(e=e.replace(">>>PYTHON-EXEC-OUTPUT\r\n","").replace(">>>PYTHON-EXEC-OUTPUT\n","")).replace("<<<PYTHON-EXEC-OUTPUT\r\n","").replace("<<<PYTHON-EXEC-OUTPUT\n","")}(i),e.next({source:t,out:i}))};n(d.stdout,"data",(e=>i("stdout",e))),n(d.stderr,"data",(e=>i("stderr",e))),d.once("close",(()=>{f=!0,e.complete(),t.forEach((e=>e.dispose()))})),d.once("exit",(()=>{f=!0,e.complete(),t.forEach((e=>e.dispose()))})),d.once("error",(r=>{f=!0,e.error(r),t.forEach((e=>e.dispose()))}))}));return{proc:d,out:y,dispose:v.dispose}},t.killPid=h},52615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const n=r(73153),i=r(98065),o=r(51625),s=r(91950),a=r(29983);t.registerTypes=function(e){e.addSingleton(a.IBufferDecoder,n.BufferDecoder),e.addSingleton(a.IProcessServiceFactory,i.ProcessServiceFactory),e.addSingleton(a.IPythonExecutionFactory,o.PythonExecutionFactory),e.addSingleton(a.IPythonToolExecutionService,s.PythonToolExecutionService)}},29983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPythonToolExecutionService=t.StdErrError=t.IPythonExecutionService=t.IPythonExecutionFactory=t.IProcessServiceFactory=t.IProcessLogger=t.IBufferDecoder=void 0,t.IBufferDecoder=Symbol("IBufferDecoder"),t.IProcessLogger=Symbol("IProcessLogger"),t.IProcessServiceFactory=Symbol("IProcessServiceFactory"),t.IPythonExecutionFactory=Symbol("IPythonExecutionFactory"),t.IPythonExecutionService=Symbol("IPythonExecutionService");class r extends Error{constructor(e){super(e)}}t.StdErrError=r,t.IPythonToolExecutionService=Symbol("IPythonToolRunnerService")},39702:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const n=r(90819),i=r(61684),o=r(17792),s=r(18718),a=r(13706),c=r(77633),u=r(17381),l=r(72874),h=r(13578),p=r(53314),d=r(17585),f=r(56792),v=r(2512),y=r(30751),m=r(15797),g=r(84911),b=r(80819),_=r(97469),E=r(21621),S=r(39425),w=r(90220),T=r(73766),P=r(93666),I=r(79434),O=r(20900),C=r(34581),A=r(29983),x=r(32237),R=r(14744),N=r(8572),k=r(78625),D=r(79152),M=r(78558),j=r(546),L=r(86678),F=r(55928),V=r(81731),B=r(67482),U=r(80656),W=r(58400),$=r(22207),H=r(10195),G=r(54094);t.registerTypes=function(e){e.addSingletonInstance(i.IsWindows,P.IS_WINDOWS),e.addSingleton(d.IActiveResourceService,o.ActiveResourceService),e.addSingleton(i.IInterpreterPathService,_.InterpreterPathService),e.addSingleton(i.IExtensions,h.Extensions),e.addSingleton(i.IRandom,H.Random),e.addSingleton(i.IPersistentStateFactory,T.PersistentStateFactory),e.addBinding(i.IPersistentStateFactory,n.IExtensionSingleActivationService),e.addSingleton(W.ITerminalServiceFactory,j.TerminalServiceFactory),e.addSingleton(i.IPathUtils,I.PathUtils),e.addSingleton(d.IApplicationShell,a.ApplicationShell),e.addSingleton(d.IClipboard,c.ClipboardService),e.addSingleton(i.ICurrentProcess,O.CurrentProcess),e.addSingleton(i.IInstaller,b.ProductInstaller),e.addSingleton(d.ICommandManager,u.CommandManager),e.addSingleton(d.IContextKeyManager,G.ContextKeyManager),e.addSingleton(i.IConfigurationService,y.ConfigurationService),e.addSingleton(d.IWorkspaceService,f.WorkspaceService),e.addSingleton(A.IProcessLogger,C.ProcessLogger),e.addSingleton(d.IDocumentManager,l.DocumentManager),e.addSingleton(d.ITerminalManager,p.TerminalManager),e.addSingleton(d.IApplicationEnvironment,s.ApplicationEnvironment),e.addSingleton(i.IBrowserService,E.BrowserService),e.addSingleton(i.IHttpClient,w.HttpClient),e.addSingleton(i.IFileDownloader,S.FileDownloader),e.addSingleton(i.IEditorUtils,g.EditorUtils),e.addSingleton(W.ITerminalActivator,x.TerminalActivator),e.addSingleton(W.ITerminalHelper,L.TerminalHelper),e.addSingleton(W.ITerminalActivationCommandProvider,R.Bash,W.TerminalActivationProviders.bashCShellFish),e.addSingleton(W.ITerminalActivationCommandProvider,N.CommandPromptAndPowerShell,W.TerminalActivationProviders.commandPromptAndPowerShell),e.addSingleton(W.ITerminalActivationCommandProvider,M.PyEnvActivationCommandProvider,W.TerminalActivationProviders.pyenv),e.addSingleton(W.ITerminalActivationCommandProvider,k.CondaActivationCommandProvider,W.TerminalActivationProviders.conda),e.addSingleton(W.ITerminalActivationCommandProvider,D.PipEnvActivationCommandProvider,W.TerminalActivationProviders.pipenv),e.addSingleton(i.IToolExecutionPath,m.PipEnvExecutionPath,i.ToolExecutionPath.pipenv),e.addSingleton(i.IAsyncDisposableRegistry,v.AsyncDisposableRegistry),e.addSingleton($.IMultiStepInputFactory,$.MultiStepInputFactory),e.addSingleton(W.IShellDetector,V.TerminalNameShellDetector),e.addSingleton(W.IShellDetector,F.SettingsShellDetector),e.addSingleton(W.IShellDetector,B.UserEnvironmentShellDetector),e.addSingleton(W.IShellDetector,U.VSCEnvironmentShellDetector)}},57563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTerminalActivator=void 0;const n=r(59314);t.BaseTerminalActivator=class{constructor(e){this.helper=e,this.activatedTerminals=new Map}async activateEnvironmentInTerminal(e,t){if(this.activatedTerminals.has(e))return this.activatedTerminals.get(e);const r=(0,n.createDeferred)();this.activatedTerminals.set(e,r.promise);const i=this.helper.identifyTerminalShell(e),o=await this.helper.getEnvironmentActivationCommands(i,null==t?void 0:t.resource,null==t?void 0:t.interpreter);let s=!1;if(o)for(const r of o)e.show(null==t?void 0:t.preserveFocus),e.sendText(r),await this.waitForCommandToProcess(i),s=!0;return r.resolve(s),s}async waitForCommandToProcess(e){await(0,n.sleep)(500)}}},32237:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalActivator=void 0;const o=r(86700),s=r(61684),a=r(58400),c=r(57563);let u=class{constructor(e,t){this.helper=e,this.configurationService=t,this.pendingActivations=new WeakMap,this.initialize()}async activateEnvironmentInTerminal(e,t){let r=this.pendingActivations.get(e);return r||(r=this.activateEnvironmentInTerminalImpl(e,t),this.pendingActivations.set(e,r),r)}async activateEnvironmentInTerminalImpl(e,t){return!(!this.configurationService.getSettings(null==t?void 0:t.resource).terminal.activateEnvironment||(null==t?void 0:t.hideFromUser))&&this.baseActivator.activateEnvironmentInTerminal(e,t)}initialize(){this.baseActivator=new c.BaseTerminalActivator(this.helper)}};u=n([(0,o.injectable)(),i(0,(0,o.inject)(a.ITerminalHelper)),i(1,(0,o.inject)(s.IConfigurationService))],u),t.TerminalActivator=u},86575:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VenvBaseActivationCommandProvider=void 0;const o=r(86700),s=r(71017),a=r(18639),c=r(77498),u=r(84974);let l=class{constructor(e){this.serviceContainer=e}async getActivationCommands(e,t){const r=await this.serviceContainer.get(a.IInterpreterService).getActiveInterpreter(e);if(r)return this.getActivationCommandsForInterpreter(r.path,t)}};l=n([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],l),t.VenvBaseActivationCommandProvider=class extends l{isShellSupported(e){return void 0!==this.scripts[e]}async findScriptFile(e,t){const r=this.serviceContainer.get(u.IFileSystem),n=this.scripts[t];if(n)return function(e,t,n,i){const o="string"==typeof e?[e]:e;return async e=>{const i=t(e);for(const e of o){const t=n(i,e);if(await(s=t,r.fileExists(s)))return t}var s}}(n,s.dirname,s.join)(e)}}},14744:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Bash=t.getAllScripts=void 0;const i=r(86700);r(32727);const o=r(58400),s=r(86575),a={[o.TerminalShellType.wsl]:["activate.sh","activate"],[o.TerminalShellType.ksh]:["activate.sh","activate"],[o.TerminalShellType.zsh]:["activate.sh","activate"],[o.TerminalShellType.gitbash]:["activate.sh","activate"],[o.TerminalShellType.bash]:["activate.sh","activate"],[o.TerminalShellType.tcshell]:["activate.csh"],[o.TerminalShellType.cshell]:["activate.csh"],[o.TerminalShellType.fish]:["activate.fish"]};t.getAllScripts=function(){const e=[];for(const t of Object.keys(a)){const r=t;for(const t of a[r])e.includes(t)||e.push(t)}return e};let c=class extends s.VenvBaseActivationCommandProvider{constructor(){super(...arguments),this.scripts=a}async getActivationCommandsForInterpreter(e,t){const r=await this.findScriptFile(e,t);if(r)return[`source ${r.fileToCommandArgumentForPythonExt()}`]}};c=n([(0,i.injectable)()],c),t.Bash=c},8572:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandPromptAndPowerShell=t.getAllScripts=void 0;const o=r(86700),s=r(71017),a=r(77498);r(32727);const c=r(58400),u=r(86575),l={[c.TerminalShellType.commandPrompt]:["activate.bat","Activate.ps1"],[c.TerminalShellType.powershell]:["Activate.ps1","activate.bat"],[c.TerminalShellType.powershellCore]:["Activate.ps1","activate.bat"]};t.getAllScripts=function(e){const t=[];for(const r of Object.keys(l)){const n=r;for(const r of l[n])t.includes(r)||t.push(r,e("Scripts",r),e("scripts",r))}return t};let h=class extends u.VenvBaseActivationCommandProvider{constructor(e){super(e),this.scripts={};for(const e of Object.keys(l)){const t=e,r=[];for(const e of l[t])r.push(e,s.join("Scripts",e),s.join("scripts",e));this.scripts[t]=r}}async getActivationCommandsForInterpreter(e,t){const r=await this.findScriptFile(e,t);if(r)return t===c.TerminalShellType.commandPrompt&&r.endsWith("activate.bat")?[r.fileToCommandArgumentForPythonExt()]:t!==c.TerminalShellType.powershell&&t!==c.TerminalShellType.powershellCore||!r.endsWith("Activate.ps1")?t===c.TerminalShellType.commandPrompt&&r.endsWith("Activate.ps1")?[]:void 0:[`& ${r.fileToCommandArgumentForPythonExt()}`]}};h=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],h),t.CommandPromptAndPowerShell=h},78625:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t._getPowershellCommands=t.CondaActivationCommandProvider=void 0,r(32727);const o=r(86700),s=r(71017),a=r(18639),c=r(84974),u=r(61684),l=r(58400);let h=class{constructor(e,t,r,n){this.condaService=e,this.platform=t,this.configService=r,this.pyenvs=n}isShellSupported(){return!0}getActivationCommands(e,t){const{pythonPath:r}=this.configService.getSettings(e);return this.getActivationCommandsForInterpreter(r,t)}async getActivationCommandsForInterpreter(e,t){const r=await this.pyenvs.getCondaEnvironment(e);if(!r)return;const n=r.name.length>0?r.name:r.path,i=await this.condaService.getCondaVersion();if(i&&i.major>=4){if(i.minor>=6&&(t===l.TerminalShellType.powershell||t===l.TerminalShellType.powershellCore))return p(n);if(i.minor>=4){const e=await this.condaService.getInterpreterPathForEnvironment(r),t=await this.condaService.getCondaFileFromInterpreter(e,r.name);if(t){const e=s.join(s.dirname(t),"activate").fileToCommandArgumentForPythonExt();return[this.platform.isWindows?e:`source ${e}`,`conda activate ${n.toCommandArgumentForPythonExt()}`]}}}switch(t){case l.TerminalShellType.powershell:case l.TerminalShellType.powershellCore:return p(n);case l.TerminalShellType.fish:return async function(e,t){return[`${t.fileToCommandArgumentForPythonExt()} activate ${e.toCommandArgumentForPythonExt()}`]}(n,await this.condaService.getCondaFile());default:return this.platform.isWindows?this.getWindowsCommands(n):async function(e,t){const r=s.dirname(t);return[`source ${s.join(r,"activate").fileToCommandArgumentForPythonExt()} ${e.toCommandArgumentForPythonExt()}`]}(n,await this.condaService.getCondaFile())}}async getWindowsActivateCommand(){let e="activate";const t=await this.condaService.getCondaFile();if(t&&s.basename(t)!==t){const r=s.dirname(t);e=s.join(r,e),e=e.toCommandArgumentForPythonExt()}return e}async getWindowsCommands(e){return[`${await this.getWindowsActivateCommand()} ${e.toCommandArgumentForPythonExt()}`]}};async function p(e){return[`conda activate ${e.toCommandArgumentForPythonExt()}`]}h=n([(0,o.injectable)(),i(0,(0,o.inject)(a.ICondaService)),i(1,(0,o.inject)(c.IPlatformService)),i(2,(0,o.inject)(u.IConfigurationService)),i(3,(0,o.inject)(a.IComponentAdapter))],h),t.CondaActivationCommandProvider=h,t._getPowershellCommands=p},79152:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvActivationCommandProvider=void 0;const o=r(86700);r(32727);const s=r(18639),a=r(37924),c=r(81387),u=r(17585),l=r(61684);let h=class{constructor(e,t,r){this.interpreterService=e,this.pipEnvExecution=t,this.workspaceService=r}isShellSupported(){return!1}async getActivationCommands(e){const t=await this.interpreterService.getActiveInterpreter(e);if(!t||t.envType!==c.EnvironmentType.Pipenv)return;const r=e?this.workspaceService.getWorkspaceFolder(e):void 0;return!r||await(0,a.isPipenvEnvironmentRelatedToFolder)(t.path,null==r?void 0:r.uri.fsPath)?[`${this.pipEnvExecution.executable.fileToCommandArgumentForPythonExt()} shell`]:void 0}async getActivationCommandsForInterpreter(e){const t=await this.interpreterService.getInterpreterDetails(e);if(t&&t.envType===c.EnvironmentType.Pipenv)return[`${this.pipEnvExecution.executable.fileToCommandArgumentForPythonExt()} shell`]}};h=n([(0,o.injectable)(),i(0,(0,o.inject)(s.IInterpreterService)),i(1,(0,o.inject)(l.IToolExecutionPath)),i(1,(0,o.named)(l.ToolExecutionPath.pipenv)),i(2,(0,o.inject)(u.IWorkspaceService))],h),t.PipEnvActivationCommandProvider=h},78558:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PyEnvActivationCommandProvider=void 0;const o=r(86700),s=r(18639),a=r(77498),c=r(81387);let u=class{constructor(e){this.serviceContainer=e}isShellSupported(e){return!0}async getActivationCommands(e,t){const r=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e);if(r&&r.envType===c.EnvironmentType.Pyenv&&r.envName)return[`pyenv shell ${r.envName.toCommandArgumentForPythonExt()}`]}async getActivationCommandsForInterpreter(e,t){const r=await this.serviceContainer.get(s.IInterpreterService).getInterpreterDetails(e);if(r&&r.envType===c.EnvironmentType.Pyenv&&r.envName)return[`pyenv shell ${r.envName.toCommandArgumentForPythonExt()}`]}};u=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],u),t.PyEnvActivationCommandProvider=u},546:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalServiceFactory=void 0;const o=r(86700),s=r(18639),a=r(77498),c=r(17585),u=r(84974),l=r(97207),h=r(88624);let p=class{constructor(e,t,r){this.serviceContainer=e,this.fs=t,this.interpreterService=r,this.terminalServices=new Map}getTerminalService(e){const t=null==e?void 0:e.resource,r=null==e?void 0:e.title,n="string"==typeof r&&r.trim().length>0?r.trim():"Python",i=null==e?void 0:e.interpreter,o=this.getTerminalId(n,t,i);if(!this.terminalServices.has(o)){const t=new l.TerminalService(this.serviceContainer,e);this.terminalServices.set(o,t)}return new h.SynchronousTerminalService(this.fs,this.interpreterService,this.terminalServices.get(o),i)}createTerminalService(e,t){return t="string"==typeof t&&t.trim().length>0?t.trim():"Python",new l.TerminalService(this.serviceContainer,{resource:e,title:t})}getTerminalId(e,t,r){if(!t&&!r)return e;const n=this.serviceContainer.get(c.IWorkspaceService).getWorkspaceFolder(t||void 0);return`${e}:${(null==n?void 0:n.uri.fsPath)||""}:${null==r?void 0:r.path}`}};p=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer)),i(1,(0,o.inject)(u.IFileSystem)),i(2,(0,o.inject)(s.IInterpreterService))],p),t.TerminalServiceFactory=p},86678:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalHelper=void 0;const o=r(86700),s=r(18639),a=r(77498),c=r(19735),u=r(81387),l=r(54813),h=r(61522),p=r(17585);r(32727);const d=r(84974),f=r(61684),v=r(87450),y=r(71791),m=r(58400);let g=class{constructor(e,t,r,n,i,o,s,a,c,u,l){this.platform=e,this.terminalManager=t,this.serviceContainer=r,this.interpreterService=n,this.configurationService=i,this.conda=o,this.bashCShellFish=s,this.commandPromptAndPowerShell=a,this.pyenv=c,this.pipenv=u,this.shellDetector=new y.ShellDetector(this.platform,l)}createTerminal(e){return this.terminalManager.createTerminal({name:e})}identifyTerminalShell(e){return this.shellDetector.identifyTerminalShell(e)}buildCommandForTerminal(e,t,r){const n=e===m.TerminalShellType.powershell||e===m.TerminalShellType.powershellCore?"& ":"",i=r.map((e=>e.toCommandArgumentForPythonExt()));return`${n}${t.fileToCommandArgumentForPythonExt()} ${i.join(" ")}`.trim()}async getEnvironmentActivationCommands(e,t,r){const n=[this.pipenv,this.pyenv,this.bashCShellFish,this.commandPromptAndPowerShell],i=this.getActivationCommands(t||void 0,r,e,n);return this.sendTelemetry(e,h.EventName.PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL,r,i).ignoreErrors(),i}async getEnvironmentActivationShellCommands(e,t,r){if(this.platform.osType===v.OSType.Unknown)return;const n=[this.bashCShellFish,this.commandPromptAndPowerShell],i=this.getActivationCommands(e,r,t,n);return this.sendTelemetry(t,h.EventName.PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE,r,i).ignoreErrors(),i}async sendTelemetry(e,t,r,n){let i=!1,o=!1;try{const e=await n;i=Array.isArray(e)&&e.length>0}catch(e){o=!0,(0,c.traceError)("Failed to get activation commands",e)}const s=r&&r.version?r.version.raw:void 0,a={failed:o,hasCommands:i,interpreterType:r?r.envType:u.EnvironmentType.Unknown,terminal:e,pythonVersion:s};(0,l.sendTelemetryEvent)(t,void 0,a)}async getActivationCommands(e,t,r,n){const i=this.configurationService.getSettings(e),o=this.serviceContainer.get(s.IComponentAdapter);if(t?t.envType===u.EnvironmentType.Conda:await o.isCondaEnvironment(i.pythonPath)){const n=t?await this.conda.getActivationCommandsForInterpreter(t.path,r):await this.conda.getActivationCommands(e,r);if(Array.isArray(n))return n}const a=n.filter((e=>e.isShellSupported(r)));for(const n of a){const i=t?await n.getActivationCommandsForInterpreter(t.path,r):await n.getActivationCommands(e,r);if(Array.isArray(i)&&i.length>0)return i}}};n([(0,c.traceDecoratorError)("Failed to capture telemetry")],g.prototype,"sendTelemetry",null),g=n([(0,o.injectable)(),i(0,(0,o.inject)(d.IPlatformService)),i(1,(0,o.inject)(p.ITerminalManager)),i(2,(0,o.inject)(a.IServiceContainer)),i(3,(0,o.inject)(s.IInterpreterService)),i(4,(0,o.inject)(f.IConfigurationService)),i(5,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(5,(0,o.named)(m.TerminalActivationProviders.conda)),i(6,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(6,(0,o.named)(m.TerminalActivationProviders.bashCShellFish)),i(7,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(7,(0,o.named)(m.TerminalActivationProviders.commandPromptAndPowerShell)),i(8,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(8,(0,o.named)(m.TerminalActivationProviders.pyenv)),i(9,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(9,(0,o.named)(m.TerminalActivationProviders.pipenv)),i(10,(0,o.multiInject)(m.IShellDetector))],g),t.TerminalHelper=g},97207:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalService=void 0;const o=r(86700),s=r(66828);r(32727);const a=r(18639),c=r(77498),u=r(54813),l=r(61522),h=r(17585),p=r(61684),d=r(58400);let f=class{constructor(e,t){this.serviceContainer=e,this.options=t,this.terminalClosed=new s.EventEmitter;const r=this.serviceContainer.get(p.IDisposableRegistry);r.push(this),this.terminalHelper=this.serviceContainer.get(d.ITerminalHelper),this.terminalManager=this.serviceContainer.get(h.ITerminalManager),this.terminalManager.onDidCloseTerminal(this.terminalCloseHandler,this,r),this.terminalActivator=this.serviceContainer.get(d.ITerminalActivator)}get onDidCloseTerminal(){return this.terminalClosed.event.bind(this.terminalClosed)}dispose(){this.terminal&&this.terminal.dispose()}async sendCommand(e,t,r){var n;await this.ensureTerminal();const i=this.terminalHelper.buildCommandForTerminal(this.terminalShellType,e,t);(null===(n=this.options)||void 0===n?void 0:n.hideFromUser)||this.terminal.show(!0),this.terminal.sendText(i,!0)}async sendText(e){var t;await this.ensureTerminal(),(null===(t=this.options)||void 0===t?void 0:t.hideFromUser)||this.terminal.show(!0),this.terminal.sendText(e)}async show(e=!0){var t;await this.ensureTerminal(e),(null===(t=this.options)||void 0===t?void 0:t.hideFromUser)||this.terminal.show(e)}async ensureTerminal(e=!0){var t,r,n,i,o,s,a;this.terminal||(this.terminalShellType=this.terminalHelper.identifyTerminalShell(this.terminal),this.terminal=this.terminalManager.createTerminal({name:(null===(t=this.options)||void 0===t?void 0:t.title)||"Python",env:null===(r=this.options)||void 0===r?void 0:r.env,hideFromUser:null===(n=this.options)||void 0===n?void 0:n.hideFromUser}),await new Promise((e=>setTimeout(e,100))),await this.terminalActivator.activateEnvironmentInTerminal(this.terminal,{resource:null===(i=this.options)||void 0===i?void 0:i.resource,preserveFocus:e,interpreter:null===(o=this.options)||void 0===o?void 0:o.interpreter,hideFromUser:null===(s=this.options)||void 0===s?void 0:s.hideFromUser}),(null===(a=this.options)||void 0===a?void 0:a.hideFromUser)||this.terminal.show(e),this.sendTelemetry().ignoreErrors())}terminalCloseHandler(e){e===this.terminal&&(this.terminalClosed.fire(),this.terminal=void 0)}async sendTelemetry(){var e,t;const r=this.serviceContainer.get(p.IConfigurationService).getSettings(null===(e=this.options)||void 0===e?void 0:e.resource).pythonPath,n=(null===(t=this.options)||void 0===t?void 0:t.interpreter)||await this.serviceContainer.get(a.IInterpreterService).getInterpreterDetails(r),i=n&&n.version?n.version.raw:void 0,o=n?n.envType:void 0;(0,u.captureTelemetry)(l.EventName.TERMINAL_CREATE,{terminal:this.terminalShellType,pythonVersion:i,interpreterType:o})}};f=n([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],f),t.TerminalService=f},71791:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShellDetector=void 0;const o=r(86700),s=r(19735),a=r(54813),c=r(61522);r(32727);const u=r(84974),l=r(87450),h=r(58400),p={[l.OSType.Linux]:h.TerminalShellType.bash,[l.OSType.OSX]:h.TerminalShellType.bash,[l.OSType.Windows]:h.TerminalShellType.commandPrompt,[l.OSType.Unknown]:h.TerminalShellType.other};let d=class{constructor(e,t){this.platform=e,this.shellDetectors=t}identifyTerminalShell(e){let t;const r={failed:!0,shellIdentificationSource:"default",terminalProvided:!!e,hasCustomShell:void 0,hasShellInEnv:void 0},n=this.shellDetectors.slice().sort(((e,t)=>t.priority-e.priority));for(const i of n)if(t=i.identify(r,e),(0,s.traceVerbose)(`${i}. Shell identified as ${t} ${e?`(Terminal name is ${e.name})`:""}`),t&&t!==h.TerminalShellType.other){r.failed=!1;break}return(0,a.sendTelemetryEvent)(c.EventName.TERMINAL_SHELL_IDENTIFICATION,void 0,r),(0,s.traceVerbose)(`Shell identified as '${t}'`),void 0!==t&&t!==h.TerminalShellType.other||((0,s.traceVerbose)("Using default OS shell"),t=p[this.platform.osType]),t}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(u.IPlatformService)),i(1,(0,o.multiInject)(h.IShellDetector))],d),t.ShellDetector=d},89465:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseShellDetector=void 0;const o=r(86700),s=r(19735),a=r(58400),c=new Map;c.set(a.TerminalShellType.powershell,/(powershell$)/i),c.set(a.TerminalShellType.gitbash,/(gitbash$)/i),c.set(a.TerminalShellType.bash,/(bash$)/i),c.set(a.TerminalShellType.wsl,/(wsl$)/i),c.set(a.TerminalShellType.zsh,/(zsh$)/i),c.set(a.TerminalShellType.ksh,/(ksh$)/i),c.set(a.TerminalShellType.commandPrompt,/(cmd$)/i),c.set(a.TerminalShellType.fish,/(fish$)/i),c.set(a.TerminalShellType.tcshell,/(tcsh$)/i),c.set(a.TerminalShellType.cshell,/(csh$)/i),c.set(a.TerminalShellType.powershellCore,/(pwsh$)/i),c.set(a.TerminalShellType.xonsh,/(xonsh$)/i);let u=class{constructor(e){this.priority=e}identifyShellFromShellPath(e){const t=e.replace(/\.exe$/,""),r=Array.from(c.keys()).reduce(((e,r)=>{if(e===a.TerminalShellType.other){const e=c.get(r);if(e&&e.test(t))return r}return e}),a.TerminalShellType.other);return(0,s.traceVerbose)(`Shell path '${e}', base path '${t}'`),(0,s.traceVerbose)(`Shell path identified as shell '${r}'`),r}};u=n([(0,o.injectable)(),i(0,(0,o.unmanaged)())],u),t.BaseShellDetector=u},55928:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsShellDetector=void 0;const o=r(86700),s=r(19735),a=r(17585),c=r(84974),u=r(87450),l=r(58400),h=r(89465);let p=class extends h.BaseShellDetector{constructor(e,t){super(2),this.workspace=e,this.platform=t}getTerminalShellPath(){const e=this.workspace.getConfiguration("terminal.integrated.shell");let t="";switch(this.platform.osType){case u.OSType.Windows:t="windows";break;case u.OSType.OSX:t="osx";break;case u.OSType.Linux:t="linux";break;default:return""}return e.get(t)}identify(e,t){const r=this.getTerminalShellPath();e.hasCustomShell=!!r;const n=r?this.identifyShellFromShellPath(r):l.TerminalShellType.other;return n!==l.TerminalShellType.other?e.shellIdentificationSource="environment":e.shellIdentificationSource="settings",(0,s.traceVerbose)(`Shell path from user settings '${r}'`),n}};p=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService)),i(1,(0,o.inject)(c.IPlatformService))],p),t.SettingsShellDetector=p},81731:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalNameShellDetector=void 0;const i=r(86700),o=r(19735),s=r(58400),a=r(89465);let c=class extends a.BaseShellDetector{constructor(){super(4)}identify(e,t){if(!t)return;const r=this.identifyShellFromShellPath(t.name);return(0,o.traceVerbose)(`Terminal name '${t.name}' identified as shell '${r}'`),e.shellIdentificationSource=r===s.TerminalShellType.other?e.shellIdentificationSource:"terminalName",r}};c=n([(0,i.injectable)()],c),t.TerminalNameShellDetector=c},67482:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserEnvironmentShellDetector=void 0;const o=r(86700),s=r(19735),a=r(84974),c=r(61684),u=r(87450),l=r(58400),h=r(89465);let p=class extends h.BaseShellDetector{constructor(e,t){super(1),this.currentProcess=e,this.platform=t}getDefaultPlatformShell(){return e=this.platform,t=this.currentProcess,e.osType===u.OSType.Windows?function(e,t){const r=parseFloat(e.osRelease)>=10,n=t.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),i=`${t.env.windir}\\${n?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return r?i:function(e){return e.env.comspec||"cmd.exe"}(t)}(e,t):t.env.SHELL&&"/bin/false"!==t.env.SHELL?t.env.SHELL:"/bin/bash";var e,t}identify(e,t){const r=this.getDefaultPlatformShell();e.hasShellInEnv=!!r;const n=this.identifyShellFromShellPath(r);return n!==l.TerminalShellType.other&&(e.shellIdentificationSource="environment"),(0,s.traceVerbose)(`Shell path from user env '${r}'`),n}};p=n([(0,o.injectable)(),i(0,(0,o.inject)(c.ICurrentProcess)),i(1,(0,o.inject)(a.IPlatformService))],p),t.UserEnvironmentShellDetector=p},80656:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCEnvironmentShellDetector=void 0;const o=r(86700),s=r(19735),a=r(17585),c=r(58400),u=r(89465);let l=class extends u.BaseShellDetector{constructor(e){super(3),this.appEnv=e}identify(e,t){const r=(null==t?void 0:t.creationOptions)&&"shellPath"in t.creationOptions&&t.creationOptions.shellPath?t.creationOptions.shellPath:this.appEnv.shell;if(!r)return;const n=this.identifyShellFromShellPath(r);return(0,s.traceVerbose)(`Terminal shell path '${r}' identified as shell '${n}'`),e.shellIdentificationSource=n===c.TerminalShellType.other?e.shellIdentificationSource:"vscode",e.failed=n!==c.TerminalShellType.other,n}};l=n([i(0,(0,o.inject)(a.IApplicationEnvironment))],l),t.VSCEnvironmentShellDetector=l},88624:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SynchronousTerminalService=void 0;const o=r(86700),s=r(18639),a=r(19735),c=r(29979),u=r(84974),l=r(4057),h=r(59314),p=r(3481);var d;!function(e){e[e.notStarted=0]="notStarted",e[e.started=1]="started",e[e.completed=2]="completed",e[e.errored=4]="errored"}(d||(d={}));class f{constructor(e,t,r){this.lockFile=e,this.fs=t,this.command=r,this.state=d.notStarted,this._completed=(0,h.createDeferred)(),this.registerStateUpdate(),this._completed.promise.finally((()=>this.dispose())).ignoreErrors()}get completed(){return this._completed.promise}dispose(){this.disposable&&(this.disposable.dispose(),this.disposable=void 0)}registerStateUpdate(){const e=setInterval((async()=>{const e=await this.getLockFileState(this.lockFile);if(e!==this.state&&(0,a.traceVerbose)(`Command state changed to ${e}. ${this.command.join(" ")}`),this.state=e,e&d.errored){const e=await this.fs.readFile(`${this.lockFile}.error`).catch((()=>""));this._completed.reject(new Error(`Command failed with errors, check the terminal for details. Command: ${this.command.join(" ")}\n${e}`))}else e&d.completed&&this._completed.resolve()}),100);this.disposable={dispose:()=>clearInterval(e)}}async getLockFileState(e){const t=await this.fs.readFile(e);let r=d.notStarted;return t.includes("START")&&(r|=d.started),t.includes("END")&&(r|=d.completed),t.includes("FAIL")&&(r|=d.completed|d.errored),r}}let v=class{constructor(e,t,r,n){this.fs=e,this.interpreter=t,this.terminalService=r,this.pythonInterpreter=n,this.disposables=[]}get onDidCloseTerminal(){return this.terminalService.onDidCloseTerminal}dispose(){for(this.terminalService.dispose();this.disposables.length;){const e=this.disposables.shift();if(!e)break;try{e.dispose()}catch(e){(0,p.noop)()}}}async sendCommand(e,t,r,n=!0){if(!r)return this.terminalService.sendCommand(e,t);const i=await this.createLockFile(),o=new f(i.filePath,this.fs,[e,...t]);try{const s=this.pythonInterpreter||await this.interpreter.getActiveInterpreter(void 0),a=l.shell_exec(e,i.filePath,t);await this.terminalService.sendCommand((null==s?void 0:s.path)||"python",a);const u=n?o.completed:o.completed.catch(p.noop);await c.Cancellation.race((()=>u),r)}finally{o.dispose(),i.dispose()}}sendText(e){return this.terminalService.sendText(e)}show(e){return this.terminalService.show(e)}createLockFile(){return this.fs.createTemporaryFile(".log").then((e=>(this.disposables.push(e),e)))}};v=n([i(0,(0,o.inject)(u.IFileSystem)),i(1,(0,o.inject)(s.IInterpreterService))],v),t.SynchronousTerminalService=v},58400:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.IShellDetector=t.ITerminalActivationCommandProvider=t.ITerminalActivator=t.ITerminalHelper=t.ITerminalServiceFactory=t.TerminalShellType=t.TerminalActivationProviders=void 0,(n=t.TerminalActivationProviders||(t.TerminalActivationProviders={})).bashCShellFish="bashCShellFish",n.commandPromptAndPowerShell="commandPromptAndPowerShell",n.pyenv="pyenv",n.conda="conda",n.pipenv="pipenv",(r=t.TerminalShellType||(t.TerminalShellType={})).powershell="powershell",r.powershellCore="powershellCore",r.commandPrompt="commandPrompt",r.gitbash="gitbash",r.bash="bash",r.zsh="zsh",r.ksh="ksh",r.fish="fish",r.cshell="cshell",r.tcshell="tshell",r.wsl="wsl",r.xonsh="xonsh",r.other="other",t.ITerminalServiceFactory=Symbol("ITerminalServiceFactory"),t.ITerminalHelper=Symbol("ITerminalHelper"),t.ITerminalActivator=Symbol("ITerminalActivator"),t.ITerminalActivationCommandProvider=Symbol("ITerminalActivationCommandProvider"),t.IShellDetector=Symbol("IShellDetector")},61684:(e,t)=>{"use strict";var r,n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterPathService=t.IAsyncDisposableRegistry=t.IEditorUtils=t.IBrowserService=t.IExtensions=t.IExtensionContext=t.IHttpClient=t.IFileDownloader=t.ISocketServer=t.ToolExecutionPath=t.IToolExecutionPath=t.IConfigurationService=t.ICurrentProcess=t.IRandom=t.IPathUtils=t.IInstaller=t.Product=t.ProductType=t.ProductInstallStatus=t.InstallerResponse=t.IPersistentStateFactory=t.WORKSPACE_MEMENTO=t.GLOBAL_MEMENTO=t.IMemento=t.IDisposableRegistry=t.IsWindows=t.IDocumentSymbolProvider=t.IOutputChannel=void 0,t.IOutputChannel=Symbol("IOutputChannel"),t.IDocumentSymbolProvider=Symbol("IDocumentSymbolProvider"),t.IsWindows=Symbol("IS_WINDOWS"),t.IDisposableRegistry=Symbol("IDisposableRegistry"),t.IMemento=Symbol("IGlobalMemento"),t.GLOBAL_MEMENTO=Symbol("IGlobalMemento"),t.WORKSPACE_MEMENTO=Symbol("IWorkspaceMemento"),t.IPersistentStateFactory=Symbol("IPersistentStateFactory"),(o=t.InstallerResponse||(t.InstallerResponse={}))[o.Installed=0]="Installed",o[o.Disabled=1]="Disabled",o[o.Ignore=2]="Ignore",(i=t.ProductInstallStatus||(t.ProductInstallStatus={}))[i.Installed=0]="Installed",i[i.NotInstalled=1]="NotInstalled",i[i.NeedsUpgrade=2]="NeedsUpgrade",(n=t.ProductType||(t.ProductType={})).DataScience="DataScience",n.Python="Python",(r=t.Product||(t.Product={}))[r.pytest=1]="pytest",r[r.pylint=3]="pylint",r[r.flake8=4]="flake8",r[r.pycodestyle=5]="pycodestyle",r[r.pylama=6]="pylama",r[r.prospector=7]="prospector",r[r.pydocstyle=8]="pydocstyle",r[r.yapf=9]="yapf",r[r.autopep8=10]="autopep8",r[r.mypy=11]="mypy",r[r.unittest=12]="unittest",r[r.isort=15]="isort",r[r.black=16]="black",r[r.bandit=17]="bandit",r[r.jupyter=18]="jupyter",r[r.ipykernel=19]="ipykernel",r[r.notebook=20]="notebook",r[r.kernelspec=21]="kernelspec",r[r.nbconvert=22]="nbconvert",r[r.pandas=23]="pandas",r[r.tensorboard=24]="tensorboard",r[r.torchProfilerInstallName=25]="torchProfilerInstallName",r[r.torchProfilerImportName=26]="torchProfilerImportName",r[r.pip=27]="pip",r[r.ensurepip=28]="ensurepip",r[r.python=29]="python",t.IInstaller=Symbol("IInstaller"),t.IPathUtils=Symbol("IPathUtils"),t.IRandom=Symbol("IRandom"),t.ICurrentProcess=Symbol("ICurrentProcess"),t.IConfigurationService=Symbol("IConfigurationService"),t.IToolExecutionPath=Symbol("IToolExecutionPath"),(t.ToolExecutionPath||(t.ToolExecutionPath={})).pipenv="pipenv",t.ISocketServer=Symbol("ISocketServer"),t.IFileDownloader=Symbol("IFileDownloader"),t.IHttpClient=Symbol("IHttpClient"),t.IExtensionContext=Symbol("ExtensionContext"),t.IExtensions=Symbol("IExtensions"),t.IBrowserService=Symbol("IBrowserService"),t.IEditorUtils=Symbol("IEditorUtils"),t.IAsyncDisposableRegistry=Symbol("IAsyncDisposableRegistry"),t.IInterpreterPathService=Symbol("IInterpreterPathService")},99910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncForEach=t.asyncFilter=void 0,t.asyncFilter=async function(e,t){const r=await Promise.all(e.map(t));return e.filter(((e,t)=>r[t]))},t.asyncForEach=async function(e,t){await Promise.all(e.map(t))}},59314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenIterator=t.iterable=t.mapToIterator=t.chain=t.iterEmpty=t.createDeferredFromPromise=t.createDeferredFrom=t.createDeferred=t.isPromise=t.isThenable=t.sleep=void 0,t.sleep=async function(e){return new Promise((t=>{setTimeout((()=>t(e)),e)}))},t.isThenable=function(e){return"function"==typeof(null==e?void 0:e.then)},t.isPromise=function(e){return"function"==typeof(null==e?void 0:e.then)&&"function"==typeof(null==e?void 0:e.catch)};class r{constructor(e=null){this.scope=e,this._resolved=!1,this._rejected=!1,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this._resolve.apply(this.scope?this.scope:this,[e]),this._resolved=!0}reject(e){this._reject.apply(this.scope?this.scope:this,[e]),this._rejected=!0}get promise(){return this._promise}get resolved(){return this._resolved}get rejected(){return this._rejected}get completed(){return this._rejected||this._resolved}}function n(e=null){return new r(e)}async function i(e,t){const r=void 0===t?-1:t;try{return{index:r,result:await e.next(),err:null}}catch(e){return{index:r,err:e,result:null}}}t.createDeferred=n,t.createDeferredFrom=function(...e){const t=n();return Promise.all(e).then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.createDeferredFromPromise=function(e){const t=n();return e.then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.iterEmpty=function(){return async function*(){}()};const o=new Promise((()=>{}));async function*s(e,t){const r=e.map(i);let n=e.length;for(;n>0;){const{index:s,result:a,err:c}=await Promise.race(r);null!==c?(r[s]=o,n-=1,void 0!==t&&await t(c,s)):a.done?(r[s]=o,n-=1,void 0!==a.value&&(yield a.value)):(r[s]=i(e[s],s),yield a.value)}}function a(e){const t=e;return void 0===t[Symbol.asyncIterator]&&(t[Symbol.asyncIterator]=()=>t),t}t.chain=s,t.mapToIterator=async function*(e,t,r=!0){if(r){const r=e.map((e=>async function*(){yield t(e)}()));yield*a(s(r))}else yield*e.map(t)},t.iterable=a,t.flattenIterator=async function(e){const t=[];for await(const r of a(e))t.push(r);return t}},35144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryCache=t.clearCache=t.getCacheKeyFromFunctionArgs=t.getGlobalCacheStore=void 0;const r=new Map;t.getGlobalCacheStore=function(){return r},t.getCacheKeyFromFunctionArgs=function(e,t){return`KeyPrefix=${e}-Args=${t.map((e=>`${JSON.stringify(e)}`)).join("-Arg-Separator-")}`},t.clearCache=function(){r.clear()},t.InMemoryCache=class{constructor(e){this.expiryDurationMs=e}get hasData(){return!(!this.cacheData||this.hasExpired(this.cacheData.expiry))||(this.cacheData=void 0,!1)}get data(){var e;if(this.hasData)return null===(e=this.cacheData)||void 0===e?void 0:e.value}set data(e){this.cacheData=void 0!==e?{expiry:this.calculateExpiry(),value:e}:void 0}clear(){this.cacheData=void 0}hasExpired(e){return e<=Date.now()}calculateExpiry(){return Date.now()+this.expiryDurationMs}}},36952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.swallowExceptions=t.cache=t.makeDebounceAsyncDecorator=t.makeDebounceDecorator=t.debounceAsync=t.debounceSync=void 0,r(32727);const n=r(19735),i=r(77570),o=r(59314),s=r(35144),a=r(70057),c=r(23279);function u(e){return function(t,r,n){const i=n.value,o=c((function(){return i.apply(this,arguments)}),e,{});n.value=o}}function l(e){return function(t,r,n){const i=n.value,s={started:!1,deferred:void 0,timer:void 0};n.value=function(){const t=s.deferred;if(t&&s.started)return t.promise;const r=t&&t.completed,n=s.deferred=!t||r?(0,o.createDeferred)():t;return s.timer&&clearTimeout(s.timer),s.timer=setTimeout((async()=>{s.started=!0,i.apply(this).then((e=>{s.started=!1,n.resolve(e)})).catch((e=>{s.started=!1,n.reject(e)}))}),e||0),n.promise}}}t.debounceSync=function(e){return(0,i.isTestExecution)()&&(e=void 0),u(e)},t.debounceAsync=function(e){return(0,i.isTestExecution)()&&(e=void 0),l(e)},t.makeDebounceDecorator=u,t.makeDebounceAsyncDecorator=l;const h=(0,s.getGlobalCacheStore)(),p=new a.StopWatch;t.cache=function(e,t=!1,r){return function(o,a,c){const u=c.value,l=`Cache_Method_Output_${"constructor"in o&&o.constructor.name?o.constructor.name:""}.${a}`;c.value=async function(...o){if((0,i.isTestExecution)())return u.apply(this,o);let a;try{a=(0,s.getCacheKeyFromFunctionArgs)(l,o)}catch(e){return(0,n.traceError)("Error while creating key for keyPrefix:",l,e),u.apply(this,o)}const c=h.get(a);if(c&&(c.expiry>Date.now()||-1===e))return(0,n.traceVerbose)(`Cached data exists ${a}`),Promise.resolve(c.data);const d=r&&p.elapsedTime>2e5?r:e,f=u.apply(this,o);return t?h.set(a,{data:f,expiry:Date.now()+d}):f.then((e=>h.set(a,{data:e,expiry:Date.now()+d}))).ignoreErrors(),f}}},t.swallowExceptions=function(e){return function(t,r,o){const s=o.value,a=`Python Extension (Error in ${e||r}, method:${r}):`;o.value=function(...e){try{const t=s.apply(this,e);if(t&&"function"==typeof t.then&&"function"==typeof t.catch)return t.catch((e=>{(0,i.isTestExecution)()||(0,n.traceError)(a,e)}))}catch(e){if((0,i.isTestExecution)())return;(0,n.traceError)(a,e)}}}}},47237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidAndExecutable=t.getSearchPathEntries=t.getSearchPathEnvVarNames=void 0;const n=r(57147),i=r(71017),o=r(87450);function s(e=(0,o.getOSType)()){return e===o.OSType.Windows?["Path","PATH"]:["PATH"]}t.getSearchPathEnvVarNames=s,t.getSearchPathEntries=function(){const e=s();for(const t of e){const e=(0,o.getEnvironmentVariable)(t);if(void 0!==e)return e.split(i.delimiter).map((e=>e.trim())).filter((e=>e.length>0))}return[]},t.isValidAndExecutable=async function(e){try{await n.promises.access(e,n.constants.X_OK)}catch(e){return!1}if((0,o.getOSType)()!==o.OSType.Windows)return!0}},56091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileFilter=t.getFileType=t.convertFileType=t.FileType=void 0;const n=r(57147),i=r(66828),o=r(19735);function s(e){return e.isFile()?t.FileType.File:e.isDirectory()?t.FileType.Directory:e.isSymbolicLink()?t.FileType.SymbolicLink:t.FileType.Unknown}async function a(e,r={ignoreErrors:!0}){let i;try{i=await n.promises.lstat(e)}catch(n){if("ENOENT"===n.code)return;if(r.ignoreErrors)return(0,o.traceError)(`lstat() failed for "${e}" (${n})`),t.FileType.Unknown;throw n}return s(i)}t.FileType=i.FileType,t.convertFileType=s,t.getFileType=a,t.getFileFilter=function(e={ignoreMissing:!0}){const r=function(e){if(void 0!==e){if(Array.isArray(e)){if(0===e.length)return;return e}return[e]}}(e.ignoreFileType);if(e.ignoreMissing||r)return async function(n){let i=await async function(e,t={}){let r;if("string"!=typeof e){if(!t.ensure){if(void 0===t.onMissing)return e;if(void 0!==await a(e.filename))return e}r=e.filename}else r=e;const n=await a(r)||t.onMissing;if(void 0!==n)return{filename:r,filetype:n}}(n,{ensure:e.ensureEntry});if(!i){if(e.ignoreMissing)return!1;i={filename:"string"==typeof n?n:n.filename,filetype:t.FileType.Unknown}}return!r||!r.includes(i.filetype)}}},67098:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchToDefaultLS=t.Python27Support=t.OutdatedDebugger=t.Testing=t.DebugConfigStrings=t.Products=t.ExtensionSurveyBanner=t.Installer=t.Linters=t.Logging=t.OutputChannelNames=t.InterpreterQuickPickList=t.Interpreters=t.Experiments=t.Http=t.LanguageService=t.TensorBoard=t.Pylance=t.AttachProcess=t.CommonSurvey=t.Common=t.Diagnostics=void 0;const n=r(90209),i=r(88586);function o(e,t){return()=>function(e,t){return(0,i.shouldLoadUsingNodeFS)()&&(0,i.loadLocalizedStringsUsingNodeFS)(new n.FileSystem),(0,i.getLocalizedString)(e,t)}(e,t)}var s,a,c,u,l,h,p,d,f,v,y,m,g,b,_,E,S;(S=t.Diagnostics||(t.Diagnostics={})).warnSourceMaps=o("diagnostics.warnSourceMaps","Source map support is enabled in the Python Extension, this will adversely impact performance of the extension."),S.disableSourceMaps=o("diagnostics.disableSourceMaps","Disable Source Map Support"),S.warnBeforeEnablingSourceMaps=o("diagnostics.warnBeforeEnablingSourceMaps","Enabling source map support in the Python Extension will adversely impact performance of the extension."),S.enableSourceMapsAndReloadVSC=o("diagnostics.enableSourceMapsAndReloadVSC","Enable and reload Window."),S.lsNotSupported=o("diagnostics.lsNotSupported","Your operating system does not meet the minimum requirements of the Python Language Server. Reverting to the alternative autocompletion provider, Jedi."),S.removedPythonPathFromSettings=o("diagnostics.removedPythonPathFromSettings",'The "python.pythonPath" setting in your settings.json is no longer used by the Python extension. If you want, you can use a new setting called "python.defaultInterpreterPath" instead. Keep in mind that you need to change the value of this setting manually as the Python extension doesn\'t modify it when you change interpreters. [Learn more](https://aka.ms/AA7jfor).'),S.invalidPythonPathInDebuggerSettings=o("diagnostics.invalidPythonPathInDebuggerSettings",'You need to select a Python interpreter before you start debugging.\n\nTip: click on "Select Python Interpreter" in the status bar.'),S.invalidPythonPathInDebuggerLaunch=o("diagnostics.invalidPythonPathInDebuggerLaunch","The Python path in your debug configuration is invalid."),S.invalidDebuggerTypeDiagnostic=o("diagnostics.invalidDebuggerTypeDiagnostic",'Your launch.json file needs to be updated to change the "pythonExperimental" debug configurations to use the "python" debugger type, otherwise Python debugging may not work. Would you like to automatically update your launch.json file now?'),S.consoleTypeDiagnostic=o("diagnostics.consoleTypeDiagnostic",'Your launch.json file needs to be updated to change the console type string from "none" to "internalConsole", otherwise Python debugging may not work. Would you like to automatically update your launch.json file now?'),S.justMyCodeDiagnostic=o("diagnostics.justMyCodeDiagnostic",'Configuration "debugStdLib" in launch.json is no longer supported. It\'s recommended to replace it with "justMyCode", which is the exact opposite of using "debugStdLib". Would you like to automatically update your launch.json file to do that?'),S.yesUpdateLaunch=o("diagnostics.yesUpdateLaunch","Yes, update launch.json"),S.invalidTestSettings=o("diagnostics.invalidTestSettings",'Your settings needs to be updated to change the setting "python.unitTest." to "python.testing.", otherwise testing Python code using the extension may not work. Would you like to automatically update your settings now?'),S.updateSettings=o("diagnostics.updateSettings","Yes, update settings"),S.checkIsort5UpgradeGuide=o("diagnostics.checkIsort5UpgradeGuide","We found outdated configuration for sorting imports in this workspace. Check the [isort upgrade guide](https://aka.ms/AA9j5x4) to update your settings."),S.pylanceDefaultMessage=o("diagnostics.pylanceDefaultMessage","The Python extension now includes Pylance to improve completions, code navigation, overall performance and much more! You can learn more about the update and learn how to change your language server [here](https://aka.ms/new-python-bundle).\n\nRead Pylance's license [here](https://marketplace.visualstudio.com/items/ms-python.vscode-pylance/license)."),(E=t.Common||(t.Common={})).bannerLabelYes=o("Common.bannerLabelYes","Yes"),E.bannerLabelNo=o("Common.bannerLabelNo","No"),E.yesPlease=o("Common.yesPlease","Yes, please"),E.canceled=o("Common.canceled","Canceled"),E.cancel=o("Common.cancel","Cancel"),E.ok=o("Common.ok","Ok"),E.gotIt=o("Common.gotIt","Got it!"),E.install=o("Common.install","Install"),E.loadingExtension=o("Common.loadingPythonExtension","Python extension loading..."),E.openOutputPanel=o("Common.openOutputPanel","Show output"),E.noIWillDoItLater=o("Common.noIWillDoItLater","No, I will do it later"),E.notNow=o("Common.notNow","Not now"),E.doNotShowAgain=o("Common.doNotShowAgain","Do not show again"),E.reload=o("Common.reload","Reload"),E.moreInfo=o("Common.moreInfo","More Info"),E.learnMore=o("Common.learnMore","Learn more"),E.and=o("Common.and","and"),E.reportThisIssue=o("Common.reportThisIssue","Report this issue"),E.recommended=o("Common.recommended","Recommended"),E.clearAll=o("Common.clearAll","Clear all"),(_=t.CommonSurvey||(t.CommonSurvey={})).remindMeLaterLabel=o("CommonSurvey.remindMeLaterLabel","Remind me later"),_.yesLabel=o("CommonSurvey.yesLabel","Yes, take survey now"),_.noLabel=o("CommonSurvey.noLabel","No, thanks"),(b=t.AttachProcess||(t.AttachProcess={})).unsupportedOS=o("AttachProcess.unsupportedOS","Operating system '{0}' not supported."),b.attachTitle=o("AttachProcess.attachTitle","Attach to process"),b.selectProcessPlaceholder=o("AttachProcess.selectProcessPlaceholder","Select the process to attach to"),b.noProcessSelected=o("AttachProcess.noProcessSelected","No process selected"),b.refreshList=o("AttachProcess.refreshList","Refresh process list"),(g=t.Pylance||(t.Pylance={})).remindMeLater=o("Pylance.remindMeLater","Remind me later"),g.pylanceNotInstalledMessage=o("Pylance.pylanceNotInstalledMessage","Pylance extension is not installed."),g.pylanceInstalledReloadPromptMessage=o("Pylance.pylanceInstalledReloadPromptMessage","Pylance extension is now installed. Reload window to activate?"),g.pylanceRevertToJediPrompt=o("Pylance.pylanceRevertToJediPrompt",'The Pylance extension is not installed but the python.languageServer value is set to "Pylance". Would you like to install the Pylance extension to use Pylance, or revert back to Jedi?'),g.pylanceInstallPylance=o("Pylance.pylanceInstallPylance","Install Pylance"),g.pylanceRevertToJedi=o("Pylance.pylanceRevertToJedi","Revert to Jedi"),(m=t.TensorBoard||(t.TensorBoard={})).enterRemoteUrl=o("TensorBoard.enterRemoteUrl","Enter remote URL"),m.enterRemoteUrlDetail=o("TensorBoard.enterRemoteUrlDetail","Enter a URL pointing to a remote directory containing your TensorBoard log files"),m.useCurrentWorkingDirectoryDetail=o("TensorBoard.useCurrentWorkingDirectoryDetail","TensorBoard will search for tfevent files in all subdirectories of the current working directory"),m.useCurrentWorkingDirectory=o("TensorBoard.useCurrentWorkingDirectory","Use current working directory"),m.currentDirectory=o("TensorBoard.currentDirectory","Current: {0}"),m.logDirectoryPrompt=o("TensorBoard.logDirectoryPrompt","Select a log directory to start TensorBoard with"),m.progressMessage=o("TensorBoard.progressMessage","Starting TensorBoard session..."),m.failedToStartSessionError=o("TensorBoard.failedToStartSessionError","We failed to start a TensorBoard session due to the following error: {0}"),m.nativeTensorBoardPrompt=o("TensorBoard.nativeTensorBoardPrompt",'VS Code now has integrated TensorBoard support. Would you like to launch TensorBoard?  (Tip: Launch TensorBoard anytime by opening the command palette and searching for "Launch TensorBoard".)'),m.selectAFolder=o("TensorBoard.selectAFolder","Select a folder"),m.selectAFolderDetail=o("TensorBoard.selectAFolderDetail","Select a log directory containing tfevent files"),m.selectAnotherFolder=o("TensorBoard.selectAnotherFolder","Select another folder"),m.selectAnotherFolderDetail=o("TensorBoard.selectAnotherFolderDetail","Use the file explorer to select another folder"),m.installPrompt=o("TensorBoard.installPrompt","The package TensorBoard is required to launch a TensorBoard session. Would you like to install it?"),m.installTensorBoardAndProfilerPluginPrompt=o("TensorBoard.installTensorBoardAndProfilerPluginPrompt","TensorBoard >= 2.4.1 and the PyTorch Profiler TensorBoard plugin >= 0.2.0 are required. Would you like to install these packages?"),m.installProfilerPluginPrompt=o("TensorBoard.installProfilerPluginPrompt","We recommend installing version >= 0.2.0 of the PyTorch Profiler TensorBoard plugin. Would you like to install the package?"),m.upgradePrompt=o("TensorBoard.upgradePrompt","Integrated TensorBoard support is only available for TensorBoard >= 2.4.1. Would you like to upgrade your copy of TensorBoard?"),m.launchNativeTensorBoardSessionCodeLens=o("TensorBoard.launchNativeTensorBoardSessionCodeLens"," Launch TensorBoard Session"),m.launchNativeTensorBoardSessionCodeAction=o("TensorBoard.launchNativeTensorBoardSessionCodeAction","Launch TensorBoard session"),m.missingSourceFile=o("TensorBoard.missingSourceFile","We could not locate the requested source file on disk. Please manually specify the file."),m.selectMissingSourceFile=o("TensorBoard.selectMissingSourceFile","Choose File"),m.selectMissingSourceFileDescription=o("TensorBoard.selectMissingSourceFileDescription","The source file's contents may not match the original contents in the trace."),(y=t.LanguageService||(t.LanguageService={})).virtualWorkspaceStatusItem={detail:o("LanguageService.virtualWorkspaceStatusItem.detail","Limited IntelliSense supported by Jedi and Pylance")},y.statusItem={name:o("LanguageService.statusItem.name","Python IntelliSense Status"),text:o("LanguageService.statusItem.text","Partial Mode"),detail:o("LanguageService.statusItem.detail","Limited IntelliSense provided by Pylance")},y.startingPylance=o("LanguageService.startingPylance","Starting Pylance language server."),y.startingJedi=o("LanguageService.startingJedi","Starting Jedi language server."),y.startingNone=o("LanguageService.startingNone","Editor support is inactive since language server is set to None."),y.untrustedWorkspaceMessage=o("LanguageService.untrustedWorkspaceMessage","Only Pylance is supported in untrusted workspaces, setting language server to None."),y.reloadAfterLanguageServerChange=o("LanguageService.reloadAfterLanguageServerChange","Please reload the window switching between language servers."),y.lsFailedToStart=o("LanguageService.lsFailedToStart","We encountered an issue starting the language server. Reverting to Jedi language engine. Check the Python output panel for details."),y.lsFailedToDownload=o("LanguageService.lsFailedToDownload","We encountered an issue downloading the language server. Reverting to Jedi language engine. Check the Python output panel for details."),y.lsFailedToExtract=o("LanguageService.lsFailedToExtract","We encountered an issue extracting the language server. Reverting to Jedi language engine. Check the Python output panel for details."),y.downloadFailedOutputMessage=o("LanguageService.downloadFailedOutputMessage","Language server download failed."),y.extractionFailedOutputMessage=o("LanguageService.extractionFailedOutputMessage","Language server extraction failed."),y.extractionCompletedOutputMessage=o("LanguageService.extractionCompletedOutputMessage","Language server download complete."),y.extractionDoneOutputMessage=o("LanguageService.extractionDoneOutputMessage","done."),y.reloadVSCodeIfSeachPathHasChanged=o("LanguageService.reloadVSCodeIfSeachPathHasChanged","Search paths have changed for this Python interpreter. Please reload the extension to ensure that the IntelliSense works correctly."),(v=t.Http||(t.Http={})).downloadingFile=o("downloading.file","Downloading {0}..."),v.downloadingFileProgress=o("downloading.file.progress","{0}{1} of {2} KB ({3}%)"),(f=t.Experiments||(t.Experiments={})).inGroup=o("Experiments.inGroup","Experiment '{0}' is active"),f.optedOutOf=o("Experiments.optedOutOf","Experiment '{0}' is inactive"),(d=t.Interpreters||(t.Interpreters={})).installingPython=o("Interpreters.installingPython","Installing Python into Environment..."),d.discovering=o("Interpreters.DiscoveringInterpreters","Discovering Python Interpreters"),d.refreshing=o("Interpreters.RefreshingInterpreters","Refreshing Python Interpreters"),d.condaInheritEnvMessage=o("Interpreters.condaInheritEnvMessage",'We noticed you\'re using a conda environment. If you are experiencing issues with this environment in the integrated terminal, we recommend that you let the Python extension change "terminal.integrated.inheritEnv" to false in your user settings.'),d.environmentPromptMessage=o("Interpreters.environmentPromptMessage","We noticed a new virtual environment has been created. Do you want to select it for the workspace folder?"),d.entireWorkspace=o("Interpreters.entireWorkspace","Select at workspace level"),d.clearAtWorkspace=o("Interpreters.clearAtWorkspace","Clear at workspace level"),d.selectInterpreterTip=o("Interpreters.selectInterpreterTip","Tip: you can change the Python interpreter used by the Python extension by clicking on the Python version in the status bar"),d.pythonInterpreterPath=o("Interpreters.pythonInterpreterPath","Python interpreter path: {0}"),(p=t.InterpreterQuickPickList||(t.InterpreterQuickPickList={})).globalGroupName=o("InterpreterQuickPickList.globalGroupName","Global"),p.workspaceGroupName=o("InterpreterQuickPickList.workspaceGroupName","Workspace"),p.quickPickListPlaceholder=o("InterpreterQuickPickList.quickPickListPlaceholder","Selected Interpreter: {0}"),p.enterPath={label:o("InterpreterQuickPickList.enterPath.label","Enter interpreter path..."),placeholder:o("InterpreterQuickPickList.enterPath.placeholder","Enter path to a Python interpreter.")},p.defaultInterpreterPath={label:o("InterpreterQuickPickList.defaultInterpreterPath.label","Use Python from `python.defaultInterpreterPath` setting")},p.browsePath={label:o("InterpreterQuickPickList.browsePath.label","Find..."),detail:o("InterpreterQuickPickList.browsePath.detail","Browse your file system to find a Python interpreter."),openButtonLabel:o("python.command.python.setInterpreter.title","Select Interpreter"),title:o("InterpreterQuickPickList.browsePath.title","Select Python interpreter")},p.refreshInterpreterList=o("InterpreterQuickPickList.refreshInterpreterList","Refresh Interpreter list"),(h=t.OutputChannelNames||(t.OutputChannelNames={})).languageServer=o("OutputChannelNames.languageServer","Python Language Server"),h.python=o("OutputChannelNames.python","Python"),h.pythonTest=o("OutputChannelNames.pythonTest","Python Test Log"),(t.Logging||(t.Logging={})).currentWorkingDirectory=o("Logging.CurrentWorkingDirectory","cwd:"),(l=t.Linters||(t.Linters={})).replaceWithSelectedLinter=o("Linter.replaceWithSelectedLinter","Multiple linters are enabled in settings. Replace with '{0}'?"),l.selectLinter=o("Linter.selectLinter","Select Linter"),(u=t.Installer||(t.Installer={})).noCondaOrPipInstaller=o("Installer.noCondaOrPipInstaller","There is no Conda or Pip installer available in the selected environment."),u.noPipInstaller=o("Installer.noPipInstaller","There is no Pip installer available in the selected environment."),u.searchForHelp=o("Installer.searchForHelp","Search for help"),u.couldNotInstallLibrary=o("Installer.couldNotInstallLibrary","Could not install {0}. If pip is not available, please use the package manager of your choice to manually install this library into your Python environment."),u.dataScienceInstallPrompt=o("Installer.dataScienceInstallPrompt","Data Science library {0} is not installed. Install?"),(c=t.ExtensionSurveyBanner||(t.ExtensionSurveyBanner={})).bannerMessage=o("ExtensionSurveyBanner.bannerMessage","Can you please take 2 minutes to tell us how the Python extension is working for you?"),c.bannerLabelYes=o("ExtensionSurveyBanner.bannerLabelYes","Yes, take survey now"),c.bannerLabelNo=o("ExtensionSurveyBanner.bannerLabelNo","No, thanks"),c.maybeLater=o("ExtensionSurveyBanner.maybeLater","Maybe later"),(a=t.Products||(t.Products={})).installingModule=o("products.installingModule","Installing {0}"),a.formatterNotInstalled=o("products.formatterNotInstalled","Formatter {0} is not installed. Install?"),a.useFormatter=o("products.useFormatter","Use {0}"),a.invalidFormatterPath=o("products.invalidFormatterPath","Path to the {0} formatter is invalid ({1})"),function(e){let t,r,n,i,s,a,c,u;e.selectConfiguration={title:o("debug.selectConfigurationTitle"),placeholder:o("debug.selectConfigurationPlaceholder")},e.launchJsonCompletions={label:o("debug.launchJsonConfigurationsCompletionLabel"),description:o("debug.launchJsonConfigurationsCompletionDescription")},function(e){e.snippet={name:o("python.snippet.launch.standard.label")},e.selectConfiguration={label:o("debug.debugFileConfigurationLabel"),description:o("debug.debugFileConfigurationDescription")}}(t=e.file||(e.file={})),function(e){e.snippet={name:o("python.snippet.launch.module.label"),default:o("python.snippet.launch.module.default")},e.selectConfiguration={label:o("debug.debugModuleConfigurationLabel"),description:o("debug.debugModuleConfigurationDescription")},e.enterModule={title:o("debug.moduleEnterModuleTitle"),prompt:o("debug.moduleEnterModulePrompt"),default:o("debug.moduleEnterModuleDefault"),invalid:o("debug.moduleEnterModuleInvalidNameError")}}(r=e.module||(e.module={})),function(e){e.snippet={name:o("python.snippet.launch.attach.label")},e.selectConfiguration={label:o("debug.remoteAttachConfigurationLabel"),description:o("debug.remoteAttachConfigurationDescription")},e.enterRemoteHost={title:o("debug.attachRemoteHostTitle"),prompt:o("debug.attachRemoteHostPrompt"),invalid:o("debug.attachRemoteHostValidationError")},e.enterRemotePort={title:o("debug.attachRemotePortTitle"),prompt:o("debug.attachRemotePortPrompt"),invalid:o("debug.attachRemotePortValidationError")}}(n=e.attach||(e.attach={})),function(e){e.snippet={name:o("python.snippet.launch.attachpid.label")},e.selectConfiguration={label:o("debug.attachPidConfigurationLabel"),description:o("debug.attachPidConfigurationDescription")}}(i=e.attachPid||(e.attachPid={})),function(e){e.snippet={name:o("python.snippet.launch.django.label")},e.selectConfiguration={label:o("debug.debugDjangoConfigurationLabel"),description:o("debug.debugDjangoConfigurationDescription")},e.enterManagePyPath={title:o("debug.djangoEnterManagePyPathTitle"),prompt:o("debug.djangoEnterManagePyPathPrompt"),invalid:o("debug.djangoEnterManagePyPathInvalidFilePathError")}}(s=e.django||(e.django={})),function(e){e.snippet={name:o("python.snippet.launch.fastapi.label")},e.selectConfiguration={label:o("debug.debugFastAPIConfigurationLabel"),description:o("debug.debugFastAPIConfigurationDescription")},e.enterAppPathOrNamePath={title:o("debug.fastapiEnterAppPathOrNamePathTitle"),prompt:o("debug.fastapiEnterAppPathOrNamePathPrompt"),invalid:o("debug.fastapiEnterAppPathOrNamePathInvalidNameError")}}(a=e.fastapi||(e.fastapi={})),function(e){e.snippet={name:o("python.snippet.launch.flask.label")},e.selectConfiguration={label:o("debug.debugFlaskConfigurationLabel"),description:o("debug.debugFlaskConfigurationDescription")},e.enterAppPathOrNamePath={title:o("debug.flaskEnterAppPathOrNamePathTitle"),prompt:o("debug.flaskEnterAppPathOrNamePathPrompt"),invalid:o("debug.flaskEnterAppPathOrNamePathInvalidNameError")}}(c=e.flask||(e.flask={})),function(e){e.snippet={name:o("python.snippet.launch.pyramid.label")},e.selectConfiguration={label:o("debug.debugPyramidConfigurationLabel"),description:o("debug.debugPyramidConfigurationDescription")},e.enterDevelopmentIniPath={title:o("debug.pyramidEnterDevelopmentIniPathTitle"),prompt:o("debug.pyramidEnterDevelopmentIniPathPrompt"),invalid:o("debug.pyramidEnterDevelopmentIniPathInvalidFilePathError")}}(u=e.pyramid||(e.pyramid={}))}(t.DebugConfigStrings||(t.DebugConfigStrings={})),(s=t.Testing||(t.Testing={})).configureTests=o("Testing.configureTests","Configure Test Framework"),s.testNotConfigured=o("Testing.testNotConfigured","No test framework configured."),(t.OutdatedDebugger||(t.OutdatedDebugger={})).outdatedDebuggerMessage=o("OutdatedDebugger.updateDebuggerMessage","We noticed you are attaching to ptvsd (Python debugger), which was deprecated on May 1st, 2020. Please switch to [debugpy](https://aka.ms/migrateToDebugpy)."),(t.Python27Support||(t.Python27Support={})).jediMessage=o("Python27Support.jediMessage","IntelliSense with Jedi for Python 2.7 is no longer supported. [Learn more](https://aka.ms/python-27-support)."),(t.SwitchToDefaultLS||(t.SwitchToDefaultLS={})).bannerMessage=o("SwitchToDefaultLS.bannerMessage","The Microsoft Python Language Server has reached end of life. Your language server has been set to the default for Python in VS Code, Pylance.\n\nIf you'd like to change your language server, you can learn about how to do so [here](https://devblogs.microsoft.com/python/python-in-visual-studio-code-may-2021-release/#configuring-your-language-server).\n\nRead Pylance's license [here](https://marketplace.visualstudio.com/items/ms-python.vscode-pylance/license)."),(0,i.loadLocalizedStringsUsingNodeFS)(new n.FileSystem)},88586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadLocalizedStringsForBrowser=t.loadLocalizedStringsUsingNodeFS=t.getLocalizedString=t.shouldLoadUsingNodeFS=t._getAskedForCollection=t._resetCollections=void 0;const n=r(66828),i=r(71017),o=r(63281);let s,a,c,u={};function l(){try{if(null===navigator||void 0===navigator?void 0:navigator.language)return navigator.language.toLowerCase()}catch(e){}const e=process.env.VSCODE_NLS_CONFIG;return e?JSON.parse(e).locale:"en-us"}async function h(e){try{const t=e?`package.nls.${e}.json`:"package.nls.json",r=n.Uri.joinPath(n.Uri.file(o.EXTENSION_ROOT_DIR),t),i=await n.workspace.fs.readFile(r),s=(new TextDecoder).decode(i);return JSON.parse(s)}catch(e){return{}}}t._resetCollections=function(){c="",s=void 0,u={}},t._getAskedForCollection=function(){return u},t.shouldLoadUsingNodeFS=function(){return!s||l()!==c},t.getLocalizedString=function(e,t){let r=a;if(s&&s.hasOwnProperty(e)&&(r=s),void 0===r)throw new Error(`Localizations haven't been loaded yet for key: ${e}`);let n=r[e];return!n&&t&&(n=t),u[e]=n,n},t.loadLocalizedStringsUsingNodeFS=function(e){c=l();const t=i.join(o.EXTENSION_ROOT_DIR,`package.nls.${c}.json`);if(e.fileExistsSync(t)){const r=e.readFileSync(t);s=JSON.parse(r)}else s={};if(!a){const t=i.join(o.EXTENSION_ROOT_DIR,"package.nls.json");if(e.fileExistsSync(t)){const r=e.readFileSync(t);a=JSON.parse(r)}else a={}}},t.loadLocalizedStringsForBrowser=async function(){c=l(),s=await h(c),a||(a=await h())}},3481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNotebookCell=t.getURIFilter=t.isResource=t.noop=void 0;const n=r(77570),i=r(48431);t.noop=function(){},t.isResource=function(e){if(!e)return!0;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme},t.getURIFilter=function(e,t={checkParent:!0}){let r=e.path;for(;r.endsWith("/");)r=r.slice(0,-1);const n=`${r}/`;return function(o){if(o.scheme!==e.scheme)return!1;let s=o.path;for(;s.endsWith("/");)s=s.slice(0,-1);if(t.checkParent&&(0,i.isParentPath)(s,n))return!0;if(t.checkChild){const e=`${s}/`;if((0,i.isParentPath)(r,e))return!0}return!1}},t.isNotebookCell=function(e){const t=function(e){if(!e)return!1;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme}(e)?e:e.uri;return t.scheme.includes(n.NotebookCellScheme)||t.scheme.includes(n.InteractiveInputScheme)}},22207:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepInputFactory=t.IMultiStepInputFactory=t.MultiStepInput=void 0;const o=r(86700),s=r(66828),a=r(17585);class c{constructor(){}}c.back=new c,c.cancel=new c,c.resume=new c;class u{constructor(e){this.shell=e,this.steps=[]}run(e,t){return this.stepThrough(e,t)}async showQuickPick({title:e,step:t,totalSteps:r,items:n,activeItem:i,placeholder:o,customButtonSetup:a,matchOnDescription:u,matchOnDetail:l,acceptFilterBoxTextAsSelection:h,onChangeItem:p,keepScrollPosition:d,sortByLabel:f}){const v=[];try{return await new Promise(((y,m)=>{const g=this.shell.createQuickPick();g.title=e,g.step=t,g.sortByLabel=f||!1,g.totalSteps=r,g.placeholder=o,g.ignoreFocusOut=!0,g.items=n,g.matchOnDescription=u||!1,g.matchOnDetail=l||!1,g.activeItems=i?[i]:[],g.buttons=this.steps.length>1?[s.QuickInputButtons.Back]:[],a&&(g.buttons=[...g.buttons,a.button]),v.push(g.onDidTriggerButton((async e=>{e===s.QuickInputButtons.Back?m(c.back):e===(null==a?void 0:a.button)?await a.callback(g):y(e)})),g.onDidChangeSelection((e=>y(e[0]))),g.onDidHide((()=>{y(void 0)}))),h&&v.push(g.onDidAccept((()=>{y(g.value)}))),this.current&&this.current.dispose(),this.current=g,p&&v.push(p.event((e=>p.callback(e,g)))),this.current.show(),g.keepScrollPosition=d}))}finally{v.forEach((e=>e.dispose()))}}async showInputBox({title:e,step:t,totalSteps:r,value:n,prompt:i,validate:o,password:a,buttons:u}){const l=[];try{return await new Promise(((h,p)=>{const d=this.shell.createInputBox();d.title=e,d.step=t,d.totalSteps=r,d.password=!!a,d.value=n||"",d.prompt=i,d.ignoreFocusOut=!0,d.buttons=[...this.steps.length>1?[s.QuickInputButtons.Back]:[],...u||[]];let f=o("");l.push(d.onDidTriggerButton((e=>{e===s.QuickInputButtons.Back?p(c.back):h(e)})),d.onDidAccept((async()=>{const e=d.value;d.enabled=!1,d.busy=!0,await o(e)||h(e),d.enabled=!0,d.busy=!1})),d.onDidChangeValue((async e=>{const t=o(e);f=t;const r=await t;t===f&&(d.validationMessage=r)})),d.onDidHide((()=>{h(void 0)}))),this.current&&this.current.dispose(),this.current=d,this.current.show()}))}finally{l.forEach((e=>e.dispose()))}}async stepThrough(e,t){let r=e;for(;r;){this.steps.push(r),this.current&&(this.current.enabled=!1,this.current.busy=!0);try{r=await r(this,t)}catch(e){if(e===c.back)this.steps.pop(),r=this.steps.pop();else if(e===c.resume)r=this.steps.pop();else{if(e!==c.cancel)throw e;r=void 0}}}this.current&&this.current.dispose()}}t.MultiStepInput=u,t.IMultiStepInputFactory=Symbol("IMultiStepInputFactory");let l=class{constructor(e){this.shell=e}create(){return new u(this.shell)}};l=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IApplicationShell))],l),t.MultiStepInputFactory=l},87450:(e,t,r)=>{"use strict";var n,i;function o(e=process.platform){return/^win/.test(e)?i.Windows:/^darwin/.test(e)?i.OSX:/^linux/.test(e)?i.Linux:i.Unknown}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserHomeDir=t.getEnvironmentVariable=t.getArchitecture=t.getOSType=t.OSType=t.Architecture=void 0,function(e){e[e.Unknown=1]="Unknown",e[e.x86=2]="x86",e[e.x64=3]="x64"}(n=t.Architecture||(t.Architecture={})),function(e){e.Unknown="Unknown",e.Windows="Windows",e.OSX="OSX",e.Linux="Linux"}(i=t.OSType||(t.OSType={})),t.getOSType=o;const s={x86:n.x86,x64:n.x64,"":n.Unknown};function a(e){return process.env[e]}t.getArchitecture=function(){const e=s[process.arch];if(void 0!==e)return e;const t=r(3901);return s[t()]||n.Unknown},t.getEnvironmentVariable=a,t.getUserHomeDir=function(){return o()===i.Windows?a("USERPROFILE"):a("HOME")||a("HOMEPATH")}},10195:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Random=void 0;const i=r(6113),o=r(86700);let s=class{getRandomInt(e=0,t=10){return function(e=0,t=10){return e+function(){let e=0;const t=i.randomBytes(2);return e=(t.readUInt8(0)<<8)+t.readUInt8(1),e/(Math.pow(16,4)-1)}()*(t-e)}(e,t)}};s=n([(0,o.injectable)()],s),t.Random=s},45940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verboseRegExp=void 0,t.verboseRegExp=function(e,t){return e=(e=e.replace(/(^| {2})# .*$/gm,"")).replace(/\s+?/g,""),RegExp(e,t)}},81837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposables=void 0;const n=r(19735);t.Disposables=class{constructor(...e){this.disposables=[],this.disposables.push(...e)}push(...e){this.disposables.push(...e)}async dispose(){const{disposables:e}=this;this.disposables=[],await async function(e){await Promise.all(e.map((async(e,t)=>{try{await e.dispose()}catch(e){(0,n.traceWarn)(`dispose() #${t} failed (${e})`)}})))}(e)}}},58479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runAfterActivation=t.addItemsToRunAfterActivation=void 0;const r=[];let n=!1;t.addItemsToRunAfterActivation=function(e){n?e():r.push(e)},t.runAfterActivation=function(){for(n=!0;r.length>0;){const e=r.shift();e&&e()}}},70057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0,t.StopWatch=class{constructor(){this.started=(new Date).getTime()}get elapsedTime(){return(new Date).getTime()-this.started}reset(){this.started=(new Date).getTime()}}},7086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=t.isObject=t.isString=t.isArray=void 0;const r="number";t.isArray=function(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==r||e.constructor!==Array)},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)},t.isNumber=function(e){return(typeof e===r||e instanceof Number)&&!isNaN(e)}},52439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSemVerSafe=t.areSimilarVersions=t.areIdenticalVersion=t.parseVersionInfo=t.validateVersionInfo=t.normalizeVersionInfo=t.compareVersions=t.isVersionInfoEmpty=t.parseBasicVersionInfo=t.getVersionString=t.EMPTY_VERSION=void 0;const n=r(36625),i=r(45940);function o(e){if("number"==typeof e)return Number.isNaN(e)?[-1,"missing"]:e<0?[-1,""]:[e,""];if("string"==typeof e){const t=parseInt(e,10);return Number.isNaN(t)?[-1,"string not numeric"]:t<0?[-1,""]:[t,""]}return null==e?[-1,"missing"]:[-1,"unsupported type"]}function s(e,t,r){if(!(0===t||t>0)&&r&&""!==r)throw Error(`invalid ${e} version (failed to normalize; ${r})`)}t.EMPTY_VERSION={major:-1,minor:-1,micro:-1,unnormalized:{major:void 0,minor:void 0,micro:void 0}},Object.freeze(t.EMPTY_VERSION),t.getVersionString=function(e){return e.major<0?"":e.minor<0?`${e.major}`:e.micro<0?`${e.major}.${e.minor}`:`${e.major}.${e.minor}.${e.micro}`};const a=(0,i.verboseRegExp)("\n    ^\n    (.*?)  # <before>\n    (\\d+)  # <major>\n    (?:\n        [.]\n        (\\d+)  # <minor>\n        (?:\n            [.]\n            (\\d+)  # <micro>\n        )?\n    )?\n    ([^\\d].*)?  # <after>\n    $\n","s");function c(e){const t=e.match(a);if(!t)return;const[,r,n,i,o,s]=t;if(!r||!r.endsWith(".")){if(s&&""!==s){if("."===s)return;if(!(r&&""!==r||o&&""!==o))return}return{version:{major:parseInt(n,10),minor:i?parseInt(i,10):-1,micro:o?parseInt(o,10):-1},before:r||"",after:s||""}}}function u(e,t,r){return e.major<t.major?[1,"major"]:e.major>t.major?[-1,"major"]:-1===e.major?[0,""]:e.minor<t.minor?[1,"minor"]:e.minor>t.minor?[-1,"minor"]:-1===e.minor?[0,""]:e.micro<t.micro?[1,"micro"]:e.micro>t.micro?[-1,"micro"]:void 0!==r?r(e,t):[0,""]}t.parseBasicVersionInfo=c,t.isVersionInfoEmpty=function(e){return!!e&&"number"==typeof e.major&&"number"==typeof e.minor&&"number"==typeof e.micro&&e.major<0&&e.minor<0&&e.micro<0},t.compareVersions=u,t.normalizeVersionInfo=function(e){const r=function(e){if(!e)return t.EMPTY_VERSION;const r=function(e){const t={major:e.major,minor:e.minor,micro:e.micro},{unnormalized:r}=e;return void 0!==r&&(t.unnormalized={major:r.major,minor:r.minor,micro:r.micro}),t}(e);return void 0===r.unnormalized&&(r.unnormalized={},[r.major,r.unnormalized.major]=o(r.major),[r.minor,r.unnormalized.minor]=o(r.minor),[r.micro,r.unnormalized.micro]=o(r.micro)),r}(e);return r.raw=e.raw,r.raw||(r.raw=""),r},t.validateVersionInfo=function(e){!function(e){var t,r,n;const i=e;if(s("major",e.major,null===(t=i.unnormalized)||void 0===t?void 0:t.major),s("minor",e.minor,null===(r=i.unnormalized)||void 0===r?void 0:r.minor),s("micro",e.micro,null===(n=i.unnormalized)||void 0===n?void 0:n.micro),e.major<0)throw Error("missing major version");if(e.minor<0&&(0===e.micro||e.micro>0))throw Error("missing minor version")}(e)},t.parseVersionInfo=function(e){const t=c(e);if(void 0!==t)return t.version.raw=e,t},t.areIdenticalVersion=function(e,t,r){const[n]=u(e,t,r);return 0===n},t.areSimilarVersions=function(e,t,r){const[n,i]=u(e,t,r);return 0===n||"major"!==i&&(n<0?-1===t[i]:-1===e[i])},t.parseSemVerSafe=function(e){e=e.replace(/\.00*(?=[1-9]|0\.)/,".");const t=n.coerce(e);return null!==t&&n.valid(t)?t:new n.SemVer("0.0.0")}},97749:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRunningWorkerPool=t.QueuePosition=void 0;const n=r(19735),i=r(59314);var o;!function(e){e[e.Back=0]="Back",e[e.Front=1]="Front"}(o=t.QueuePosition||(t.QueuePosition={}));class s{constructor(e,t,r,n){this.next=e,this.workFunc=t,this.postResult=r,this.name=n,this.stopProcessing=!1}stop(){this.stopProcessing=!0}async start(){for(;!this.stopProcessing;)try{const e=await this.next();try{const t=await this.workFunc(e);this.postResult(e,t)}catch(t){this.postResult(e,void 0,t)}}catch(e){(0,n.traceError)(`Error while running worker[${this.name}].`,e);continue}}}class a{constructor(){this.items=[],this.results=new Map}add(e,t){const r={item:e};t===o.Front?this.items.unshift(r):this.items.push(r);const n=(0,i.createDeferred)();return this.results.set(r,n),n.promise}completed(e,t,r){const n=this.results.get(e);void 0!==n&&(this.results.delete(e),void 0!==r&&n.reject(r),n.resolve(t))}next(){return this.items.shift()}clear(){this.results.forEach(((e,t,r)=>{e.reject(Error("Queue stopped processing")),r.delete(t)}))}}class c{constructor(e,t=2,r="Worker"){this.workerFunc=e,this.numWorkers=t,this.name=r,this.workers=[],this.waitingWorkersUnblockQueue=[],this.queue=new a,this.stopProcessing=!1}addToQueue(e,t){if(this.stopProcessing)throw Error("Queue is stopped");const r=this.queue.add(e,t),i=this.waitingWorkersUnblockQueue.shift();if(i){const e=this.queue.next();void 0!==e?i.unblock(e):(0,n.traceError)("Work queue was empty immediately after adding item.")}return r}start(){this.stopProcessing=!1;let e=this.numWorkers;for(;e>0;)this.workers.push(new s((()=>this.nextWorkItem()),(e=>this.workerFunc(e.item)),((e,t,r)=>this.queue.completed(e,t,r)),`${this.name} ${e}`)),e-=1;this.workers.forEach((async e=>e.start()))}stop(){this.stopProcessing=!0;let e=this.workers.shift();for(;e;)e.stop(),e=this.workers.shift();this.queue.clear();let t=this.waitingWorkersUnblockQueue.shift();for(;t;)t.stop(),t=this.waitingWorkersUnblockQueue.shift()}nextWorkItem(){const e=this.queue.next();return void 0!==e?Promise.resolve(e):new Promise(((e,t)=>{this.waitingWorkersUnblockQueue.push({unblock:r=>{this.stopProcessing&&t(),e(r)},stop:()=>{t()}})}))}}t.createRunningWorkerPool=function(e,t,r){const n=new c(e,t,r);return n.start(),n}},17197:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvFile=t.EnvironmentVariablesService=void 0;const o=r(86700),s=r(71017),a=r(19735),c=r(54813),u=r(61522),l=r(84974),h=r(61684);let p=class{constructor(e,t){this.pathUtils=e,this.fs=t}async parseFile(e,t){if(!e||!await this.fs.pathExists(e))return;const r=await this.fs.readFile(e).catch((e=>{(0,a.traceError)("Custom .env is likely not pointing to a valid file",e)}));return r?d(r,t):void 0}mergeVariables(e,t,r){if(!t)return;const n=["PYTHONPATH",this.pathVariable];Object.keys(e).forEach((i=>{n.indexOf(i)>=0||(void 0===t[i]||(null==r?void 0:r.overwrite))&&(t[i]=e[i])}))}appendPythonPath(e,...t){return this.appendPaths(e,"PYTHONPATH",...t)}appendPath(e,...t){return this.appendPaths(e,this.pathVariable,...t)}get pathVariable(){return this._pathVariable||(this._pathVariable=this.pathUtils.getPathVariableName()),this._pathVariable}appendPaths(e,t,...r){const n=r.filter((e=>"string"==typeof e&&e.trim().length>0)).map((e=>e.trim())).join(s.delimiter);if(0===n.length)return e;const i=e?e[t]:void 0;return i&&"string"==typeof i&&i.length>0?e[t]=i+s.delimiter+n:e[t]=n,e}};function d(e,t){const r=t||{},n={};return e.toString().split("\n").forEach(((e,t)=>{const[i,o]=function(e){const t=e.match(/^\s*([a-zA-Z]\w*)\s*=\s*(.*?)?\s*$/);if(!t)return["",""];const r=t[1];let n=t[2];return n&&""!==n?("'"===n[0]&&"'"===n[n.length-1]||'"'===n[0]&&'"'===n[n.length-1])&&(n=n.substring(1,n.length-1),n=n.replace(/\\n/gm,"\n")):n="",[r,n]}(e);""!==i&&(n[i]=function(e,t,r,n=""){let i=!1,o=e;return o=o.replace(f,((e,o,s,a,c)=>a>0&&"\\"===c[a-1]?e:s&&""!==s||!o||""===o?(i=!0,e):t[o]||r[o]||n)),i||o===e||(e=o,(0,c.sendTelemetryEvent)(u.EventName.ENVFILE_VARIABLE_SUBSTITUTION)),e.replace(/\\\$/g,"$")}(o,n,r))})),n}p=n([(0,o.injectable)(),i(0,(0,o.inject)(h.IPathUtils)),i(1,(0,o.inject)(l.IFileSystem))],p),t.EnvironmentVariablesService=p,t.parseEnvFile=d;const f=/\${([a-zA-Z]\w*)?([^}\w].*)?}/g},88939:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentVariablesProvider=void 0;const o=r(86700),s=r(66828),a=r(19735),c=r(98634),u=r(17585),l=r(89515),h=r(84974),p=r(61684),d=r(35144),f=r(48683),v=r(19909);let y=class{constructor(e,t,r,n,i,o=36e5){this.envVarsService=e,this.platformService=r,this.workspaceService=n,this.process=i,this.cacheDuration=o,this.trackedWorkspaceFolders=new Set,this.fileWatchers=new Map,this.disposables=[],this.envVarCaches=new Map,t.push(this),this.changeEventEmitter=new s.EventEmitter;const a=this.workspaceService.onDidChangeConfiguration(this.configurationChanged,this);this.disposables.push(a)}get onDidEnvironmentVariablesChange(){return this.changeEventEmitter.event}dispose(){this.changeEventEmitter.dispose(),this.fileWatchers.forEach((e=>{e&&e.dispose()}))}async getEnvironmentVariables(e){var t,r;const n=null!==(r=null===(t=this.getWorkspaceFolderUri(e))||void 0===t?void 0:t.fsPath)&&void 0!==r?r:"";let i=this.envVarCaches.get(n);if(i){const t=i.data;if(t)return(0,a.traceVerbose)(`Cached data exists getEnvironmentVariables, ${e?e.fsPath:"<No Resource>"}`),{...t}}else i=new d.InMemoryCache(this.cacheDuration),this.envVarCaches.set(n,i);const o=await this._getEnvironmentVariables(e);return i.data={...o},o}async _getEnvironmentVariables(e){let t=await this.getCustomEnvironmentVariables(e);t||(t={}),this.envVarsService.mergeVariables(this.process.env,t);const r=this.platformService.pathVariableName,n=this.process.env[r];return n&&this.envVarsService.appendPath(t,n),this.process.env.PYTHONPATH&&this.envVarsService.appendPythonPath(t,this.process.env.PYTHONPATH),t}async getCustomEnvironmentVariables(e){var t;const r=new f.SystemVariables(void 0,null===(t=l.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri)||void 0===t?void 0:t.fsPath,this.workspaceService),n=this.workspaceService.getConfiguration("python",e).get("envFile"),i=r.resolveAny(n),o=this.getWorkspaceFolderUri(e);return this.trackedWorkspaceFolders.add(o?o.fsPath:""),this.createFileWatcher(i,o),this.envVarsService.parseFile(i,this.process.env)}configurationChanged(e){this.trackedWorkspaceFolders.forEach((t=>{const r=t&&t.length>0?s.Uri.file(t):void 0;e.affectsConfiguration("python.envFile",r)&&this.onEnvironmentFileChanged(r)}))}createFileWatcher(e,t){if(!this.fileWatchers.has(e))try{const r=this.workspaceService.createFileSystemWatcher(e);this.fileWatchers.set(e,r),r&&(this.disposables.push(r.onDidChange((()=>this.onEnvironmentFileChanged(t)))),this.disposables.push(r.onDidCreate((()=>this.onEnvironmentFileCreated(t)))),this.disposables.push(r.onDidDelete((()=>this.onEnvironmentFileChanged(t)))))}catch(r){(0,a.traceError)(`Failed to create a file system watcher for ${e} in ${null==t?void 0:t.fsPath}`,r)}}getWorkspaceFolderUri(e){if(!e)return;const t=this.workspaceService.getWorkspaceFolder(e);return t?t.uri:void 0}onEnvironmentFileCreated(e){this.onEnvironmentFileChanged(e),(0,c.sendFileCreationTelemetry)()}onEnvironmentFileChanged(e){this.envVarCaches.clear(),this.changeEventEmitter.fire(e)}};y=n([(0,o.injectable)(),i(0,(0,o.inject)(v.IEnvironmentVariablesService)),i(1,(0,o.inject)(p.IDisposableRegistry)),i(2,(0,o.inject)(h.IPlatformService)),i(3,(0,o.inject)(u.IWorkspaceService)),i(4,(0,o.inject)(p.ICurrentProcess)),i(5,(0,o.optional)())],y),t.EnvironmentVariablesProvider=y},28285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const n=r(17197),i=r(88939),o=r(19909);t.registerTypes=function(e){e.addSingleton(o.IEnvironmentVariablesService,n.EnvironmentVariablesService),e.addSingleton(o.IEnvironmentVariablesProvider,i.EnvironmentVariablesProvider)}},48683:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemVariables=void 0;const n=r(71017),i=r(66828),o=r(7086);t.SystemVariables=class extends class{resolve(e){return o.isString(e)?this.__resolveString(e):o.isArray(e)?this.__resolveArray(e):o.isObject(e)?this.__resolveLiteral(e):e}resolveAny(e){return o.isString(e)?this.__resolveString(e):o.isArray(e)?this.__resolveAnyArray(e):o.isObject(e)?this.__resolveAnyLiteral(e):e}__resolveString(e){return e.replace(/\$\{(.*?)\}/g,((e,t)=>{const r=this[t];return o.isString(r)?r:e&&(e.indexOf("env.")>0||e.indexOf("env:")>0)?"":e}))}__resolveLiteral(e){const t=Object.create(null);return Object.keys(e).forEach((r=>{const n=e[r];t[r]=this.resolve(n)})),t}__resolveAnyLiteral(e){const t=Object.create(null);return Object.keys(e).forEach((r=>{const n=e[r];t[r]=this.resolveAny(n)})),t}__resolveArray(e){return e.map((e=>this.__resolveString(e)))}__resolveAnyArray(e){return e.map((e=>this.resolveAny(e)))}}{constructor(e,t,r,o){super();const s=r&&e?r.getWorkspaceFolder(e):void 0;this._workspaceFolder=s?s.uri.fsPath:t||__dirname,this._workspaceFolderName=n.basename(this._workspaceFolder),this._filePath=e?e.fsPath:void 0,o&&o.activeTextEditor&&(this._lineNumber=o.activeTextEditor.selection.anchor.line+1,this._selectedText=o.activeTextEditor.document.getText(new i.Range(o.activeTextEditor.selection.start,o.activeTextEditor.selection.end))),this._execPath=process.execPath,Object.keys(process.env).forEach((e=>{this[`env:${e}`]=this[`env.${e}`]=process.env[e]}))}get cwd(){return this.workspaceFolder}get workspaceRoot(){return this._workspaceFolder}get workspaceFolder(){return this._workspaceFolder}get workspaceRootFolderName(){return this._workspaceFolderName}get workspaceFolderBasename(){return this._workspaceFolderName}get file(){return this._filePath}get relativeFile(){return this.file?n.relative(this._workspaceFolder,this.file):void 0}get relativeFileDirname(){return this.relativeFile?n.dirname(this.relativeFile):void 0}get fileBasename(){return this.file?n.basename(this.file):void 0}get fileBasenameNoExtension(){return this.file?n.parse(this.file).name:void 0}get fileDirname(){return this.file?n.dirname(this.file):void 0}get fileExtname(){return this.file?n.extname(this.file):void 0}get lineNumber(){return this._lineNumber}get selectedText(){return this._selectedText}get execPath(){return this._execPath}}},19909:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentVariablesProvider=t.IEnvironmentVariablesService=void 0,t.IEnvironmentVariablesService=Symbol("IEnvironmentVariablesService"),t.IEnvironmentVariablesProvider=Symbol("IEnvironmentVariablesProvider")},63281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenFilePrefix=t.EXTENSION_ROOT_DIR=void 0;const n=r(71017),i=n.basename(__dirname);t.EXTENSION_ROOT_DIR="client"===i?n.join(__dirname,"..",".."):n.join(__dirname,"..","..","..",".."),t.HiddenFilePrefix="_HiddenFile_"},20910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activateComponents=void 0;const n=r(76546),i=r(90819),o=r(17585),s=r(77570),a=r(34061),c=r(61684),u=r(18639),l=r(19735),h=r(76687),p=r(8593),d=r(73607),f=r(43200),v=r(51863),y=r(10145),m=r(29817),g=r(14164);t.activateComponents=async function(e,t){const r=await async function(e){const{context:t,legacyIOC:r}=e,{serviceManager:m,serviceContainer:b}=r,_=m.get(o.IApplicationEnvironment),{enableProposedApi:E}=_.packageJson;m.addSingletonInstance(s.UseProposedApi,E),(0,v.registerTypes)(m),(0,a.registerTypes)(m),(0,d.registerTypes)(m),(0,l.setLoggingLevel)((0,g.getLoggingLevel)()),(0,n.registerTypes)(m),b.get(u.IInterpreterService).initialize();const S=b.get(i.IExtensionActivationManager);t.subscriptions.push(S),b.get(c.IConfigurationService).getSettings();const w=S.activate();m.get(f.ICodeExecutionManager).registerCommands(),t.subscriptions.push(new h.ReplProvider(b));const T=new p.TerminalProvider(b);return t.subscriptions.push(T),(0,y.registerTypes)(m,t),{fullyReady:w}}(e),b=[m.activate(t.pythonEnvs,e)];return Promise.all([r,...b])}},63912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeComponents=t.initializeStandard=t.initializeGlobals=void 0;const n=r(86700),i=r(66828),o=r(77570),s=r(29992),a=r(52615),c=r(39702),u=r(61684),l=r(28285),h=r(61466),p=r(37104),d=r(77498),f=r(29817),v=r(19735),y=r(4247);t.initializeGlobals=function(e){const t=new n.Container({skipBaseClassChecks:!0}),r=new p.ServiceManager(t),s=new h.ServiceContainer(t),a=e.subscriptions;r.addSingletonInstance(d.IServiceContainer,s),r.addSingletonInstance(d.IServiceManager,r),r.addSingletonInstance(u.IDisposableRegistry,a),r.addSingletonInstance(u.IMemento,e.globalState,u.GLOBAL_MEMENTO),r.addSingletonInstance(u.IMemento,e.workspaceState,u.WORKSPACE_MEMENTO),r.addSingletonInstance(u.IExtensionContext,e);const c=i.window.createOutputChannel("Python Environments");return e.subscriptions.push((0,v.registerLogger)(new y.OutputChannelLogger(c))),r.addSingletonInstance(u.IOutputChannel,c,o.STANDARD_OUTPUT_CHANNEL),{context:e,disposables:a,legacyIOC:{serviceManager:r,serviceContainer:s}}},t.initializeStandard=function(e){const{serviceManager:t}=e.legacyIOC;(0,c.registerTypes)(t),(0,l.registerTypes)(t),(0,s.registerTypes)(t),(0,a.registerTypes)(t)},t.initializeComponents=async function(e){return{pythonEnvs:await f.initialize(e)}}},94144:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentActivationService=t.EnvironmentActivationServiceCache=t.defaultShells=void 0,r(32727);const o=r(86700),s=r(17585),a=r(77570),c=r(84974),u=r(4057),l=r(29983),h=r(58400),p=r(61684),d=r(59314),f=r(35144),v=r(87450),y=r(19909),m=r(81387),g=r(54813),b=r(61522),_=r(18639),E=r(49903),S=r(19735),w=r(75470),T="e8b39361-0157-4923-80e1-22d70d46dee6";t.defaultShells={[v.OSType.Windows]:{shell:"cmd",shellType:h.TerminalShellType.commandPrompt},[v.OSType.OSX]:{shell:"bash",shellType:h.TerminalShellType.bash},[v.OSType.Linux]:{shell:"bash",shellType:h.TerminalShellType.bash},[v.OSType.Unknown]:void 0};const P=["The process cannot access the file because it is being used by another process","The directory is not empty"];class I{constructor(){this.normalMap=new Map}static forceUseStatic(){I.useStatic=!0}static forceUseNormal(){I.useStatic=!1}get(e){return I.useStatic?I.staticMap.get(e):this.normalMap.get(e)}set(e,t){I.useStatic?I.staticMap.set(e,t):this.normalMap.set(e,t)}delete(e){I.useStatic?I.staticMap.delete(e):this.normalMap.delete(e)}clear(){I.useStatic||this.normalMap.clear()}}t.EnvironmentActivationServiceCache=I,I.useStatic=!1,I.staticMap=new Map;let O=class{constructor(e,t,r,n,i,o,s){this.helper=e,this.platform=t,this.processServiceFactory=r,this.currentProcess=n,this.workspace=i,this.interpreterService=o,this.envVarsService=s,this.disposables=[],this.activatedEnvVariablesCache=new I,this.envVarsService.onDidEnvironmentVariablesChange((()=>this.activatedEnvVariablesCache.clear()),this,this.disposables),this.interpreterService.onDidChangeInterpreter((()=>this.activatedEnvVariablesCache.clear()),this,this.disposables)}dispose(){this.disposables.forEach((e=>e.dispose()))}async getActivatedEnvironmentVariables(e,t,r){var n;const i=`${this.workspace.getWorkspaceFolderIdentifier(e)}_${this.platform.isWindows?null==t?void 0:t.path.toLowerCase():null==t?void 0:t.path}`;if(null===(n=this.activatedEnvVariablesCache.get(i))||void 0===n?void 0:n.hasData)return this.activatedEnvVariablesCache.get(i).data;const o=new f.InMemoryCache(6e5);return this.getActivatedEnvironmentVariablesImpl(e,t,r).then((e=>(o.data=e,this.activatedEnvVariablesCache.set(i,o),e)))}async getEnvironmentActivationShellCommands(e,r){const n=t.defaultShells[this.platform.osType];return n?this.helper.getEnvironmentActivationShellCommands(e,n.shellType,r):[]}async getActivatedEnvironmentVariablesImpl(e,r,n){var i;const o=t.defaultShells[this.platform.osType];if(o)try{let t,[n,s]=u.printEnvVariables();if(n.forEach(((e,t)=>{n[t]=e.toCommandArgumentForPythonExt()})),(null==(r=null!=r?r:await this.interpreterService.getActiveInterpreter(e))?void 0:r.envType)===m.EnvironmentType.Conda){const e=await w.Conda.getConda(),o=await(null==e?void 0:e.getRunPythonArgs({name:r.envName,prefix:null!==(i=r.envPath)&&void 0!==i?i:""}));o&&(t=[...o,...n].map((e=>e.toCommandArgumentForPythonExt())).join(" "))}if(!t){const i=await this.helper.getEnvironmentActivationShellCommands(e,o.shellType,r);if((0,S.traceVerbose)(`Activation Commands received ${i} for shell ${o.shell}`),!i||!Array.isArray(i)||0===i.length)return;t=`${this.fixActivationCommands(i).join(" && ")} && echo '${T}' && python ${n.join(" ")}`}const c=await this.processServiceFactory.create(e),l=await this.envVarsService.getEnvironmentVariables(e),h=Object.keys(l).length,p=h?l:{...this.currentProcess.env},f=p[a.PYTHON_WARNINGS];let v;p[a.PYTHON_WARNINGS]="ignore",(0,S.traceVerbose)((h?"Has":"No")+" Custom Env Vars"),(0,S.traceVerbose)(`Activating Environment to capture Environment variables, ${t}`);let y,g=1;for(;!v;)try{v=await c.shellExec(t,{env:p,shell:o.shell,timeout:(null==r?void 0:r.envType)===m.EnvironmentType.Conda?6e4:3e4,maxBuffer:1e6,throwOnStdErr:!1});try{y=this.parseEnvironmentOutput(v.stdout,s)}catch(e){if(!v.stderr)throw e}if(v.stderr){if(!y)throw new Error(`StdErr from ShellExec, ${v.stderr} for ${t}`);(0,S.traceWarn)("Got env variables but with errors",v.stderr)}}catch(e){const t=e.toString();if(!(P.find((e=>t.includes(e)))&&g<10))throw e;(0,S.traceInfo)("Conda is busy, attempting to retry ..."),v=void 0,g+=1,await(0,d.sleep)(500)}return f&&y?y[a.PYTHON_WARNINGS]=f:y&&delete y[a.PYTHON_WARNINGS],y}catch(e){if((0,S.traceError)("getActivatedEnvironmentVariables",e),(0,g.sendTelemetryEvent)(b.EventName.ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED,void 0,{isPossiblyCondaEnv:(null==r?void 0:r.envType)===m.EnvironmentType.Conda,terminal:o.shellType}),n)throw e}}fixActivationCommands(e){return e.map((e=>e.replace(/^source\s+/,". ")))}parseEnvironmentOutput(e,t){return-1===e.indexOf(T)?t(e):t((e=e.substring(e.indexOf(T)+T.length)).substring(e.indexOf("{")).trim())}};n([(0,S.traceDecoratorVerbose)("getActivatedEnvironmentVariables",E.TraceOptions.Arguments),(0,g.captureTelemetry)(b.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,{failed:!1},!0)],O.prototype,"getActivatedEnvironmentVariables",null),n([(0,S.traceDecoratorError)("Failed to parse Environment variables"),(0,S.traceDecoratorVerbose)("parseEnvironmentOutput",E.TraceOptions.None)],O.prototype,"parseEnvironmentOutput",null),O=n([(0,o.injectable)(),i(0,(0,o.inject)(h.ITerminalHelper)),i(1,(0,o.inject)(c.IPlatformService)),i(2,(0,o.inject)(l.IProcessServiceFactory)),i(3,(0,o.inject)(p.ICurrentProcess)),i(4,(0,o.inject)(s.IWorkspaceService)),i(5,(0,o.inject)(_.IInterpreterService)),i(6,(0,o.inject)(y.IEnvironmentVariablesProvider))],O),t.EnvironmentActivationService=O},80351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentActivationService=void 0,t.IEnvironmentActivationService=Symbol("IEnvironmentActivationService")},20741:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterAutoSelectionService=void 0;const o=r(86700),s=r(66828),a=r(17585);r(32727);const c=r(84974),u=r(61684),l=r(59314),h=r(95084),p=r(54813),d=r(61522),f=r(54351),v=r(18639),y=r(87282),m="preferredGlobalPyInterpreter";let g=class{constructor(e,t,r,n,i,o,a){this.workspaceService=e,this.stateFactory=t,this.fs=r,this.interpreterService=n,this.envTypeComparer=i,this.interpreterHelper=a,this.autoSelectedWorkspacePromises=new Map,this.didAutoSelectedInterpreterEmitter=new s.EventEmitter,this.autoSelectedInterpreterByWorkspace=new Map,this.globallyPreferredInterpreter=this.stateFactory.createGlobalPersistentState(m,void 0),o.registerInstance(this)}async autoSelectInterpreter(e){const t=this.getWorkspacePathKey(e),r=this.autoSelectedWorkspacePromises.has(t);if(!r){const r=(0,l.createDeferred)();this.autoSelectedWorkspacePromises.set(t,r),await this.initializeStore(e),await this.clearWorkspaceStoreIfInvalid(e),await this.autoselectInterpreterWithLocators(e),r.resolve()}return(0,p.sendTelemetryEvent)(d.EventName.PYTHON_INTERPRETER_AUTO_SELECTION,void 0,{useCachedInterpreter:r}),this.autoSelectedWorkspacePromises.get(t).promise}get onDidChangeAutoSelectedInterpreter(){return this.didAutoSelectedInterpreterEmitter.event}getAutoSelectedInterpreter(e){const t=this.getWorkspaceState(e);if(t&&t.value)return t.value;const r=this.getWorkspacePathKey(e);return this.autoSelectedInterpreterByWorkspace.has(r)?this.autoSelectedInterpreterByWorkspace.get(r):this.globallyPreferredInterpreter.value}async setWorkspaceInterpreter(e,t){await this.storeAutoSelectedInterpreter(e,t)}async setGlobalInterpreter(e){await this.storeAutoSelectedInterpreter(void 0,e)}async clearWorkspaceStoreIfInvalid(e){const t=this.getWorkspaceState(e);t&&t.value&&!await this.fs.fileExists(t.value.path)&&await t.updateValue(void 0)}async storeAutoSelectedInterpreter(e,t){const r=this.getWorkspacePathKey(e);if(""===r){if(this.globallyPreferredInterpreter.value&&this.globallyPreferredInterpreter.value.version&&t&&t.version&&(0,h.compareSemVerLikeVersions)(this.globallyPreferredInterpreter.value.version,t.version)>0)return;await this.globallyPreferredInterpreter.updateValue(t),this.autoSelectedInterpreterByWorkspace.set(r,t)}else{const n=this.getWorkspaceState(e);n&&t&&await n.updateValue(t),this.autoSelectedInterpreterByWorkspace.set(r,t)}}async initializeStore(e){const t=this.getWorkspacePathKey(e);this.autoSelectedInterpreterByWorkspace.delete(t),this.globallyPreferredInterpreter||await this.clearStoreIfFileIsInvalid()}async clearStoreIfFileIsInvalid(){this.globallyPreferredInterpreter=this.stateFactory.createGlobalPersistentState(m,void 0),this.globallyPreferredInterpreter.value&&!await this.fs.fileExists(this.globallyPreferredInterpreter.value.path)&&await this.globallyPreferredInterpreter.updateValue(void 0)}getWorkspacePathKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}getWorkspaceState(e){const t=this.interpreterHelper.getActiveWorkspaceUri(e);if(t){const e=`autoSelectedWorkspacePythonInterpreter-${t.folderUri.fsPath}`;return this.stateFactory.createWorkspacePersistentState(e,void 0)}}getAutoSelectionInterpretersQueryState(e){const t=this.interpreterHelper.getActiveWorkspaceUri(e),r=`autoSelectionInterpretersQueried-${(null==t?void 0:t.folderUri.fsPath)||"global"}`;return this.stateFactory.createWorkspacePersistentState(r,void 0)}async autoselectInterpreterWithLocators(e){const t=this.getAutoSelectionInterpretersQueryState(e);!0!==t.value&&e&&await this.interpreterService.triggerRefresh({searchLocations:{roots:[e],doNotIncludeNonRooted:!0}});const r=await this.interpreterService.getAllInterpreters(e),n=this.interpreterHelper.getActiveWorkspaceUri(e),i=this.envTypeComparer.getRecommended(r,null==n?void 0:n.folderUri);i&&(n?this.setWorkspaceInterpreter(n.folderUri,i):this.setGlobalInterpreter(i),t.updateValue(!0),this.didAutoSelectedInterpreterEmitter.fire())}};g=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService)),i(1,(0,o.inject)(u.IPersistentStateFactory)),i(2,(0,o.inject)(c.IFileSystem)),i(3,(0,o.inject)(v.IInterpreterService)),i(4,(0,o.inject)(f.IInterpreterComparer)),i(5,(0,o.inject)(y.IInterpreterAutoSelectionProxyService)),i(6,(0,o.inject)(v.IInterpreterHelper))],g),t.InterpreterAutoSelectionService=g},45297:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterAutoSelectionProxyService=void 0;const o=r(86700),s=r(66828),a=r(61684);let c=class{constructor(e){this.disposables=e,this.didAutoSelectedInterpreterEmitter=new s.EventEmitter}registerInstance(e){this.instance=e,this.disposables.push(this.instance.onDidChangeAutoSelectedInterpreter((()=>this.didAutoSelectedInterpreterEmitter.fire())))}get onDidChangeAutoSelectedInterpreter(){return this.didAutoSelectedInterpreterEmitter.event}getAutoSelectedInterpreter(e){return this.instance?this.instance.getAutoSelectedInterpreter(e):void 0}async setWorkspaceInterpreter(e,t){return this.instance?this.instance.setWorkspaceInterpreter(e,t):void 0}};c=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IDisposableRegistry))],c),t.InterpreterAutoSelectionProxyService=c},87282:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSelectionRule=t.IInterpreterAutoSelectionService=t.IInterpreterAutoSelectionProxyService=void 0,t.IInterpreterAutoSelectionProxyService=Symbol("IInterpreterAutoSelectionProxyService"),t.IInterpreterAutoSelectionService=Symbol("IInterpreterAutoSelectionService"),(r=t.AutoSelectionRule||(t.AutoSelectionRule={})).all="all",r.currentPath="currentPath",r.workspaceVirtualEnvs="workspaceEnvs",r.settings="settings",r.cachedInterpreters="cachedInterpreters",r.systemWide="system",r.windowsRegistry="windowsRegistry"},95356:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvLocationHeuristic=t.EnvironmentTypeComparer=t.EnvLocationHeuristic=void 0;const o=r(86700),s=r(3522),a=r(37769),c=r(81387),u=r(18639);var l;!function(e){e[e.Local=1]="Local",e[e.Global=2]="Global"}(l=t.EnvLocationHeuristic||(t.EnvLocationHeuristic={}));let h=class{constructor(e){var t,r;this.interpreterHelper=e,this.workspaceFolderPath=null!==(r=null===(t=this.interpreterHelper.getActiveWorkspaceUri(void 0))||void 0===t?void 0:t.folderUri.fsPath)&&void 0!==r?r:""}compare(e,t){const r=function(e,t,r){const n=f(e,r),i=f(t,r);return Math.sign(n-i)}(e,t,this.workspaceFolderPath);if(0!==r)return r;const n=function(e,t){const r=[c.EnvironmentType.Poetry,c.EnvironmentType.Pipenv,c.EnvironmentType.VirtualEnvWrapper,c.EnvironmentType.Venv,c.EnvironmentType.VirtualEnv,c.EnvironmentType.Conda,c.EnvironmentType.Pyenv,c.EnvironmentType.WindowsStore,c.EnvironmentType.Global,c.EnvironmentType.System,c.EnvironmentType.Unknown];return Math.sign(r.indexOf(e.envType)-r.indexOf(t.envType))}(e,t);if(0!==n)return n;const i=function(e,t){return e?t?e.raw===t.raw?0:e.major===t.major?e.minor===t.minor?e.patch===t.patch?e.build.join(" ")>t.build.join(" ")?-1:1:e.patch>t.patch?-1:1:e.minor>t.minor?-1:1:e.major>t.major?-1:1:-1:1}(e.version,t.version);if(0!==i)return i;if(d(e))return 1;if(d(t))return-1;const o=p(e,this.interpreterHelper),s=p(t,this.interpreterHelper);return o===s?0:o>s?1:-1}getRecommended(e,t){const r=this.interpreterHelper.getActiveWorkspaceUri(t),n=e.filter((e=>f(e,(null==r?void 0:r.folderUri.fsPath)||"")===l.Local||!c.virtualEnvTypes.includes(e.envType)));return n.sort(this.compare.bind(this)),n.length?n[0]:void 0}};function p(e,t){const r=[],n=[];if(e.version&&r.push(e.version.raw),e.architecture&&r.push((0,s.getArchitectureDisplayName)(e.architecture)),e.companyDisplayName&&e.companyDisplayName.length>0?r.push(e.companyDisplayName.trim()):r.push("Python"),e.envType){const r=t.getInterpreterTypeDisplayName(e.envType);r&&n.push(r)}e.envName&&e.envName.length>0&&n.push(e.envName);const i=0===n.length?"":`(${n.join(": ")})`;return`${r.join(" ")} ${i}`.trim()}function d(e){return e.envType===c.EnvironmentType.Conda&&("base"===e.envName||"miniconda"===e.envName)}function f(e,t){return t.length>0&&(e.envPath&&(0,a.isParentPath)(e.envPath,t)||e.path&&(0,a.isParentPath)(e.path,t))?l.Local:l.Global}h=n([(0,o.injectable)(),i(0,(0,o.inject)(u.IInterpreterHelper))],h),t.EnvironmentTypeComparer=h,t.getEnvLocationHeuristic=f},68618:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonPathUpdaterService=void 0;const o=r(86700),s=r(71017),a=r(66828),c=r(70057),u=r(48683),l=r(19735),h=r(54813),p=r(61522),d=r(18639),f=r(54351);let v=class{constructor(e,t){this.pythonPathSettingsUpdaterFactory=e,this.pyenvs=t}async updatePythonPath(e,t,r,n){const i=new c.StopWatch,o=this.getPythonUpdaterService(t,n);let u=!1;try{await o.updatePythonPath(e?s.normalize(e):void 0)}catch(e){u=!0;const t=e,r=t&&"string"==typeof t.message?t.message:"";a.window.showErrorMessage(`Failed to set interpreter path. Error: ${r}`),(0,l.traceError)(t)}this.sendTelemetry(i.elapsedTime,u,r,e,n).catch((e=>(0,l.traceError)("Python Extension: sendTelemetry",e)))}async sendTelemetry(e,t,r,n,i){var o;const s={failed:t,trigger:r};if(!t&&n){const e=new u.SystemVariables(void 0,null==i?void 0:i.fsPath),t=await this.pyenvs.getInterpreterInformation(e.resolveAny(n));t&&(s.pythonVersion=null===(o=t.version)||void 0===o?void 0:o.raw)}(0,h.sendTelemetryEvent)(p.EventName.PYTHON_INTERPRETER,e,s)}getPythonUpdaterService(e,t){switch(e){case a.ConfigurationTarget.Global:return this.pythonPathSettingsUpdaterFactory.getGlobalPythonPathConfigurationService();case a.ConfigurationTarget.Workspace:if(!t)throw new Error("Workspace Uri not defined");return this.pythonPathSettingsUpdaterFactory.getWorkspacePythonPathConfigurationService(t);default:if(!t)throw new Error("Workspace Uri not defined");return this.pythonPathSettingsUpdaterFactory.getWorkspaceFolderPythonPathConfigurationService(t)}}};v=n([(0,o.injectable)(),i(0,(0,o.inject)(f.IPythonPathUpdaterServiceFactory)),i(1,(0,o.inject)(d.IComponentAdapter))],v),t.PythonPathUpdaterService=v},79721:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonPathUpdaterServiceFactory=void 0;const o=r(86700),s=r(61684),a=r(77498),c=r(56798),u=r(95791),l=r(35543);let h=class{constructor(e){this.interpreterPathService=e.get(s.IInterpreterPathService)}getGlobalPythonPathConfigurationService(){return new c.GlobalPythonPathUpdaterService(this.interpreterPathService)}getWorkspacePythonPathConfigurationService(e){return new l.WorkspacePythonPathUpdaterService(e,this.interpreterPathService)}getWorkspaceFolderPythonPathConfigurationService(e){return new u.WorkspaceFolderPythonPathUpdaterService(e,this.interpreterPathService)}};h=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],h),t.PythonPathUpdaterServiceFactory=h},56798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalPythonPathUpdaterService=void 0;const n=r(66828);t.GlobalPythonPathUpdaterService=class{constructor(e){this.interpreterPathService=e}async updatePythonPath(e){const t=this.interpreterPathService.inspect(void 0);t&&t.globalValue===e||await this.interpreterPathService.update(void 0,n.ConfigurationTarget.Global,e)}}},95791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFolderPythonPathUpdaterService=void 0;const n=r(71017),i=r(66828);t.WorkspaceFolderPythonPathUpdaterService=class{constructor(e,t){this.workspaceFolder=e,this.interpreterPathService=t}async updatePythonPath(e){const t=this.interpreterPathService.inspect(this.workspaceFolder);t&&t.workspaceFolderValue===e||(e&&e.startsWith(this.workspaceFolder.fsPath)&&(e=n.relative(this.workspaceFolder.fsPath,e)),await this.interpreterPathService.update(this.workspaceFolder,i.ConfigurationTarget.WorkspaceFolder,e))}}},35543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspacePythonPathUpdaterService=void 0;const n=r(71017),i=r(66828);t.WorkspacePythonPathUpdaterService=class{constructor(e,t){this.workspace=e,this.interpreterPathService=t}async updatePythonPath(e){const t=this.interpreterPathService.inspect(this.workspace);t&&t.workspaceValue===e||(e&&e.startsWith(this.workspace.fsPath)&&(e=n.relative(this.workspace.fsPath,e)),await this.interpreterPathService.update(this.workspace,i.ConfigurationTarget.Workspace,e))}}},54351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterComparer=t.IInterpreterSelector=t.IPythonPathUpdaterServiceManager=t.IPythonPathUpdaterServiceFactory=void 0,t.IPythonPathUpdaterServiceFactory=Symbol("IPythonPathUpdaterServiceFactory"),t.IPythonPathUpdaterServiceManager=Symbol("IPythonPathUpdaterServiceManager"),t.IInterpreterSelector=Symbol("IInterpreterSelector"),t.IInterpreterComparer=Symbol("IInterpreterComparer")},18639:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterStatusbarVisibilityFilter=t.IInterpreterHelper=t.IShebangCodeLensProvider=t.IInterpreterService=t.ICondaService=t.IComponentAdapter=void 0,t.IComponentAdapter=Symbol("IComponentAdapter"),t.ICondaService=Symbol("ICondaService"),t.IInterpreterService=Symbol("IInterpreterService"),t.IShebangCodeLensProvider=Symbol("IShebangCodeLensProvider"),t.IInterpreterHelper=Symbol("IInterpreterHelper"),t.IInterpreterStatusbarVisibilityFilter=Symbol("IInterpreterStatusbarVisibilityFilter")},43490:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterHelper=t.isInterpreterLocatedInWorkspace=void 0;const o=r(86700),s=r(66828),a=r(17585),c=r(48431),u=r(77498),l=r(95084),h=r(81387),p=r(18639);function d(e){if(0===e.length)return[];if(1===e.length)return[e[0]];const t=e.slice();return t.sort(((e,t)=>e.version&&t.version?(0,l.compareSemVerLikeVersions)(e.version,t.version):0)),t}t.isInterpreterLocatedInWorkspace=function(e,t){const r=c.FileSystemPaths.withDefaults(),n=r.normCase(e.path),i=r.normCase(t.fsPath);return n.startsWith(i)};let f=class{constructor(e,t){this.serviceContainer=e,this.pyenvs=t}getActiveWorkspaceUri(e){var t;const r=this.serviceContainer.get(a.IWorkspaceService);if(!(((null===(t=r.workspaceFolders)||void 0===t?void 0:t.length)||0)>0))return;if(Array.isArray(r.workspaceFolders)&&1===r.workspaceFolders.length)return{folderUri:r.workspaceFolders[0].uri,configTarget:s.ConfigurationTarget.Workspace};if(e){const t=r.getWorkspaceFolder(e);if(t)return{configTarget:s.ConfigurationTarget.WorkspaceFolder,folderUri:t.uri}}const n=this.serviceContainer.get(a.IDocumentManager);if(n.activeTextEditor){const e=r.getWorkspaceFolder(n.activeTextEditor.document.uri);if(e)return{configTarget:s.ConfigurationTarget.WorkspaceFolder,folderUri:e.uri}}}async getInterpreterInformation(e){return this.pyenvs.getInterpreterInformation(e)}async getInterpreters({resource:e,source:t}={}){return d(await this.pyenvs.getInterpreters(e,t))}async getInterpreterPath(e){const t=await this.getInterpreterInformation(e);return t?t.path:e}async isMacDefaultPythonPath(e){return this.pyenvs.isMacDefaultPythonPath(e)}getInterpreterTypeDisplayName(e){return(0,h.getEnvironmentTypeName)(e)}getBestInterpreter(e){if(!Array.isArray(e)||0===e.length)return;const t=d(e);return t[t.length-1]}};f=n([(0,o.injectable)(),i(0,(0,o.inject)(u.IServiceContainer)),i(1,(0,o.inject)(p.IComponentAdapter))],f),t.InterpreterHelper=f},62643:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterService=void 0;const o=r(86700),s=r(71017),a=r(66828);r(32727);const c=r(61684),u=r(77498),l=r(18639),h=r(19735),p=r(65854),d=r(29983);let f=class{constructor(e,t){this.serviceContainer=e,this.pyenvs=t,this._pythonPathSetting="",this.didChangeInterpreterConfigurationEmitter=new a.EventEmitter,this.didChangeInterpreterEmitter=new a.EventEmitter,this.didChangeInterpreterInformation=new a.EventEmitter,this.configService=this.serviceContainer.get(c.IConfigurationService),this.interpreterPathService=this.serviceContainer.get(c.IInterpreterPathService),this.onDidChangeInterpreters=t.onChanged}async hasInterpreters(e=(async()=>!0)){return this.pyenvs.hasInterpreters(e)}get onRefreshStart(){return this.pyenvs.onRefreshStart}triggerRefresh(e){return this.pyenvs.triggerRefresh(e)}get refreshPromise(){return this.pyenvs.refreshPromise}get onDidChangeInterpreter(){return this.didChangeInterpreterEmitter.event}get onDidChangeInterpreterInformation(){return this.didChangeInterpreterInformation.event}get onDidChangeInterpreterConfiguration(){return this.didChangeInterpreterConfigurationEmitter.event}async refresh(e){}initialize(){const e=this.serviceContainer.get(c.IDisposableRegistry);e.push(this.onDidChangeInterpreters((e=>{var t;const r=null!==(t=e.old)&&void 0!==t?t:e.new;r&&this.didChangeInterpreterInformation.fire(r)}))),e.push(this.interpreterPathService.onDidChange((e=>this._onConfigChanged(e.uri))))}getInterpreters(e){return this.pyenvs.getInterpreters(e)}async getAllInterpreters(e){return await this.refreshPromise,this.getInterpreters(e)}dispose(){this.didChangeInterpreterEmitter.dispose(),this.didChangeInterpreterInformation.dispose()}async getActiveInterpreter(e){let t=this.configService.getSettings(e).pythonPath;if(s.basename(t)===t){const r=this.serviceContainer.tryGet(d.IPythonExecutionFactory),n=r?await r.create({resource:e}):void 0,i=n?await n.getExecutablePath().catch((e=>{(0,h.traceError)(e)})):void 0;if(!i)return;t=i}return this.getInterpreterDetails(t)}async getInterpreterDetails(e){return this.pyenvs.getInterpreterDetails(e)}async _onConfigChanged(e){this.didChangeInterpreterConfigurationEmitter.fire(e);const t=this.configService.getSettings(e);""!==this._pythonPathSetting&&this._pythonPathSetting===t.pythonPath||(this._pythonPathSetting=t.pythonPath,this.didChangeInterpreterEmitter.fire(),(0,p.reportActiveInterpreterChanged)({path:t.pythonPath,resource:e}))}};f=n([(0,o.injectable)(),i(0,(0,o.inject)(u.IServiceContainer)),i(1,(0,o.inject)(l.IComponentAdapter))],f),t.InterpreterService=f},51863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=t.registerInterpreterTypes=void 0;const n=r(90819),i=r(94144),o=r(80351),s=r(20741),a=r(45297),c=r(87282),u=r(95356),l=r(68618),h=r(79721),p=r(54351),d=r(18639),f=r(43490),v=r(62643),y=r(45107),m=r(66950);function g(e){e.addSingleton(n.IExtensionActivationService,m.VirtualEnvironmentPrompt),e.addSingleton(d.IInterpreterService,v.InterpreterService),e.addSingleton(p.IPythonPathUpdaterServiceFactory,h.PythonPathUpdaterServiceFactory),e.addSingleton(p.IPythonPathUpdaterServiceManager,l.PythonPathUpdaterService),e.addSingleton(d.IInterpreterHelper,f.InterpreterHelper),e.addSingleton(p.IInterpreterComparer,u.EnvironmentTypeComparer),e.addSingleton(c.IInterpreterAutoSelectionService,s.InterpreterAutoSelectionService),e.addSingleton(n.IExtensionActivationService,y.CondaInheritEnvPrompt)}t.registerInterpreterTypes=g,t.registerTypes=function(e){g(e),e.addSingleton(c.IInterpreterAutoSelectionProxyService,a.InterpreterAutoSelectionProxyService),e.addSingleton(i.EnvironmentActivationService,i.EnvironmentActivationService),e.addSingleton(o.IEnvironmentActivationService,i.EnvironmentActivationService)}},45107:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaInheritEnvPrompt=t.condaInheritEnvPromptKey=void 0;const o=r(86700),s=r(66828),a=r(17585),c=r(84974),u=r(61684),l=r(67098),h=r(19735),p=r(81387),d=r(54813),f=r(61522),v=r(18639);t.condaInheritEnvPromptKey="CONDA_INHERIT_ENV_PROMPT_KEY";let y=class{constructor(e,t,r,n,i,o,s=!1){this.interpreterService=e,this.workspaceService=t,this.browserService=r,this.appShell=n,this.persistentStateFactory=i,this.platformService=o,this.hasPromptBeenShownInCurrentSession=s,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(e){this.initializeInBackground(e).ignoreErrors()}async initializeInBackground(e){await this.shouldShowPrompt(e)&&await this.promptAndUpdate()}async promptAndUpdate(){const e=this.persistentStateFactory.createGlobalPersistentState(t.condaInheritEnvPromptKey,!0);if(!e.value)return;const r=[l.Common.bannerLabelYes(),l.Common.bannerLabelNo(),l.Common.moreInfo()],n=await this.appShell.showInformationMessage(l.Interpreters.condaInheritEnvMessage(),...r);(0,d.sendTelemetryEvent)(f.EventName.CONDA_INHERIT_ENV_PROMPT,void 0,{selection:n?["Yes","No","More Info"][r.indexOf(n)]:void 0}),n&&(n===r[0]?await this.workspaceService.getConfiguration("terminal").update("integrated.inheritEnv",!1,s.ConfigurationTarget.Global):n===r[1]?await e.updateValue(!1):n===r[2]&&this.browserService.launch("https://aka.ms/AA66i8f"))}async shouldShowPrompt(e){if(this.hasPromptBeenShownInCurrentSession)return!1;if(this.platformService.isWindows)return!1;const t=await this.interpreterService.getActiveInterpreter(e);if(!t||t.envType!==p.EnvironmentType.Conda)return!1;const r=this.workspaceService.getConfiguration("terminal",e).inspect("integrated.inheritEnv");return r?void 0===r.globalValue&&void 0===r.workspaceValue&&void 0===r.workspaceFolderValue&&(this.hasPromptBeenShownInCurrentSession=!0,!0):((0,h.traceError)("WorkspaceConfiguration.inspect returns `undefined` for setting `terminal.integrated.inheritEnv`"),!1)}};n([(0,h.traceDecoratorError)("Failed to intialize conda inherit env prompt")],y.prototype,"initializeInBackground",null),n([(0,h.traceDecoratorError)("Failed to display conda inherit env prompt")],y.prototype,"promptAndUpdate",null),n([(0,h.traceDecoratorError)("Failed to check whether to display prompt for conda inherit env setting")],y.prototype,"shouldShowPrompt",null),y=n([(0,o.injectable)(),i(0,(0,o.inject)(v.IInterpreterService)),i(1,(0,o.inject)(a.IWorkspaceService)),i(2,(0,o.inject)(u.IBrowserService)),i(3,(0,o.inject)(a.IApplicationShell)),i(4,(0,o.inject)(u.IPersistentStateFactory)),i(5,(0,o.inject)(c.IPlatformService)),i(6,(0,o.optional)())],y),t.CondaInheritEnvPrompt=y},66950:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualEnvironmentPrompt=void 0;const o=r(86700),s=r(66828),a=r(17585),c=r(61684),u=r(59314),l=r(67098),h=r(19735),p=r(54813),d=r(61522),f=r(54351),v=r(18639);let y=class{constructor(e,t,r,n,i,o){this.persistentStateFactory=e,this.helper=t,this.pythonPathUpdaterService=r,this.disposableRegistry=n,this.appShell=i,this.pyenvs=o,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(e){const t=this.pyenvs.onDidCreate(e,(()=>this.handleNewEnvironment(e)));this.disposableRegistry.push(t)}async handleNewEnvironment(e){await(0,u.sleep)(1e3);const t=await this.pyenvs.getWorkspaceVirtualEnvInterpreters(e),r=Array.isArray(t)&&t.length>0?this.helper.getBestInterpreter(t):void 0;r&&await this.notifyUser(r,e)}async notifyUser(e,t){const r=this.persistentStateFactory.createWorkspacePersistentState("MESSAGE_KEY_FOR_VIRTUAL_ENV",!0);if(!r.value)return;const n=[l.Common.bannerLabelYes(),l.Common.bannerLabelNo(),l.Common.doNotShowAgain()],i=await this.appShell.showInformationMessage(l.Interpreters.environmentPromptMessage(),...n);(0,p.sendTelemetryEvent)(d.EventName.PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT,void 0,{selection:i?["Yes","No","Ignore"][n.indexOf(i)]:void 0}),i&&(i===n[0]?await this.pythonPathUpdaterService.updatePythonPath(e.path,s.ConfigurationTarget.WorkspaceFolder,"ui",t):i===n[2]&&await r.updateValue(!1))}};n([(0,h.traceDecoratorError)("Error in event handler for detection of new environment")],y.prototype,"handleNewEnvironment",null),y=n([(0,o.injectable)(),i(0,(0,o.inject)(c.IPersistentStateFactory)),i(1,(0,o.inject)(v.IInterpreterHelper)),i(2,(0,o.inject)(f.IPythonPathUpdaterServiceManager)),i(3,(0,o.inject)(c.IDisposableRegistry)),i(4,(0,o.inject)(a.IApplicationShell)),i(5,(0,o.inject)(v.IComponentAdapter))],y),t.VirtualEnvironmentPrompt=y},61466:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceContainer=void 0;const i=r(82361),o=r(86700),s=r(19735);try{(0,o.decorate)((0,o.injectable)(),i.EventEmitter)}catch(e){(0,s.traceWarn)("Failed to decorate EventEmitter for DI (possibly already decorated by another Extension)",e)}let a=class{constructor(e){this.container=e}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}};a=n([(0,o.injectable)()],a),t.ServiceContainer=a},37104:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const i=r(86700);let o=class{constructor(e){this.container=e}add(e,t,r,n){r?this.container.bind(e).to(t).whenTargetNamed(r):this.container.bind(e).to(t),n&&n.forEach((t=>{this.addBinding(e,t)}))}addFactory(e,t){this.container.bind(e).toFactory(t)}addBinding(e,t){this.container.bind(t).toService(e)}addSingleton(e,t,r,n){r?this.container.bind(e).to(t).inSingletonScope().whenTargetNamed(r):this.container.bind(e).to(t).inSingletonScope(),n&&n.forEach((t=>{this.addBinding(e,t)}))}addSingletonInstance(e,t,r){r?this.container.bind(e).toConstantValue(t).whenTargetNamed(r):this.container.bind(e).toConstantValue(t)}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}rebind(e,t,r){r?this.container.rebind(e).to(t).whenTargetNamed(r):this.container.rebind(e).to(t)}rebindSingleton(e,t,r){r?this.container.rebind(e).to(t).inSingletonScope().whenTargetNamed(r):this.container.rebind(e).to(t).inSingletonScope()}rebindInstance(e,t,r){r?this.container.rebind(e).toConstantValue(t).whenTargetNamed(r):this.container.rebind(e).toConstantValue(t)}dispose(){this.container.unbindAll(),this.container.unload()}};o=n([(0,i.injectable)()],o),t.ServiceManager=o},77498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IServiceContainer=t.IServiceManager=void 0,t.IServiceManager=Symbol("IServiceManager"),t.IServiceContainer=Symbol("IServiceContainer")},42310:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileLogger=void 0;const n=r(73837),i=r(41719);function o(e,...t){return e?`[${e.toUpperCase()} ${(0,i.getTimeForLogging)()}]: ${n.format(...t)}\r\n`:`${n.format(...t)}\r\n`}t.FileLogger=class{constructor(e){this.stream=e}traceLog(...e){this.stream.write(o(void 0,...e))}traceError(...e){this.stream.write(o("error",...e))}traceWarn(...e){this.stream.write(o("warn",...e))}traceInfo(...e){this.stream.write(o("info",...e))}traceVerbose(...e){this.stream.write(o("debug",...e))}dispose(){try{this.stream.close()}catch(e){}}}},19735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logTo=t.traceDecoratorWarn=t.traceDecoratorInfo=t.traceDecoratorError=t.traceDecoratorVerbose=t.traceVerbose=t.traceInfo=t.traceWarn=t.traceError=t.traceLog=t.initializeFileLogging=t.setLoggingLevel=t.registerLogger=void 0;const n=r(55674),i=r(25472),o=r(70057),s=r(54813),a=r(42310),c=r(49903),u=r(41719),l=c.TraceOptions.Arguments|c.TraceOptions.ReturnValue;let h=[];function p(e){return h.push(e),{dispose:()=>{h=h.filter((t=>t!==e))}}}t.registerLogger=p;const d=new Map([["error",c.LogLevel.Error],["warn",c.LogLevel.Warn],["info",c.LogLevel.Info],["debug",c.LogLevel.Debug],["none",c.LogLevel.Off],["off",c.LogLevel.Off],[void 0,c.LogLevel.Error]]);let f;function v(...e){f>=c.LogLevel.Error&&h.forEach((t=>t.traceError(...e)))}function y(...e){f>=c.LogLevel.Warn&&h.forEach((t=>t.traceWarn(...e)))}function m(...e){f>=c.LogLevel.Info&&h.forEach((t=>t.traceInfo(...e)))}function g(...e){f>=c.LogLevel.Debug&&h.forEach((t=>t.traceVerbose(...e)))}function b(e){return function(t,r,n){const s=n.value;return n.value=function(...r){const n={kind:"Class",name:t&&t.constructor?t.constructor.name:"",args:r},a=this;return function(e,t){const n=new o.StopWatch;try{const t=s.apply(a,r);return(0,i.isPromise)(t)?t.then((t=>(e({elapsed:n.elapsedTime,returnValue:t}),t))).catch((t=>{e({elapsed:n.elapsedTime,err:t})})):e({elapsed:n.elapsedTime,returnValue:t}),t}catch(t){throw e({elapsed:n.elapsedTime,err:t}),t}}((t=>e(n,t)))},n}}function _(e){return b(((t,r)=>function(e,t,r){const n=function(e,t,r){r=function(e){let{kind:t,name:r,args:n}=e;return t&&""!==t||(t="Function"),r&&""!==r||(r="<anon>"),n||(n=[]),{kind:t,name:r,args:n}}(r);const n=[e.message];return n.push(`${r.kind} name = ${r.name}`.trim(),`completed in ${t.elapsed}ms`,`has a ${t.returnValue?"truthy":"falsy"} return value`),(e.opts&c.TraceOptions.Arguments)===c.TraceOptions.Arguments&&n.push((0,u.argsToLogString)(r.args)),(e.opts&c.TraceOptions.ReturnValue)===c.TraceOptions.ReturnValue&&n.push((0,u.returnValueToLogString)(t.returnValue)),n.join(", ")}(e,t,r);void 0===t.err?(!e.level||e.level>c.LogLevel.Error)&&E(c.LogLevel.Info,[n]):(E(c.LogLevel.Error,[n,t.err]),(0,s.sendTelemetryEvent)("ERROR",void 0,void 0,t.err))}(e,r,t)))}function E(e,...t){switch(e){case c.LogLevel.Error:v(...t);break;case c.LogLevel.Warn:y(...t);break;case c.LogLevel.Info:m(...t);break;case c.LogLevel.Debug:g(...t)}}t.setLoggingLevel=function(e){var t;f=null!==(t=d.get(e))&&void 0!==t?t:c.LogLevel.Error},t.initializeFileLogging=function(e){if(process.env.VSC_PYTHON_LOG_FILE){const t=new a.FileLogger((0,n.createWriteStream)(process.env.VSC_PYTHON_LOG_FILE));e.push(t),e.push(p(t))}},t.traceLog=function(...e){h.forEach((t=>t.traceLog(...e)))},t.traceError=v,t.traceWarn=y,t.traceInfo=m,t.traceVerbose=g,t.traceDecoratorVerbose=function(e,t=l){return _({message:e,opts:t,level:c.LogLevel.Debug})},t.traceDecoratorError=function(e){return _({message:e,opts:l,level:c.LogLevel.Error})},t.traceDecoratorInfo=function(e){return _({message:e,opts:l,level:c.LogLevel.Info})},t.traceDecoratorWarn=function(e){return _({message:e,opts:l,level:c.LogLevel.Warn})},t.logTo=E},4247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputChannelLogger=void 0;const n=r(73837),i=r(41719);function o(e,...t){return e?`[${e.toUpperCase()} ${(0,i.getTimeForLogging)()}]: ${n.format(...t)}`:n.format(...t)}t.OutputChannelLogger=class{constructor(e){this.channel=e}traceLog(...e){this.channel.appendLine(n.format(...e))}traceError(...e){this.channel.appendLine(o("error",...e))}traceWarn(...e){this.channel.appendLine(o("warn",...e))}traceInfo(...e){this.channel.appendLine(o("info",...e))}traceVerbose(...e){this.channel.appendLine(o("debug",...e))}}},14164:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoggingLevel=void 0;const n=r(56792);t.getLoggingLevel=function(){var e;return null!==(e=(new n.WorkspaceService).getConfiguration("python").get("logging.level"))&&void 0!==e?e:"error"}},49903:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceOptions=t.LogLevel=void 0,(n=t.LogLevel||(t.LogLevel={}))[n.Off=0]="Off",n[n.Error=10]="Error",n[n.Warn=20]="Warn",n[n.Info=30]="Info",n[n.Debug=40]="Debug",(r=t.TraceOptions||(t.TraceOptions={}))[r.None=0]="None",r[r.Arguments=1]="Arguments",r[r.ReturnValue=2]="ReturnValue"},41719:(e,t)=>{"use strict";function r(e,t){if(void 0===e)return"undefined";if(null===e)return"null";try{return e&&e.fsPath?`<Uri:${e.fsPath}>`:JSON.stringify(e)}catch(e){return`<${t} cannot be serialized for logging>`}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeForLogging=t.returnValueToLogString=t.argsToLogString=void 0,t.argsToLogString=function(e){if(!e)return"";try{return e.map(((e,t)=>`Arg ${t+1}: ${r(e,"argument")}`)).join(", ")}catch(e){return""}},t.returnValueToLogString=function(e){return`Return Value: ${r(e,"Return value")}`},t.getTimeForLogging=function(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}.${e.getMilliseconds()}`}},65854:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildProposedApi=t.reportActiveInterpreterChanged=t.reportInterpretersChanged=void 0;const n=r(66828),i=r(48431),o=r(61684),s=r(18639),a=r(44773),c=new n.EventEmitter;t.reportInterpretersChanged=function(e){c.fire(e)};const u=new n.EventEmitter;function l(e){const t=[`${e.version.major}`,`${e.version.minor}`,`${e.version.micro}`];return e.version.release&&(t.push(`${e.version.release}`),e.version.sysVersion&&t.push(`${e.version.release}`)),t}t.reportActiveInterpreterChanged=function(e){u.fire(e)},t.buildProposedApi=function(e,t){const r=t.get(o.IInterpreterPathService),h=t.get(s.IInterpreterService);return{environment:{async getActiveEnvironmentPath(e){const t=await h.getActiveInterpreter(e);if(t)return(0,a.getEnvPath)(t.path,t.envPath)},async getEnvironmentDetails(t,r){let n;if((null==r?void 0:r.useCache)&&(n=e.getEnvs().find((e=>function(e,t){return(0,i.arePathsSame)(e,t.location)||(0,i.arePathsSame)(e,t.executable.filename)}(t,e)))),n||(n=await e.resolveEnv(t),n))return{interpreterPath:n.executable.filename,envFolderPath:n.location.length?n.location:void 0,version:l(n),environmentType:[n.kind],metadata:{sysPrefix:n.executable.sysPrefix,bitness:n.arch}}},getEnvironmentPaths(){const t=e.getEnvs().map((e=>(0,a.getEnvPath)(e.executable.filename,e.location)));return Promise.resolve(t)},setActiveEnvironment:(e,t)=>r.update(t,n.ConfigurationTarget.WorkspaceFolder,e),async refreshEnvironment(t){await e.triggerRefresh(t?{clearCache:t.clearCache}:void 0);const r=e.getEnvs().map((e=>(0,a.getEnvPath)(e.executable.filename,e.location)));return Promise.resolve(r)},getRefreshPromise:()=>e.refreshPromise,onDidEnvironmentsChanged:c.event,onDidActiveEnvironmentChanged:u.event}}}},76687:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplProvider=void 0;const i=r(17585),o=r(77570),s=r(54813),a=r(61522),c=r(43200);class u{constructor(e){this.serviceContainer=e,this.disposables=[],this.activeResourceService=this.serviceContainer.get(i.IActiveResourceService),this.registerCommand()}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommand(){const e=this.serviceContainer.get(i.ICommandManager).registerCommand(o.Commands.Start_REPL,this.commandHandler,this);this.disposables.push(e)}async commandHandler(){const e=this.activeResourceService.getActiveResource(),t=this.serviceContainer.get(c.ICodeExecutionService,"repl");await t.initializeRepl(e)}}n([(0,s.captureTelemetry)(a.EventName.REPL)],u.prototype,"commandHandler",null),t.ReplProvider=u},8593:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalProvider=void 0;const i=r(17585),o=r(77570),s=r(58400),a=r(61684),c=r(36952),u=r(54813),l=r(61522);class h{constructor(e){this.serviceContainer=e,this.disposables=[],this.registerCommands(),this.activeResourceService=this.serviceContainer.get(i.IActiveResourceService)}async initialize(e){const t=this.serviceContainer.get(a.IConfigurationService).getSettings(this.activeResourceService.getActiveResource());if(e&&t.terminal.activateEnvInCurrentTerminal){const t="hideFromUser"in e.creationOptions&&e.creationOptions.hideFromUser;if(!t){const t=this.serviceContainer.get(s.ITerminalActivator);await t.activateEnvironmentInTerminal(e,{preserveFocus:!0})}(0,u.sendTelemetryEvent)(l.EventName.ACTIVATE_ENV_IN_CURRENT_TERMINAL,void 0,{isTerminalVisible:!t})}}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommands(){const e=this.serviceContainer.get(i.ICommandManager).registerCommand(o.Commands.Create_Terminal,this.onCreateTerminal,this);this.disposables.push(e)}async onCreateTerminal(){const e=this.serviceContainer.get(s.ITerminalServiceFactory),t=this.activeResourceService.getActiveResource();await e.createTerminalService(t,"Python").show(!1)}}n([(0,c.swallowExceptions)("Failed to initialize terminal provider")],h.prototype,"initialize",null),n([(0,u.captureTelemetry)(l.EventName.TERMINAL_CREATE,{triggeredBy:"commandpalette"})],h.prototype,"onCreateTerminal",null),t.TerminalProvider=h},11069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonEnvironments=void 0;class r{constructor(e){this.getLocator=e}async activate(){this.locator=await this.getLocator()}get onRefreshStart(){return this.locator.onRefreshStart}get refreshPromise(){return this.locator.refreshPromise}get onChanged(){return this.locator.onChanged}getEnvs(e){return this.locator.getEnvs(e)}async resolveEnv(e){return this.locator.resolveEnv(e)}async triggerRefresh(e){return this.locator.triggerRefresh(e)}}t.createPythonEnvironments=async function(e){const t=new r(e);return await t.activate(),t}},44773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.comparePythonVersionSpecificity=t.areSameEnv=t.getEnvID=t.getEnvPath=t.setEnvDisplayString=t.copyEnvInfo=t.buildEnvInfo=void 0;const n=r(96486),i=r(71017),o=r(3522),s=r(87450),a=r(37769),c=r(24563),u=r(95084),l=r(45878);function h(e,t){void 0!==t.kind&&(e.kind=t.kind),void 0!==t.executable&&(e.executable.filename=t.executable),void 0!==t.location&&(e.location=t.location),void 0!==t.version&&(e.version=t.version),void 0!==t.searchLocation&&(e.searchLocation=t.searchLocation)}function p(e,t=!1){const r=t||e.searchLocation||l.globallyInstalledEnvKinds.includes(e.kind),n=!l.virtualEnvKinds.includes(e.kind),i=["Python"];if(e.version&&!(0,u.isVersionEmpty)(e.version)&&i.push((0,u.getVersionDisplayString)(e.version)),n){const t=(0,o.getArchitectureDisplayName)(e.arch);""!==t&&i.push(t)}const s=[];if(e.name&&""!==e.name&&s.push(`'${e.name}'`),r){const t=(0,c.getKindDisplayName)(e.kind);""!==t&&s.push(t)}const a=0===s.length?"":`(${s.join(": ")})`;return`${i.join(" ")} ${a}`.trim()}function d(e){if("string"==typeof e){if(""===e)return;return{executable:{filename:e,sysPrefix:"",ctime:-1,mtime:-1}}}return"executablePath"in e?{executable:{filename:e.executablePath,sysPrefix:"",ctime:-1,mtime:-1},location:e.envPath,kind:e.kind,source:e.source}:e}function f(e,t){let r={path:e,pathType:"interpreterPath"};return t&&!(0,a.isParentPath)(e,t)&&(r={path:t,pathType:"envFolderPath"}),r}function v(e,t){return(0,a.normCasePath)(f(e,t).path)}function y(e){var t,r;let n=0;return e.major>0&&(n+=20),e.minor>=0&&(n+=10),e.micro>=0&&(n+=5),(null===(t=e.release)||void 0===t?void 0:t.level)&&(n+=3),((null===(r=e.release)||void 0===r?void 0:r.serial)||e.sysVersion)&&(n+=1),n}t.buildEnvInfo=function(e){var t,r,n,i,o,a,c,u,p;const d={name:null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"",location:"",kind:l.PythonEnvKind.Unknown,executable:{filename:"",sysPrefix:null!==(r=null==e?void 0:e.sysPrefix)&&void 0!==r?r:"",ctime:null!==(i=null===(n=null==e?void 0:e.fileInfo)||void 0===n?void 0:n.ctime)&&void 0!==i?i:-1,mtime:null!==(a=null===(o=null==e?void 0:e.fileInfo)||void 0===o?void 0:o.mtime)&&void 0!==a?a:-1},searchLocation:void 0,display:null==e?void 0:e.display,version:{major:-1,minor:-1,micro:-1,release:{level:l.PythonReleaseLevel.Final,serial:0}},arch:null!==(c=null==e?void 0:e.arch)&&void 0!==c?c:s.Architecture.Unknown,distro:{org:null!==(u=null==e?void 0:e.org)&&void 0!==u?u:""},source:null!==(p=null==e?void 0:e.source)&&void 0!==p?p:[]};return void 0!==e&&h(d,e),d.id=v(d.executable.filename,d.location),d},t.copyEnvInfo=function(e,t){const r=(0,n.cloneDeep)(e);return void 0!==t&&h(r,t),r},t.setEnvDisplayString=function(e){e.display=p(e),e.detailedDisplayName=p(e,!0)},t.getEnvPath=f,t.getEnvID=v,t.areSameEnv=function(e,t,r=!0){const n=d(e),o=d(t);if(void 0===n||void 0===o)return;const s=n.executable.filename,c=o.executable.filename;if(v(s,n.location)===v(c,o.location))return!0;if(r&&(0,a.arePathsSame)(i.dirname(s),i.dirname(c))){const r="string"==typeof e?void 0:n.version,i="string"==typeof t?void 0:o.version;if(r&&i&&((0,u.areIdenticalVersion)(r,i)||(0,u.areSimilarVersions)(r,i)))return!0}return!1},t.comparePythonVersionSpecificity=function(e,t){return Math.sign(y(e)-y(t))}},24563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrioritizedEnvKinds=t.getKindDisplayName=void 0;const n=r(45878);t.getKindDisplayName=function(e){for(const[t,r]of[[n.PythonEnvKind.System,"system"],[n.PythonEnvKind.MacDefault,"mac default"],[n.PythonEnvKind.WindowsStore,"windows store"],[n.PythonEnvKind.Pyenv,"pyenv"],[n.PythonEnvKind.CondaBase,"conda"],[n.PythonEnvKind.Poetry,"poetry"],[n.PythonEnvKind.Custom,"custom"],[n.PythonEnvKind.Venv,"venv"],[n.PythonEnvKind.VirtualEnv,"virtualenv"],[n.PythonEnvKind.VirtualEnvWrapper,"virtualenv"],[n.PythonEnvKind.Pipenv,"pipenv"],[n.PythonEnvKind.Conda,"conda"]])if(e===t)return r;return""},t.getPrioritizedEnvKinds=function(){return[n.PythonEnvKind.Pyenv,n.PythonEnvKind.CondaBase,n.PythonEnvKind.Conda,n.PythonEnvKind.WindowsStore,n.PythonEnvKind.Pipenv,n.PythonEnvKind.Poetry,n.PythonEnvKind.Venv,n.PythonEnvKind.VirtualEnvWrapper,n.PythonEnvKind.VirtualEnv,n.PythonEnvKind.OtherVirtual,n.PythonEnvKind.OtherGlobal,n.PythonEnvKind.MacDefault,n.PythonEnvKind.System,n.PythonEnvKind.Custom,n.PythonEnvKind.Unknown]}},67931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentInfoService=t.EnvironmentInfoServiceQueuePriority=void 0;const n=r(59314),i=r(97749),o=r(67029),s=r(24708),a=r(19735),c=r(75470),u=r(45878),l=r(37769),h=r(4057);var p;async function d(e){const t=[e.executable.filename,h.OUTPUT_MARKER_SCRIPT];return await(0,o.getInterpreterInfo)((0,s.buildPythonExecInfo)(t,void 0,e.executable.filename))}async function f(e){const t=await c.Conda.getConda(),r=e.location.length?e.location:e.executable.filename,n=await(null==t?void 0:t.getCondaEnvironment(r));if(!n)return;const i=await(null==t?void 0:t.getRunPythonArgs(n,!0));return i?await(0,o.getInterpreterInfo)((0,s.buildPythonExecInfo)(i,void 0,e.executable.filename),c.CONDA_ACTIVATION_TIMEOUT):void 0}!function(e){e[e.Default=0]="Default",e[e.High=1]="High"}(p=t.EnvironmentInfoServiceQueuePriority||(t.EnvironmentInfoServiceQueuePriority={}));class v{constructor(){this.cache=new Map}dispose(){void 0!==this.workerPool&&(this.workerPool.stop(),this.workerPool=void 0),void 0!==this.condaRunWorkerPool&&(this.condaRunWorkerPool.stop(),this.condaRunWorkerPool=void 0)}async getEnvironmentInfo(e,t){const r=e.executable.filename,i=this.cache.get((0,l.normCasePath)(r));if(void 0!==i)return i.promise;const o=(0,n.createDeferred)();return this.cache.set((0,l.normCasePath)(r),o),this._getEnvironmentInfo(e,t).then((e=>{o.resolve(e)})).catch((e=>{o.reject(e)})),o.promise}async _getEnvironmentInfo(e,t){let r;void 0===this.workerPool&&(this.workerPool=(0,i.createRunningWorkerPool)(d));let n=await y(this.workerPool,e,t).catch((e=>{r=e}));return void 0===n&&(e.kind===u.PythonEnvKind.Conda||await(0,c.isCondaEnvironment)(e.executable.filename)?((0,a.traceInfo)(`Validating ${e.executable.filename} normally failed with error, falling back to using conda run: (${r})`),void 0===this.condaRunWorkerPool&&(this.condaRunWorkerPool=(0,i.createRunningWorkerPool)(f)),n=await y(this.condaRunWorkerPool,e,t).catch((e=>{(0,a.traceError)(e)}))):r&&(0,a.traceError)(r)),n}}function y(e,t,r){return r===p.High?e.addToQueue(t,i.QueuePosition.Front):e.addToQueue(t,i.QueuePosition.Back)}let m;t.getEnvironmentInfoService=function(e){if(void 0===m){const t=new v;null==e||e.push({dispose:()=>{t.dispose(),m=void 0}}),m=t}return m}},82035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseVersionFromExecutable=void 0;const n=r(71017),i=r(87450),o=r(95084),s=r(37769);t.parseVersionFromExecutable=function(e){const t=function(e){if(e=(0,s.normCasePath)(e),(0,i.getOSType)()===i.OSType.Windows){if("python.exe"===e)return(0,o.getEmptyVersion)()}else if("python"===e)return(0,o.parseVersion)("2.7");if(!e.startsWith("python"))throw Error(`not a Python executable (expected "python..", got "${e}")`);return(0,o.parseVersion)(e)}(n.basename(e));return 2===t.major&&-1===t.minor&&(t.minor=7),t}},45878:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.UNKNOWN_PYTHON_VERSION=t.PythonReleaseLevel=t.PythonEnvSource=t.globallyInstalledEnvKinds=t.virtualEnvKinds=t.PythonEnvKind=void 0,function(e){e.Unknown="unknown",e.System="global-system",e.MacDefault="global-mac-default",e.WindowsStore="global-windows-store",e.Pyenv="global-pyenv",e.CondaBase="global-conda-base",e.Poetry="global-poetry",e.Custom="global-custom",e.OtherGlobal="global-other",e.Venv="virt-venv",e.VirtualEnv="virt-virtualenv",e.VirtualEnvWrapper="virt-virtualenvwrapper",e.Pipenv="virt-pipenv",e.Conda="virt-conda",e.OtherVirtual="virt-other"}(r=t.PythonEnvKind||(t.PythonEnvKind={})),t.virtualEnvKinds=[r.Poetry,r.Pipenv,r.Venv,r.VirtualEnvWrapper,r.Conda,r.VirtualEnv],t.globallyInstalledEnvKinds=[r.OtherGlobal,r.Unknown,r.WindowsStore,r.System,r.Custom],(i=t.PythonEnvSource||(t.PythonEnvSource={})).PathEnvVar="path env var",i.WindowsRegistry="windows registry",function(e){e.Alpha="alpha",e.Beta="beta",e.Candidate="candidate",e.Final="final"}(n=t.PythonReleaseLevel||(t.PythonReleaseLevel={})),t.UNKNOWN_PYTHON_VERSION={major:-1,minor:-1,micro:-1,release:{level:n.Final,serial:-1},sysVersion:void 0},Object.freeze(t.UNKNOWN_PYTHON_VERSION)},67029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterpreterInfo=void 0;const n=r(4057),i=r(87450),o=r(19735),s=r(37769),a=r(24708),c=r(95084);t.getInterpreterInfo=async function(e,t){const[r,u]=(0,n.interpreterInfo)(),l=(0,a.copyPythonExecInfo)(e,r),h=[l.command,...l.args],p=h.reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),""),d=await(0,s.shellExecute)(p,{timeout:null!=t?t:15e3});d.stderr&&(0,o.traceError)(`Stderr when executing script with ${h} stderr: ${d.stderr}, still attempting to parse output`);const f=u(d.stdout);if(f)return(0,o.traceInfo)(`Found interpreter for ${h}`),function(e,t){let r=`${t.versionInfo.slice(0,3).join(".")}`;if(void 0!==t.versionInfo[3]&&["final","alpha","beta","candidate"].includes(t.versionInfo[3])&&(r=`${r}-${t.versionInfo[3]}`,void 0!==t.versionInfo[4])){let e=-1;try{e=parseInt(`${t.versionInfo[4]}`,10)}catch(t){e=-1}r=e>=0?`${r}${e}`:r}return{arch:t.is64Bit?i.Architecture.x64:i.Architecture.x86,executable:{filename:e,sysPrefix:t.sysPrefix,mtime:-1,ctime:-1},version:{...(0,c.parseVersion)(r),sysVersion:t.sysVersion}}}(e.pythonExecutable,f)}},95084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareSemVerLikeVersions=t.toSemverLikeVersion=t.areSimilarVersions=t.areIdenticalVersion=t.getShortVersionString=t.getVersionDisplayString=t.isVersionEmpty=t.getEmptyVersion=t.parseBasicVersion=t.parseRelease=t.parseVersion=t.getPythonVersionFromPath=void 0;const n=r(96486),i=r(71017),o=r(52439),s=r(45878),a=r(19735);function c(e){const[t,r]=l(e);if(-1===t.micro)return t;const[n]=u(r);return t.release=n,t}function u(e){let t,r,n,i,o,a,c,u=e.match(/^(?:-?final|\.final(?:\.0)?)(.*)$/);if(u)[,t]=u,o="final",a="0";else for(const o of[/^(?:(a)|(b)|(rc))([1-9]\d*)(.*)$/,/^-(?:(?:(alpha)|(beta)|(candidate))([1-9]\d*))(.*)$/,/^\.(?:(?:(alpha)|(beta)|(candidate))\.([1-9]\d*))(.*)$/])if(u=e.match(o),u){[,r,n,i,a,t]=u;break}if(o)c=s.PythonReleaseLevel.Final;else if(i)c=s.PythonReleaseLevel.Candidate;else if(n)c=s.PythonReleaseLevel.Beta;else{if(!r)return[void 0,e];c=s.PythonReleaseLevel.Alpha}return[{level:c,serial:parseInt(a,10)},t]}function l(e){const t=o.parseBasicVersionInfo(`ignored-${e}`);if(!t){if(""===e)return[h(),""];throw Error(`invalid version ${e}`)}const{version:r,after:n}=t;if(r.release=void 0,-1===r.minor&&r.major>9){const e=10**(r.major.toString().length-1);r.minor=r.major%e,r.major=Math.floor(r.major/e)}return[r,n]}function h(){return(0,n.cloneDeep)(o.EMPTY_VERSION)}function p(e){return o.isVersionInfoEmpty(e)}function d(e){let t=o.getVersionString(e);if(void 0===e.release)return t;if(e.release.level===s.PythonReleaseLevel.Final)return t;if(e.release.level===s.PythonReleaseLevel.Candidate)t=`${t}rc${e.release.serial}`;else if(e.release.level===s.PythonReleaseLevel.Beta)t=`${t}b${e.release.serial}`;else{if(e.release.level!==s.PythonReleaseLevel.Alpha)throw Error(`unsupported release level ${e.release.level}`);t=`${t}a${e.release.serial}`}return t}function f(e,t){return void 0===e.release?void 0===t.release?[0,""]:[1,"level"]:void 0===t.release?[-1,"level"]:e.release.level<t.release.level?[1,"level"]:e.release.level>t.release.level?[-1,"level"]:e.release.level===s.PythonReleaseLevel.Final?[0,""]:e.release.serial<t.release.serial?[1,"serial"]:e.release.serial>t.release.serial?[-1,"serial"]:[0,""]}t.getPythonVersionFromPath=function(e){let t=s.UNKNOWN_PYTHON_VERSION;try{t=c(i.basename(e))}catch(t){(0,a.traceError)(`Failed to parse version from path: ${e}`,t)}return t},t.parseVersion=c,t.parseRelease=u,t.parseBasicVersion=l,t.getEmptyVersion=h,t.isVersionEmpty=p,t.getVersionDisplayString=function(e){return p(e)?"":-1!==e.micro?d(e):`${d(e)}.x`},t.getShortVersionString=d,t.areIdenticalVersion=function(e,t){return o.areIdenticalVersion(e,t,f)},t.areSimilarVersions=function(e,t){return!!o.areSimilarVersions(e,t,f)&&(2===e.major||e.minor>-1&&t.minor>-1)},t.toSemverLikeVersion=function(e){const t=o.getVersionString(e);let r=[];return e.release&&(r=e.release.serial<0?[`${e.release.level}`]:[`${e.release.level}`,`${e.release.serial}`]),{raw:t,major:e.major,minor:e.minor,patch:e.micro,build:[],prerelease:r}},t.compareSemVerLikeVersions=function(e,t){return e.major===t.major?e.minor===t.minor?e.patch===t.patch?0:e.patch>t.patch?1:-1:e.minor>t.minor?1:-1:e.major>t.major?1:-1}},44538:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locator=t.NOOP_ITERATOR=void 0;const n=r(59314),i=r(34354);t.NOOP_ITERATOR=(0,n.iterEmpty)(),t.Locator=class extends class{constructor(e){this.emitter=e,this.onChanged=e.onChanged}}{constructor(){super(new i.PythonEnvsWatcher)}}},69270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvs=t.getQueryFilter=void 0;const n=r(59314),i=r(3481),o=r(19735);t.getQueryFilter=function(e){var t;const r=void 0!==e.kinds&&e.kinds.length>0?e.kinds:void 0,n=!(null===(t=e.searchLocations)||void 0===t?void 0:t.doNotIncludeNonRooted),o=function(e){if(void 0!==e.searchLocations)return 0===e.searchLocations.roots.length?[]:e.searchLocations.roots.map((e=>(0,i.getURIFilter)(e,{checkParent:!0})))}(e);return e=>!!function(e){return void 0===r||r.includes(e.kind)}(e)&&!!function(e){if(void 0===e.searchLocation)return n;const t=e.searchLocation;return void 0===o||o.some((e=>e(t)))}(e)},t.getEnvs=async function(e){const t=[],r=(0,n.createDeferred)();if(void 0===e.onUpdated)r.resolve();else{const n=e.onUpdated((e=>{if(null===e)r.resolve(),n.dispose();else{const{index:r,update:n}=e;if(void 0===t[r]){const e=JSON.stringify(n);(0,o.traceVerbose)(`Updates sent for an env which was classified as invalid earlier, currently not expected, ${e}`)}t[r]=n}}))}let i=0;for await(const r of e)void 0===t[i]&&(t[i]=r),i+=1;return await r.promise,t.filter((e=>void 0!==e)).map((e=>e))}},2839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locators=t.combineIterators=void 0;const n=r(59314),i=r(81837),o=r(38514);function s(e){const t=(0,n.chain)(e),r=e.map((e=>e.onUpdated)).filter((e=>e));return r&&0!==r.length?(t.onUpdated=e=>{const t=new i.Disposables;let n=r.length;return r.forEach((r=>{const i=r((t=>{null===t?(n-=1,0===n&&e(null)):e(t)}));t.push(i)})),t},t):t}t.combineIterators=s;class a extends o.PythonEnvsWatchers{constructor(e){super(e),this.locators=e}iterEnvs(e){return s(this.locators.map((t=>t.iterEnvs(e))))}}t.Locators=a},77882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyResourceBasedLocator=void 0;const n=r(59314),i=r(81837),o=r(44538);class s extends o.Locator{constructor(){super(...arguments),this.disposables=new i.Disposables}async dispose(){await this.disposables.dispose()}async*iterEnvs(e){await this.ensureResourcesReady(),yield*this.doIterEnvs(e),this.ensureWatchersReady().ignoreErrors()}async initResources(){}async initWatchers(){}async ensureResourcesReady(){void 0===this.resourcesReady?(this.resourcesReady=(0,n.createDeferred)(),await this.initResources(),this.resourcesReady.resolve()):await this.resourcesReady.promise}async ensureWatchersReady(){void 0===this.watchersReady?(this.watchersReady=(0,n.createDeferred)(),await this.initWatchers(),this.watchersReady.resolve()):await this.watchersReady.promise}}t.LazyResourceBasedLocator=s},97954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCollectionCache=t.PythonEnvInfoCache=void 0;const n=r(19735),i=r(65854),o=r(37769),s=r(44773),a=r(34354);class c extends a.PythonEnvsWatcher{constructor(e){super(),this.persistentStorage=e,this.envs=[]}async validateCache(){(await Promise.all(this.envs.map((e=>(0,o.pathExists)(e.executable.filename))))).map(((e,t)=>e?-1:t)).filter((e=>-1!==e)).reverse().forEach((e=>{const t=this.envs.splice(e,1)[0];this.fire({old:t,new:void 0}),(0,i.reportInterpretersChanged)([{path:(0,s.getEnvPath)(t.executable.filename,t.location).path,type:"remove"}])}))}getAllEnvs(){return this.envs}addEnv(e,t){const r=this.envs.find((t=>(0,s.areSameEnv)(t,e)));t&&(e.hasCompleteInfo=!0),r||(this.envs.push(e),this.fire({new:e}),(0,i.reportInterpretersChanged)([{path:(0,s.getEnvPath)(e.executable.filename,e.location).path,type:"add"}]))}updateEnv(e,t){const r=this.envs.findIndex((t=>(0,s.areSameEnv)(t,e)));-1!==r&&(void 0===t?this.envs.splice(r,1):this.envs[r]=t,this.fire({old:e,new:t}),(0,i.reportInterpretersChanged)([{path:(0,s.getEnvPath)(e.executable.filename,e.location).path,type:t?"update":"remove"}]))}getCompleteInfo(e){let t=this.envs.find((t=>(0,o.arePathsSame)(t.location,e)));return(null==t?void 0:t.hasCompleteInfo)?t:(t=this.envs.find((t=>(0,s.areSameEnv)(t,e))),(null==t?void 0:t.hasCompleteInfo)?t:void 0)}async clearAndReloadFromStorage(){this.envs=await this.persistentStorage.load()}async flush(){this.envs.length&&((0,n.traceInfo)("Environments added to cache",JSON.stringify(this.envs)),this.envs.forEach((e=>{e.hasCompleteInfo=!0})),await this.persistentStorage.store(this.envs))}clearCache(){return this.envs.forEach((e=>{this.fire({old:e,new:void 0})})),(0,i.reportInterpretersChanged)([{path:void 0,type:"clear-all"}]),this.envs=[],Promise.resolve()}}t.PythonEnvInfoCache=c,t.createCollectionCache=async function(e){const t=new c(e);return await t.clearAndReloadFromStorage(),await t.validateCache(),t}},17021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvsCollectionService=void 0;const n=r(66828);r(32727);const i=r(59314),o=r(70057),s=r(19735),a=r(54813),c=r(61522),u=r(37769),l=r(44773),h=r(69270),p=r(34354);class d extends p.PythonEnvsWatcher{constructor(e,t){super(),this.cache=e,this.locator=t,this.refreshPromises=new Map,this.scheduledRefreshes=new Map,this.refreshStarted=new n.EventEmitter,this.locator.onChanged((e=>{const t=void 0;let r=this.scheduledRefreshes.get(t);r||(r=this.scheduleNewRefresh(t)),r.then((()=>{this.fire(e)}))})),this.cache.onChanged((e=>{this.fire(e)}))}get onRefreshStart(){return this.refreshStarted.event}get refreshPromise(){return this.refreshPromises.size>0?Promise.all(Array.from(this.refreshPromises.values())).then():void 0}async resolveEnv(e){e=(0,u.normalizePath)(e);const t=this.cache.getCompleteInfo(e);if(t)return t;const r=await this.locator.resolveEnv(e).catch((t=>{(0,s.traceError)(`Failed to resolve ${e}`,t)}));return r&&this.cache.addEnv(r,!0),r}getEnvs(e){const t=this.cache.getAllEnvs();return 0===t.length&&0===this.refreshPromises.size&&((0,s.traceError)("No python is installed or a refresh has not already been triggered"),this.triggerRefresh().ignoreErrors()),e?t.filter((0,h.getQueryFilter)(e)):t}triggerRefresh(e){let t=this.getRefreshPromiseForQuery(e);return t||(t=this.startRefresh(e)),t}startRefresh(e){const t=new o.StopWatch,r=(0,i.createDeferred)();(null==e?void 0:e.clearCache)&&this.cache.clearCache(),this.refreshPromises.set(e,r.promise),this.refreshStarted.fire();const n=this.locator.iterEnvs(e);return this.addEnvsToCacheFromIterator(n).then((async()=>{this.refreshPromises.delete(e),r.resolve(),(0,a.sendTelemetryEvent)(c.EventName.PYTHON_INTERPRETER_DISCOVERY,t.elapsedTime,{interpreters:this.cache.getAllEnvs().length,environmentsWithoutPython:this.cache.getAllEnvs().filter((e=>"envFolderPath"===(0,l.getEnvPath)(e.executable.filename,e.location).pathType)).length})})).catch((e=>r.reject(e)))}async addEnvsToCacheFromIterator(e){const t=[],r={done:!1,pending:0},n=(0,i.createDeferred)();if(void 0!==e.onUpdated){const i=e.onUpdated((async e=>{null===e?(r.done=!0,i.dispose()):(r.pending+=1,this.cache.updateEnv(t[e.index],e.update),e.update&&(t[e.index]=e.update),r.pending-=1),r.done&&0===r.pending&&n.resolve()}))}else n.resolve();for await(const r of e)t.push(r),this.cache.addEnv(r);await n.promise,await this.cache.validateCache(),this.cache.flush().ignoreErrors()}getRefreshPromiseForQuery(e){var t;return null!==(t=this.refreshPromises.get(e))&&void 0!==t?t:this.refreshPromises.get(void 0)}async scheduleNewRefresh(e){const t=this.getRefreshPromiseForQuery(e);let r;return t?(r=t.then((()=>{this.scheduledRefreshes.delete(e),this.startRefresh(e)})),this.scheduledRefreshes.set(e,r)):r=this.startRefresh(e),r}}t.EnvsCollectionService=d},30752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsReducer=void 0;const n=r(96486),i=r(66828),o=r(19735),s=r(45878),a=r(44773);async function c(e,t,r,i,o){r.pending+=1;const a=o[e],c=function(e,t){var r,i;const[o]=function(...e){const t=[s.PythonEnvKind.Pyenv,s.PythonEnvKind.CondaBase,s.PythonEnvKind.Conda,s.PythonEnvKind.WindowsStore,s.PythonEnvKind.Pipenv,s.PythonEnvKind.Poetry,s.PythonEnvKind.Venv,s.PythonEnvKind.VirtualEnvWrapper,s.PythonEnvKind.VirtualEnv,s.PythonEnvKind.OtherVirtual,s.PythonEnvKind.OtherGlobal,s.PythonEnvKind.MacDefault,s.PythonEnvKind.System,s.PythonEnvKind.Custom,s.PythonEnvKind.Unknown];return e.sort(((e,r)=>t.indexOf(e.kind)-t.indexOf(r.kind)))}(e,t),a=(0,n.cloneDeep)(o);return a.source=(0,n.uniq)((null!==(r=e.source)&&void 0!==r?r:[]).concat(null!==(i=t.source)&&void 0!==i?i:[])),a}(a,t);(0,n.isEqual)(a,c)||(o[e]=c,i.fire({index:e,old:a,update:c})),r.pending-=1,u(r,i)}function u(e,t){e.done&&0===e.pending&&(t.fire(null),t.dispose())}t.PythonEnvsReducer=class{constructor(e){this.parentLocator=e}get onChanged(){return this.parentLocator.onChanged}iterEnvs(e){const t=new i.EventEmitter,r=async function*(e,t){const r={done:!1,pending:0},n=[];if(void 0!==e.onUpdated){const i=e.onUpdated((e=>{if(r.pending+=1,null===e)r.done=!0,i.dispose();else{if(void 0===e.update)throw new Error("Unsupported behavior: `undefined` environment updates are not supported from downstream locators in reducer");if(void 0!==n[e.index]){const r=n[e.index];n[e.index]=e.update,t.fire({index:e.index,old:r,update:e.update})}else(0,o.traceVerbose)(`Expected already iterated env, got ${e.old} (#${e.index})`)}r.pending-=1,u(r,t)}))}let i=await e.next();for(;!i.done;){const o=i.value,s=n.findIndex((e=>(0,a.areSameEnv)(e,o)));-1!==s?c(s,o,r,t,n).ignoreErrors():(yield o,n.push(o)),i=await e.next()}void 0===e.onUpdated&&(r.done=!0,u(r,t))}(this.parentLocator.iterEnvs(e),t);return r.onUpdated=t.event,r}}},27736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsResolver=void 0;const n=r(96486),i=r(66828),o=r(13367),s=r(44773),a=r(80640),c=r(19735),u=r(29616),l=r(95084);function h(e,t){e.done&&0===e.pending&&(t.fire(null),t.dispose())}function p(e,t){const r=(0,n.cloneDeep)(t);r.executable.filename=e.executable.filename,r.executable.sysPrefix=e.executable.sysPrefix;const i="envFolderPath"===(0,s.getEnvPath)(r.executable.filename,r.location).pathType;return r.version=i?(0,l.getEmptyVersion)():e.version,r.arch=e.arch,(0,s.setEnvDisplayString)(r),r}t.PythonEnvsResolver=class{constructor(e,t){this.parentLocator=e,this.environmentInfoService=t}get onChanged(){return this.parentLocator.onChanged}async resolveEnv(e){const[t,r]=await async function(e){var t;let r,n;return await(0,u.isPythonExecutable)(e)?(r=e,n=(0,u.getEnvironmentDirFromPath)(r)):(n=e,r=null!==(t=await(0,u.getInterpreterPathFromDir)(n))&&void 0!==t?t:""),[r,n]}(e);e=t.length?t:r;const n=await(0,o.identifyEnvironment)(e),i=await(0,a.resolveBasicEnv)({kind:n,executablePath:t,envPath:r}),s=await this.environmentInfoService.getEnvironmentInfo(i);if(s)return p(s,i)}iterEnvs(e){const t=new i.EventEmitter,r=this.parentLocator.iterEnvs(e),n=this.iterEnvsIterator(r,t);return n.onUpdated=t.event,n}async*iterEnvsIterator(e,t){const r={done:!1,pending:0},n=[];if(void 0!==e.onUpdated){const i=e.onUpdated((async e=>{if(r.pending+=1,null===e)r.done=!0,i.dispose();else{if(void 0===e.update)throw new Error("Unsupported behavior: `undefined` environment updates are not supported from downstream locators in resolver");if(void 0!==n[e.index]){const i=n[e.index];n[e.index]=await(0,a.resolveBasicEnv)(e.update,!0),t.fire({old:i,index:e.index,update:n[e.index]}),this.resolveInBackground(e.index,r,t,n).ignoreErrors()}else(0,c.traceVerbose)(`Expected already iterated env, got ${e.old} (#${e.index})`)}r.pending-=1,h(r,t)}))}let i=await e.next();for(;!i.done;){const o=await(0,a.resolveBasicEnv)(i.value,!0);n.push(o),yield o,this.resolveInBackground(n.indexOf(o),r,t,n).ignoreErrors(),i=await e.next()}void 0===e.onUpdated&&(r.done=!0,h(r,t))}async resolveInBackground(e,t,r,n){t.pending+=1;const i=await this.environmentInfoService.getEnvironmentInfo(n[e]),o=n[e];if(i){const t=p(i,n[e]);n[e]=t,r.fire({old:o,index:e,update:t})}else r.fire({old:o,index:e,update:void 0});t.pending-=1,h(t,r)}}},80640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBasicEnv=void 0;const n=r(71017),i=r(66828),o=r(96486),s=r(45878),a=r(44773),c=r(29616),u=r(37769),l=r(75470),h=r(77826),p=r(87450),d=r(95084),f=r(38366),v=r(82035),y=r(19735);async function m(e){const{executablePath:t}=e;let r;try{r=(0,v.parseVersionFromExecutable)(t)}catch(e){r=s.UNKNOWN_PYTHON_VERSION}return(0,a.buildEnvInfo)({kind:e.kind,version:r,executable:t})}async function g(e){const{executablePath:t,kind:r}=e,i=(0,a.buildEnvInfo)({kind:r,version:await(0,c.getPythonVersionFromPath)(t),executable:t}),o=(0,c.getEnvironmentDirFromPath)(t);return i.location=o,i.name=n.basename(o),i}async function b(e,t){var r,n;const{executablePath:i}=e,o=await l.Conda.getConda();void 0===o&&(0,y.traceWarn)(`${i} identified as Conda environment even though Conda is not installed`);const u=null!==(r=await(null==o?void 0:o.getEnvList(t)))&&void 0!==r?r:[];for(const{name:t,prefix:r}of u){let n=await(0,c.getInterpreterPathFromDir)(r);const i={executablePath:null!=n?n:"",kind:s.PythonEnvKind.Conda,envPath:r};if((0,a.areSameEnv)(e,i)){n=e.executablePath.length>0?e.executablePath:await(null==o?void 0:o.getInterpreterPathForEnvironment({name:t,prefix:r}));const i=(0,a.buildEnvInfo)({executable:n,kind:s.PythonEnvKind.Conda,org:l.AnacondaCompanyName,location:r,source:[],version:n?await(0,c.getPythonVersionFromPath)(n):void 0});return t&&(i.name=t),i}}return(0,y.traceError)(`${null!==(n=e.envPath)&&void 0!==n?n:e.executablePath} identified as a Conda environment but is not returned via '${null==o?void 0:o.command} info' command`),e.kind=s.PythonEnvKind.Unknown,g(e)}async function _(e){const{executablePath:t}=e,r=(0,c.getEnvironmentDirFromPath)(t),i=n.basename(r),o=(0,h.parsePyenvVersion)(i),p=(0,a.buildEnvInfo)({kind:s.PythonEnvKind.Pyenv,executable:t,source:[],location:r,version:await(0,c.getPythonVersionFromPath)(t,null==o?void 0:o.pythonVer),org:o&&o.distro?o.distro:""});return await async function(e){if(!await(0,l.isCondaEnvironment)(e))return!1;const t=(0,c.getEnvironmentDirFromPath)(e),r=(0,h.getPyenvVersionsDir)();return(0,u.arePathsSame)(n.dirname(t),r)}(t)?p.name="base":p.name=i,p}async function E(e){const{executablePath:t}=e;return(0,a.buildEnvInfo)({kind:s.PythonEnvKind.WindowsStore,executable:t,version:(0,d.getPythonVersionFromPath)(t),org:"Microsoft",arch:p.Architecture.x64,source:[s.PythonEnvSource.PathEnvVar]})}t.resolveBasicEnv=async function(e,t=!1){var r;const{kind:c,source:l}=e,h=function(){const e=new Map;return Object.values(s.PythonEnvKind).forEach((t=>{e.set(t,m)})),s.virtualEnvKinds.forEach((t=>{e.set(t,g)})),e.set(s.PythonEnvKind.Conda,b),e.set(s.PythonEnvKind.WindowsStore,E),e.set(s.PythonEnvKind.Pyenv,_),e}().get(c),v=await h(e,t);return v.searchLocation=function(e){if((0,u.getWorkspaceFolders)().some((t=>(0,u.isParentPath)(e.executable.filename,t))))return i.Uri.file(n.dirname(e.location))}(v),v.source=(0,o.uniq)(v.source.concat(null!=l?l:[])),(0,p.getOSType)()===p.OSType.Windows&&(null===(r=v.source)||void 0===r?void 0:r.includes(s.PythonEnvSource.WindowsRegistry))&&await async function(e){var t,r,n;let i=(0,f.getRegistryInterpretersSync)();i||((0,y.traceError)("Expected registry interpreter cache to be initialized already"),i=await(0,f.getRegistryInterpreters)());const c=i.find((t=>(0,u.arePathsSame)(t.interpreterPath,e.executable.filename)));if(c){const i=null!==(r=null!==(t=c.versionStr)&&void 0!==t?t:c.sysVersionStr)&&void 0!==r?r:c.interpreterPath;let u;try{u=(0,d.parseVersion)(i)}catch(e){u=s.UNKNOWN_PYTHON_VERSION}e.kind=e.kind===s.PythonEnvKind.Unknown?s.PythonEnvKind.OtherGlobal:e.kind,e.version=(0,a.comparePythonVersionSpecificity)(u,e.version)>0?u:e.version,e.distro.defaultDisplayName=c.companyDisplayName,e.arch="32bit"===c.bitnessStr?p.Architecture.x86:p.Architecture.x64,e.distro.org=null!==(n=c.distroOrgName)&&void 0!==n?n:e.distro.org,e.source=(0,o.uniq)(e.source.concat(s.PythonEnvSource.WindowsRegistry))}else(0,y.traceWarn)("Expected registry to find the interpreter as source was set")}(v),(0,a.setEnvDisplayString)(v),v.id=(0,a.getEnvID)(v.executable.filename,v.location),v}},74437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CondaEnvironmentLocator=void 0,r(32727);const n=r(45878),i=r(44538),o=r(75470),s=r(19735);class a extends i.Locator{async*iterEnvs(){const e=await o.Conda.getConda();if(void 0===e)return void(0,s.traceVerbose)("Couldn't locate the conda binary.");(0,s.traceVerbose)(`Searching for conda environments using ${e.command}`);const t=await e.getEnvList();for(const r of t){const t=await e.getInterpreterPathForEnvironment(r);if(void 0!==t){(0,s.traceVerbose)(`Found conda environment: ${t}`);try{yield{kind:n.PythonEnvKind.Conda,executablePath:t,envPath:r.prefix}}catch(e){(0,s.traceError)(`Failed to process environment: ${t}`,e)}}}}}t.CondaEnvironmentLocator=a},82399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomVirtualEnvironmentLocator=t.VENVFOLDERS_SETTING_KEY=t.VENVPATH_SETTING_KEY=void 0;const n=r(96486),i=r(71017),o=r(59314),s=r(87450),a=r(45878),c=r(65349),u=r(29616),l=r(37769),h=r(37924),p=r(64715);r(32727);const d=r(99910),f=r(19735);async function v(){var e;const r=[],o=(0,l.getPythonSetting)(t.VENVPATH_SETTING_KEY);o&&r.push((0,l.untildify)(o));const a=null!==(e=(0,l.getPythonSetting)(t.VENVFOLDERS_SETTING_KEY))&&void 0!==e?e:[],c=(0,s.getUserHomeDir)();return c&&await(0,l.pathExists)(c)&&a.map((e=>i.join(c,e))).forEach((e=>r.push(e))),(0,d.asyncFilter)((0,n.uniq)(r),l.pathExists)}async function y(e){return await(0,h.isPipenvEnvironment)(e)?a.PythonEnvKind.Pipenv:await(0,p.isVirtualenvwrapperEnvironment)(e)?a.PythonEnvKind.VirtualEnvWrapper:await(0,p.isVenvEnvironment)(e)?a.PythonEnvKind.Venv:await(0,p.isVirtualenvEnvironment)(e)?a.PythonEnvKind.VirtualEnv:a.PythonEnvKind.Unknown}t.VENVPATH_SETTING_KEY="venvPath",t.VENVFOLDERS_SETTING_KEY="venvFolders";class m extends c.FSWatchingLocator{constructor(){super(v,y,{delayOnCreated:1e3})}async initResources(){this.disposables.push((0,l.onDidChangePythonSetting)(t.VENVPATH_SETTING_KEY,(()=>this.emitter.fire({})))),this.disposables.push((0,l.onDidChangePythonSetting)(t.VENVFOLDERS_SETTING_KEY,(()=>this.emitter.fire({}))))}doIterEnvs(){return async function*(){const e=(await v()).map((e=>async function*(){(0,f.traceVerbose)(`Searching for custom virtual envs in: ${e}`);const t=(0,u.findInterpretersInDir)(e,2);for await(const e of t){const{filename:t}=e;if(await(0,u.looksLikeBasicVirtualPython)(e))try{const e=await y(t);yield{kind:e,executablePath:t},(0,f.traceVerbose)(`Custom Virtual Environment: [added] ${t}`)}catch(e){(0,f.traceError)(`Failed to process environment: ${t}`,e)}else(0,f.traceVerbose)(`Custom Virtual Environment: [skipped] ${t}`)}}()));yield*(0,o.iterable)((0,o.chain)(e))}()}}t.CustomVirtualEnvironmentLocator=m},3649:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirFilesLocator=void 0;const n=r(29616),i=r(34354);async function*o(e){for await(const t of(0,n.iterPythonExecutablesInDir)(e))yield t.filename}t.DirFilesLocator=class extends class{constructor(e,t,r){this.kind=e,this.getExecutables=t,this.source=r,this.watcher=new i.PythonEnvsWatcher,this.onChanged=this.watcher.onChanged}iterEnvs(e){const t=this.getExecutables();return async function*(e,r){for await(const n of t)yield{executablePath:n,kind:e,source:r}}(this.kind,this.source)}}{constructor(e,t,r=o,n){super(t,(()=>r(e)),n)}}},65349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FSWatchingLocator=t.FSWatcherKind=void 0;const n=r(57147),i=r(71017),o=r(66828),s=r(88409),a=r(59314),c=r(19735),u=r(29616),l=r(53476),h=r(77882);var p;!function(e){e[e.Global=0]="Global",e[e.Workspace=1]="Workspace"}(p=t.FSWatcherKind||(t.FSWatcherKind={}));class d extends h.LazyResourceBasedLocator{constructor(e,t,r={},n=p.Global){super(),this.getRoots=e,this.getKind=t,this.opts=r,this.watcherKind=n}async initWatchers(){if(this.watcherKind===p.Global)return;(0,c.traceVerbose)("Getting roots");let e=await this.getRoots();(0,c.traceVerbose)("Found roots"),"string"==typeof e&&(e=[e]);const t=e.map((async e=>{const t=await function(e){let t;try{t=n.readdirSync(e)}catch(e){const t=e;if((0,c.traceError)("Reading directory to watch failed",t),"ENOENT"===t.code)return"directory does not exist";throw e}if(t.length>200)return"too many files"}(e);if(!t)return e;(0,c.traceError)(`Dir "${e}" is not watchable (${t})`)}));(await Promise.all(t)).filter((e=>!!e)).forEach((e=>this.startWatchers(e)))}startWatchers(e){const t=async(e,t)=>{var r;e===s.FileChangeType.Created&&void 0!==this.opts.delayOnCreated&&await(0,a.sleep)(this.opts.delayOnCreated);const n=await this.getKind(t).catch((()=>{})),l=o.Uri.file(null!==(r=this.opts.searchLocation)&&void 0!==r?r:i.dirname((0,u.getEnvironmentDirFromPath)(t)));(0,c.traceVerbose)("Fired event ",JSON.stringify({type:e,kind:n,searchLocation:l}),"from locator"),this.emitter.fire({type:e,kind:n,searchLocation:l})},r=(0,l.resolvePythonExeGlobs)(this.opts.baseGlob,this.opts.envStructure);(0,c.traceVerbose)("Start watching root",e,"for globs",JSON.stringify(r));const n=r.map((r=>(0,l.watchLocationForPythonBinaries)(e,t,r)));this.disposables.push(...n)}}t.FSWatchingLocator=d},93235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVirtualEnvironmentLocator=void 0;const n=r(96486),i=r(71017),o=r(59314),s=r(87450),a=r(45878),c=r(65349),u=r(29616),l=r(37769),h=r(37924),p=r(64715);r(32727);const d=r(99910),f=r(19735);async function v(){const e=[];let t=(0,s.getEnvironmentVariable)("WORKON_HOME");t&&(t=(0,l.untildify)(t),await(0,l.pathExists)(t)&&e.push(t));const r=(0,s.getUserHomeDir)();if(r&&await(0,l.pathExists)(r)){const t=["Envs",".direnv",".venvs",".virtualenvs",i.join(".local","share","virtualenvs")];(0,s.getOSType)()!==s.OSType.Windows&&t.push("envs"),(await(0,d.asyncFilter)(t.map((e=>i.join(r,e))),l.pathExists)).forEach((t=>e.push(t)))}return(0,n.uniq)(e)}async function y(e){return await(0,h.isPipenvEnvironment)(e)?a.PythonEnvKind.Pipenv:await(0,p.isVirtualenvwrapperEnvironment)(e)?a.PythonEnvKind.VirtualEnvWrapper:await(0,p.isVenvEnvironment)(e)?a.PythonEnvKind.Venv:await(0,p.isVirtualenvEnvironment)(e)?a.PythonEnvKind.VirtualEnv:a.PythonEnvKind.Unknown}class m extends c.FSWatchingLocator{constructor(e){super(v,y,{delayOnCreated:1e3}),this.searchDepth=e}doIterEnvs(){var e;const t=null!==(e=this.searchDepth)&&void 0!==e?e:2;return async function*(){const e=(await v()).map((e=>async function*(){(0,f.traceVerbose)(`Searching for global virtual envs in: ${e}`);const r=(0,u.findInterpretersInDir)(e,t);for await(const e of r){const{filename:t}=e;if(await(0,u.looksLikeBasicVirtualPython)(e)){const e=await y(t);try{yield{kind:e,executablePath:t},(0,f.traceVerbose)(`Global Virtual Environment: [added] ${t}`)}catch(e){(0,f.traceError)(`Failed to process environment: ${t}`,e)}}else(0,f.traceVerbose)(`Global Virtual Environment: [skipped] ${t}`)}}()));yield*(0,o.iterable)((0,o.chain)(e))}()}}t.GlobalVirtualEnvironmentLocator=m},51372:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMacDefaultPythonPath=void 0;const n=r(87450);t.isMacDefaultPythonPath=function(e){return(0,n.getOSType)()===n.OSType.OSX&&(["python","/usr/bin/python"].includes(e)||e.startsWith("/usr/bin/python2"))}},68624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PoetryLocator=void 0;const n=r(71017),i=r(59314),o=r(45878),s=r(65349),a=r(29616),c=r(37769),u=r(13298);r(32727);const l=r(99910),h=r(19735);class p extends s.FSWatchingLocator{constructor(e){super((()=>async function(e){const t=[],r=await u.Poetry.getPoetry(e),i=await(null==r?void 0:r.getEnvList());if(null==i?void 0:i.length)t.push(n.dirname(i[0]));else{const e=await(null==r?void 0:r.getVirtualenvsPathSetting());e&&t.push(e)}return t}(e)),(async()=>o.PythonEnvKind.Poetry),void 0,s.FSWatcherKind.Workspace),this.root=e}doIterEnvs(){return async function*(e){const t=await async function(e){const t=[n.join(e,u.localPoetryEnvDirName)],r=await u.Poetry.getPoetry(e),i=await(null==r?void 0:r.getEnvList());return i&&t.push(...i),(0,l.asyncFilter)(t,c.pathExists)}(e),r=t.map((e=>async function*(){(0,h.traceVerbose)(`Searching for poetry virtual envs in: ${e}`);const t=await(0,a.getInterpreterPathFromDir)(e);if(void 0!==t){const e=await async function(e){return await(0,u.isPoetryEnvironment)(e)?o.PythonEnvKind.Poetry:o.PythonEnvKind.Unknown}(t);try{yield{executablePath:t,kind:e},(0,h.traceVerbose)(`Poetry Virtual Environment: [added] ${t}`)}catch(e){(0,h.traceError)(`Failed to process environment: ${t}`,e)}}}()));yield*(0,i.iterable)((0,i.chain)(r))}(this.root)}}t.PoetryLocator=p},43160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PosixKnownPathsLocator=void 0;const n=r(22037),i=r(36625),o=r(45878),s=r(44538),a=r(72927),c=r(77826),u=r(87450),l=r(51372),h=r(19735);class p extends s.Locator{constructor(){super(...arguments),this.kind=o.PythonEnvKind.OtherGlobal}iterEnvs(){let e=!1;return(0,u.getOSType)()===u.OSType.OSX&&(0,i.gte)(n.release(),"21.0.0")&&(e=!0),async function*(t){const r=(await(0,a.commonPosixBinPaths)()).filter((e=>!(0,c.isPyenvShimDir)(e)));let n=await(0,a.getPythonBinFromPosixPaths)(r);e&&(n=n.filter((e=>!(0,l.isMacDefaultPythonPath)(e))));for(const e of n)try{yield{executablePath:e,kind:t,source:[o.PythonEnvSource.PathEnvVar]}}catch(t){(0,h.traceError)(`Failed to process environment: ${e}`,t)}}(this.kind)}}t.PosixKnownPathsLocator=p},41770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PyenvLocator=void 0;const n=r(45878),i=r(65349),o=r(29616),s=r(37769),a=r(77826),c=r(19735);class u extends i.FSWatchingLocator{constructor(){super(a.getPyenvVersionsDir,(async()=>n.PythonEnvKind.Pyenv))}doIterEnvs(){return async function*(){const e=(0,a.getPyenvVersionsDir)(),t=(0,s.getSubDirs)(e,{resolveSymlinks:!0});for await(const e of t){const t=await(0,o.getInterpreterPathFromDir)(e);if(t)try{yield{kind:n.PythonEnvKind.Pyenv,executablePath:t}}catch(e){(0,c.traceError)(`Failed to process environment: ${t}`,e)}}}()}}t.PyenvLocator=u},44644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsPathEnvVarLocator=void 0;const n=r(47237),i=r(81837),o=r(29616),s=r(77826),a=r(38327),c=r(45878),u=r(2839),l=r(69270),h=r(3649);async function*p(e){for await(const t of(0,o.iterPythonExecutablesInDir)(e))await(0,o.looksLikeBasicGlobalPython)(t)&&(yield t.filename)}t.WindowsPathEnvVarLocator=class{constructor(){this.disposables=new i.Disposables;const e=(0,n.getSearchPathEntries)().filter((e=>!(0,a.isWindowsStoreDir)(e)&&!(0,s.isPyenvShimDir)(e))).map((e=>function(e,t,r){const n=new h.DirFilesLocator(e,t,p,r);return{iterEnvs:async function*(e){yield*await(0,l.getEnvs)(n.iterEnvs(e))},dispose:async()=>{},onChanged:n.onChanged}}(e,c.PythonEnvKind.System,[c.PythonEnvSource.PathEnvVar])));this.disposables.push(...e),this.locators=new u.Locators(e),this.onChanged=this.locators.onChanged}async dispose(){this.locators.dispose(),await this.disposables.dispose()}iterEnvs(e){return this.locators.iterEnvs(e)}}},5613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsRegistryLocator=void 0;const n=r(45878),i=r(44538),o=r(38366),s=r(19735);class a extends i.Locator{iterEnvs(){return async function*(){const e=await(0,o.getRegistryInterpreters)();for(const t of e)try{const e={kind:n.PythonEnvKind.OtherGlobal,executablePath:t.interpreterPath,source:[n.PythonEnvSource.WindowsRegistry]};yield e}catch(e){(0,s.traceError)(`Failed to process environment: ${t}`,e)}}()}}t.WindowsRegistryLocator=a},19555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsStoreLocator=t.getWindowsStorePythonExes=void 0;const n=r(55674),i=r(91171),o=r(71017),s=r(45878),a=r(65349),c=r(53476),u=r(38327),l="python3.{[0-9],[0-9][0-9]}.exe";function h(e){return i(o.basename(e),l,{nocase:!0})}async function p(){if(await(0,u.isStorePythonInstalled)()){const e=(0,u.getWindowsStoreAppsRoot)();return(await n.readdir(e)).map((t=>o.join(e,t))).filter(h)}return[]}t.getWindowsStorePythonExes=p;class d extends a.FSWatchingLocator{constructor(){super(u.getWindowsStoreAppsRoot,(async()=>this.kind),{baseGlob:l,searchLocation:(0,u.getWindowsStoreAppsRoot)(),envStructure:c.PythonEnvStructure.Flat}),this.kind=s.PythonEnvKind.WindowsStore}doIterEnvs(){return async function*(e){const t=await p();yield*t.map((async t=>({kind:e,executablePath:t})))}(this.kind)}}t.WindowsStoreLocator=d},3143:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceVirtualEnvironmentLocator=void 0;const n=r(71017),i=r(59314),o=r(29616),s=r(37769),a=r(37924),c=r(64715),u=r(45878),l=r(65349);r(32727);const h=r(99910),p=r(19735);function d(e){return(0,h.asyncFilter)([e,n.join(e,".direnv")],s.pathExists)}async function f(e){return await(0,a.isPipenvEnvironment)(e)?u.PythonEnvKind.Pipenv:await(0,c.isVenvEnvironment)(e)?u.PythonEnvKind.Venv:await(0,c.isVirtualenvEnvironment)(e)?u.PythonEnvKind.VirtualEnv:u.PythonEnvKind.Unknown}class v extends l.FSWatchingLocator{constructor(e){super((()=>d(this.root)),f,{delayOnCreated:1e3},l.FSWatcherKind.Workspace),this.root=e}doIterEnvs(){return async function*(e){const t=(await d(e)).map((e=>async function*(){(0,p.traceVerbose)(`Searching for workspace virtual envs in: ${e}`);const t=(0,o.findInterpretersInDir)(e,2);for await(const e of t){const{filename:t}=e;if(await(0,o.looksLikeBasicVirtualPython)(e)){const e=await f(t);yield{kind:e,executablePath:t},(0,p.traceVerbose)(`Workspace Virtual Environment: [added] ${t}`)}else(0,p.traceVerbose)(`Workspace Virtual Environment: [skipped] ${t}`)}}()));yield*(0,i.iterable)((0,i.chain)(t))}(this.root)}}t.WorkspaceVirtualEnvironmentLocator=v},14424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceLocators=t.ExtensionLocators=void 0;const n=r(59314),i=r(3481),o=r(81837),s=r(2839),a=r(77882);class c extends s.Locators{constructor(e,t){super([...e,t]),this.nonWorkspace=e,this.workspace=t}iterEnvs(e){var t;const r=[this.workspace.iterEnvs(e)];return(null===(t=null==e?void 0:e.searchLocations)||void 0===t?void 0:t.doNotIncludeNonRooted)||r.push(...this.nonWorkspace.map((t=>t.iterEnvs(e)))),(0,s.combineIterators)(r)}}t.ExtensionLocators=c;class u extends a.LazyResourceBasedLocator{constructor(e,t){super(),this.watchRoots=e,this.factories=t,this.locators={},this.roots={}}async dispose(){await super.dispose(),Object.keys(this.roots).map((e=>this.roots[e])).forEach((e=>this.removeRoot(e)))}doIterEnvs(e){const t=Object.keys(this.locators).map((t=>{if(void 0!==(null==e?void 0:e.searchLocations)){const r=this.roots[t],o=(0,i.getURIFilter)(r,{checkParent:!0,checkChild:!0});if(!e.searchLocations.roots.some(o))return(0,n.iterEmpty)()}const[r]=this.locators[t];return r.iterEnvs(e)}));return(0,s.combineIterators)(t)}async initResources(){const e=this.watchRoots({initRoot:e=>this.addRoot(e),addRoot:e=>{this.removeRoot(e),this.addRoot(e),this.emitter.fire({searchLocation:e})},removeRoot:e=>{this.removeRoot(e),this.emitter.fire({searchLocation:e})}});this.disposables.push(e)}addRoot(e){const t=[],r=new o.Disposables;this.factories.forEach((n=>{n(e).forEach((e=>{t.push(e),void 0!==e.dispose&&r.push(e)}))}));const n=new s.Locators(t),i=e.toString();this.locators[i]=[n,r],this.roots[i]=e,r.push(n.onChanged((t=>{void 0===t.searchLocation&&(t.searchLocation=e),this.emitter.fire(t)})))}removeRoot(e){const t=e.toString(),r=this.locators[t];if(void 0===r)return;const[,n]=r;delete this.locators[t],delete this.roots[t],n.dispose()}}t.WorkspaceLocators=u},34354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsWatcher=void 0;const n=r(66828);t.PythonEnvsWatcher=class{constructor(){this.didChange=new n.EventEmitter,this.onChanged=this.didChange.event}fire(e){this.didChange.fire(e)}}},38514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsWatchers=void 0;const n=r(81837),i=r(34354);t.PythonEnvsWatchers=class{constructor(e){this.watcher=new i.PythonEnvsWatcher,this.disposables=new n.Disposables,this.onChanged=this.watcher.onChanged,e.forEach((e=>{const t=e.onChanged((e=>this.watcher.fire(e)));this.disposables.push(t)}))}dispose(){this.disposables.dispose().ignoreErrors()}}},29616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentDirFromPath=t.getInterpreterPathFromDir=t.looksLikeBasicVirtualPython=t.looksLikeBasicGlobalPython=t.getPythonVersionFromPath=t.iterPythonExecutablesInDir=t.findInterpretersInDir=t.isPythonExecutable=void 0;const n=r(57147),i=r(71017),o=r(56091),s=r(87450),a=r(19735),c=r(45878),u=r(44773),l=r(95084),h=r(75470),p=r(64715),d=r(37769),f=r(72927),v=r(38366),y=(0,s.getOSType)()===s.OSType.Windows?v.matchPythonBinFilename:f.matchPythonBinFilename;async function*m(e,t,r,n=!0){const i=(0,s.getOSType)()===s.OSType.Windows?v.matchPythonBinFilename:f.matchPythonBinFilename,a={ignoreErrors:n,filterSubDir:r,filterFile:i,maxDepth:t||0};for await(const t of g(e,1,a)){const{filename:e,filetype:r}=t;r!==o.FileType.File&&r!==o.FileType.SymbolicLink||_(e,i,n)&&(yield t)}}async function*g(e,t,r){const n=await b(e,r);for(const e of n){yield e;const{filename:n,filetype:i}=e;i===o.FileType.Directory&&(r.maxDepth<0||t<=r.maxDepth)&&_(n,r.filterSubDir,r.ignoreErrors)&&(yield*g(n,t+1,r))}}async function b(e,t={ignoreErrors:!0}){const r=t.ignoreErrors||!1;if(t.filterFilename&&(0,s.getOSType)()===s.OSType.Windows){let s;try{s=await n.promises.readdir(e)}catch(t){if("ENOENT"===t.code)return[];if(r)return(0,a.traceError)(`readdir() failed for "${e}" (${t})`),[];throw t}const c=s.map((t=>i.join(e,t))).filter((e=>_(e,t.filterFilename,r)));return Promise.all(c.map((async e=>({filename:e,filetype:await(0,o.getFileType)(e,t)||o.FileType.Unknown}))))}let c;try{c=await n.promises.readdir(e,{withFileTypes:!0})}catch(t){if("ENOENT"===t.code)return[];if(r)return(0,a.traceError)(`readdir() failed for "${e}" (${t})`),[];throw t}const u=c.map((t=>({filename:i.join(e,t.name),filetype:(0,o.convertFileType)(t)})));return t.filterFilename?u.filter((e=>_(e.filename,t.filterFilename,r))):u}function _(e,t,r=!0){if(void 0===t)return!0;try{return t(e)}catch(t){if(r)return(0,a.traceError)(`filter failed for "${e}" (${t})`),!1;throw t}}async function E(e,t){return!(!(t.matchFilename||y)("string"==typeof e?e:e.filename)||t.filterFile&&!await t.filterFile(e))}t.isPythonExecutable=async function(e){return!(!y(e)||(0,s.getOSType)()!==s.OSType.Windows)||!!await(0,d.isFile)(e)},t.findInterpretersInDir=m,t.iterPythonExecutablesInDir=async function*(e,t={ignoreErrors:!0}){const r={...t,filterFile:y},n=await b(e,r);for(const e of n){const{filetype:t}=e;t!==o.FileType.File&&t!==o.FileType.SymbolicLink||(yield e)}},t.getPythonVersionFromPath=async function(e,t){let r;try{r=t?(0,l.parseVersion)(t):c.UNKNOWN_PYTHON_VERSION}catch(e){r=c.UNKNOWN_PYTHON_VERSION}const n=e?await async function(e){const t=i.dirname(e);let r=c.UNKNOWN_PYTHON_VERSION;for await(const e of m(t)){const{filename:t}=e;try{const e=(0,l.parseVersion)(i.basename(t));(0,u.comparePythonVersionSpecificity)(e,r)>0&&(r=e)}catch(e){}}return r}(e):c.UNKNOWN_PYTHON_VERSION,o=e?await(0,p.getPythonVersionFromPyvenvCfg)(e):c.UNKNOWN_PYTHON_VERSION,s=e?await(0,h.getPythonVersionFromConda)(e):c.UNKNOWN_PYTHON_VERSION;let a=c.UNKNOWN_PYTHON_VERSION;for(const e of[r,n,o,s])a=(0,u.comparePythonVersionSpecificity)(a,e)>0?a:e;return a};const S=(0,o.getFileFilter)({ignoreFileType:o.FileType.SymbolicLink});async function w(e){return E(e,{matchFilename:(0,s.getOSType)()===s.OSType.Windows?v.matchBasicPythonBinFilename:f.matchBasicPythonBinFilename,filterFile:S})}async function T(e){return E(e,{matchFilename:(0,s.getOSType)()===s.OSType.Windows?v.matchBasicPythonBinFilename:f.matchBasicPythonBinFilename,filterFile:void 0})}t.looksLikeBasicGlobalPython=w,t.looksLikeBasicVirtualPython=T,t.getInterpreterPathFromDir=async function(e,t={}){const r=t.global?w:T,n=m(e,2,(function(e){const t=i.basename(e).toLowerCase();return["bin","scripts"].includes(t)}),t.ignoreErrors);for await(const e of n)if(await r(e))return e.filename},t.getEnvironmentDirFromPath=function(e){const t=i.basename(i.dirname(e));return["bin","scripts"].map((e=>(0,d.normCasePath)(e))).includes((0,d.normCasePath)(t))?i.dirname(i.dirname(e)):i.dirname(e)}},13367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identifyEnvironment=void 0;const n=r(19735),i=r(45878),o=r(24563),s=r(75470),a=r(89235),c=r(37924),u=r(13298),l=r(77826),h=r(64715),p=r(38327);t.identifyEnvironment=async function(e){const t=function(){const e=()=>Promise.resolve(!1),t=new Map;return Object.values(i.PythonEnvKind).forEach((r=>{t.set(r,e)})),t.set(i.PythonEnvKind.Conda,s.isCondaEnvironment),t.set(i.PythonEnvKind.WindowsStore,p.isWindowsStoreEnvironment),t.set(i.PythonEnvKind.Pipenv,c.isPipenvEnvironment),t.set(i.PythonEnvKind.Pyenv,l.isPyenvEnvironment),t.set(i.PythonEnvKind.Poetry,u.isPoetryEnvironment),t.set(i.PythonEnvKind.Venv,h.isVenvEnvironment),t.set(i.PythonEnvKind.VirtualEnvWrapper,h.isVirtualenvwrapperEnvironment),t.set(i.PythonEnvKind.VirtualEnv,h.isVirtualenvEnvironment),t.set(i.PythonEnvKind.Unknown,(()=>Promise.resolve(!0))),t.set(i.PythonEnvKind.OtherGlobal,a.isGloballyInstalledEnv),t}(),r=(0,o.getPrioritizedEnvKinds)();for(const i of r){const r=t.get(i);if(r&&await r(e).catch((t=>((0,n.traceWarn)(`Identifier for ${i} failed to identify ${e}`,t),!1))))return i}return i.PythonEnvKind.Unknown}},75470:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Conda=t.CONDA_ACTIVATION_TIMEOUT=t.CONDA_RUN_VERSION=t.getPythonVersionFromConda=t.isCondaEnvironment=t.getCondaMetaPaths=t.parseCondaInfo=t.CONDAPATH_SETTING_KEY=t.AnacondaCompanyName=void 0;const i=r(55674),o=r(71017),s=r(36625),a=r(87450),c=r(37769),u=r(45878),l=r(95084),h=r(38366),p=r(81387),d=r(36952),f=r(77570),v=r(19735),y=r(4057),m=r(24708),g=r(93400);function b(e){const t="conda-meta";return[o.join(o.dirname(e),t),o.join(o.dirname(o.dirname(e)),t),o.join(e,t)]}t.AnacondaCompanyName="Anaconda, Inc.",t.CONDAPATH_SETTING_KEY="condaPath",t.parseCondaInfo=async function(e,r,n,i){const o=Array.isArray(e.envs)?e.envs:[];e.default_prefix&&e.default_prefix.length>0&&o.push(e.default_prefix);const s=o.map((async e=>{const o=r(e);if(!await n(o))return;const s=await i(o);return s?{...s,path:o,companyDisplayName:t.AnacondaCompanyName,envType:p.EnvironmentType.Conda,envPath:e}:void 0}));return Promise.all(s).then((e=>e.filter((e=>null!=e)))).then((e=>e.map((e=>e))))},t.getCondaMetaPaths=b,t.isCondaEnvironment=async function(e){const t=b(e);for(const e of t)if(await(0,c.pathExists)(e))return!0;return!1},t.getPythonVersionFromConda=async function(e){const t=b(e).map((e=>o.join(e,"history"))),r=/\:python-(([\d\.a-z]?)+)/;for(const e of t)if(await(0,c.pathExists)(e))try{const t=(await(0,c.readFile)(e)).splitLines().map((e=>{const t=r.exec(e);return t?t[1]:""})).filter((e=>e.length>0));if(t.length>0){const e=t.length-1;return(0,l.parseVersion)(t[e].trim())}}catch(e){return u.UNKNOWN_PYTHON_VERSION}return u.UNKNOWN_PYTHON_VERSION},t.CONDA_RUN_VERSION="4.9.0",t.CONDA_ACTIVATION_TIMEOUT=45e3;class _{constructor(e,r){this.command=e,this.shellCommand=null!=r?r:e,(0,c.onDidChangePythonSetting)(t.CONDAPATH_SETTING_KEY,(()=>{_.condaPromise=void 0}))}static async getConda(){return(void 0===_.condaPromise||(0,f.isTestExecution)())&&(_.condaPromise=_.locate()),_.condaPromise}static async locate(){(0,v.traceVerbose)("Searching for conda.");const e=(0,a.getUserHomeDir)(),r=(0,c.getPythonSetting)(t.CONDAPATH_SETTING_KEY),n=(0,a.getOSType)()===a.OSType.Windows?"Scripts\\conda.exe":"bin/conda";async function s(e){const t=o.dirname(e),r=o.join(t,"..","condabin","conda.bat");if(await(0,c.pathExists)(r))return r}for await(const t of async function*(){r&&"conda"!==r&&(yield r),yield"conda",(0,a.getOSType)()===a.OSType.Windows&&(yield*async function*(){const e=(await(0,h.getRegistryInterpreters)()).filter((e=>e.interpreterPath&&"ContinuumAnalytics"===e.distroOrgName)).map((e=>o.join(o.win32.dirname(e.interpreterPath),n)));yield*e}()),yield*async function*(){const t=[];if((0,a.getOSType)()===a.OSType.Windows){const r=(0,a.getEnvironmentVariable)("PROGRAMDATA")||"C:\\ProgramData";if(t.push(r),e){const r=(0,a.getEnvironmentVariable)("LOCALAPPDATA")||o.join(e,"AppData","Local");t.push(e,o.join(r,"Continuum"))}}else t.push("/usr/share","/usr/local/share","/opt"),e&&t.push(e,o.join(e,"opt"));for(const e of t){let t;try{t=await i.readdir(e)}catch(e){t=void 0}void 0!==t&&(yield*t.filter((e=>e.toLowerCase().includes("conda"))).map((t=>o.join(e,t,n))))}}(),yield*async function*(){if(!e)return;let t;try{t=await i.readFile(o.join(e,".conda","environments.txt"),"utf8")}catch(e){t=""}yield*t.split(/\r?\n/g).map((e=>e.trim())).filter((e=>""!==e&&!e.startsWith("#"))).map((e=>o.join(e,n)))}()}()){(0,v.traceVerbose)(`Probing conda binary: ${t}`);let e=new _(t);try{if(await e.getInfo(),(0,a.getOSType)()===a.OSType.Windows&&((0,f.isTestExecution)()||t!==r)){const r=await s(t);try{if(r){const n=new _(r);await n.getInfo(),e=new _(t,r)}}catch(e){(0,v.traceVerbose)("Failed to spawn conda bat file",r,e)}}return(0,v.traceVerbose)(`Found conda via filesystem probing: ${t}`),e}catch(e){(0,v.traceVerbose)("Failed to spawn conda binary",t,e)}}(0,v.traceVerbose)("Couldn't locate the conda binary.")}async getInfo(e){return e&&this.condaInfoCached||(this.condaInfoCached=this.getInfoImpl(this.command)),this.condaInfoCached}async getInfoImpl(e){const t=await(0,c.exec)(e,["info","--json"],{timeout:5e4});return(0,v.traceVerbose)(`conda info --json: ${t.stdout}`),JSON.parse(t.stdout)}async getEnvList(e){const t=await this.getInfo(e),{envs:r}=t;if(void 0===r)return[];function n(e){if(t.root_prefix&&(0,c.arePathsSame)(e,t.root_prefix))return"base";const r=o.dirname(e);if(void 0!==t.envs_dirs)for(const n of t.envs_dirs)if((0,c.arePathsSame)(r,n))return o.basename(e)}return r.map((e=>({prefix:e,name:n(e)})))}async getCondaEnvironment(e){const t=await this.getEnvList();return t.find((t=>(0,c.arePathsSame)(e,t.prefix)))||t.find((t=>(0,c.isParentPath)(e,t.prefix)))}async getInterpreterPathForEnvironment(e){return await async function(e){const t=(0,a.getOSType)()===a.OSType.Windows?"python.exe":o.join("bin","python"),r=o.join(e,t);if(await(0,c.pathExists)(r))return r}(e.prefix)||this.getInterpreterPathUsingCondaRun(e)}async getInterpreterPathUsingCondaRun(e){const r=await this.getRunPythonArgs(e);if(r)try{const e=(0,m.buildPythonExecInfo)(r);return(0,g.getExecutablePath)(e,c.shellExecute,t.CONDA_ACTIVATION_TIMEOUT)}catch(t){(0,v.traceError)(`Failed to process environment: ${JSON.stringify(e)}`,t)}}async getRunPythonArgs(e,r){const n=await this.getCondaVersion();if(n&&(0,s.lt)(n,t.CONDA_RUN_VERSION))return;const i=[];return e.name?i.push("-n",e.name):i.push("-p",e.prefix),[r?this.shellCommand:this.command,"run",...i,"--no-capture-output","--live-stream","python",y.OUTPUT_MARKER_SCRIPT]}async getCondaVersion(){const e=await this.getInfo(!0).catch((()=>{}));let t;if(e&&e.conda_version)t=e.conda_version;else{const e=await(0,c.exec)(this.command,["--version"],{timeout:5e4}).then((e=>e.stdout.trim())).catch((()=>{}));t=e&&e.startsWith("conda ")?e.substring("conda ".length).trim():e}if(!t)return;return(0,s.parse)(t,!0)||((0,v.traceError)(`Unable to parse version of Conda, ${t}`),new s.SemVer("0.0.1"))}async isCondaRunSupported(){const e=await this.getCondaVersion();return!e||!(0,s.lt)(e,t.CONDA_RUN_VERSION)}}n([(0,d.cache)(3e4,!0,1e4)],_.prototype,"getInfoImpl",null),n([(0,d.cache)(3e4,!0,1e4)],_.prototype,"getEnvList",null),n([(0,d.cache)(-1,!0)],_.prototype,"getInterpreterPathUsingCondaRun",null),n([(0,d.cache)(-1,!0)],_.prototype,"getCondaVersion",null),t.Conda=_},1132:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaService=void 0;const o=r(86700),s=r(71017),a=r(84974),c=r(36952),u=r(19735),l=r(75470);let h=class{constructor(e,t){this.platform=e,this.fileSystem=t}async getCondaFile(e){return l.Conda.getConda().then((t=>{const r=e?null==t?void 0:t.shellCommand:null==t?void 0:t.command;return null!=r?r:"conda"}))}async getInterpreterPathForEnvironment(e){const t=await l.Conda.getConda();return null==t?void 0:t.getInterpreterPathForEnvironment({name:e.name,prefix:e.path})}async isCondaAvailable(){return"boolean"==typeof this.isAvailable?this.isAvailable:this.getCondaVersion().then((e=>this.isAvailable=void 0!==e)).catch((()=>this.isAvailable=!1))}async getCondaVersion(){return l.Conda.getConda().then((e=>null==e?void 0:e.getCondaVersion()))}async getCondaFileFromInterpreter(e,t){const r=this.platform.isWindows?"conda.exe":"conda",n=this.platform.isWindows?"Scripts":"bin",i=e?s.dirname(e):"",o=t?i.indexOf(s.join("envs",t)):-1;if(o>0){const e=i.slice(0,o);let t=s.join(e,r);if(await this.fileSystem.fileExists(t))return t;if(t=s.join(e,n,r),await this.fileSystem.fileExists(t))return t}let a=s.join(i,r);return await this.fileSystem.fileExists(a)?a:(a=s.join(i,n,r),await this.fileSystem.fileExists(a)?a:this.getCondaFile())}async _getCondaInfo(){const e=await l.Conda.getConda();return null==e?void 0:e.getInfo()}};n([(0,u.traceDecoratorVerbose)("Get Conda File from interpreter"),(0,c.cache)(12e4)],h.prototype,"getCondaFileFromInterpreter",null),n([(0,c.cache)(6e4)],h.prototype,"_getCondaInfo",null),h=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IPlatformService)),i(1,(0,o.inject)(a.IFileSystem))],h),t.CondaService=h},89235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGloballyInstalledEnv=void 0;const n=r(47237),i=r(87450),o=r(37769),s=r(72927),a=r(77826);t.isGloballyInstalledEnv=async function(e){return async function(e){let t=[];t=(0,i.getOSType)()===i.OSType.Windows?(0,n.getSearchPathEntries)():await(0,s.commonPosixBinPaths)(),t=t.filter((e=>!(0,a.isPyenvShimDir)(e)));for(const r of t)if((0,o.isParentPath)(e,r))return!0;return!1}(e)}},37924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPipenvEnvironmentRelatedToFolder=t.isPipenvEnvironment=t._getAssociatedPipfile=void 0;const n=r(71017),i=r(87450),o=r(19735),s=r(37769);async function a(e,t){const r=(0,i.getEnvironmentVariable)("PIPENV_PIPFILE")||"Pipfile";let a=t.lookIntoParentDirectories?function(){const e=(0,i.getEnvironmentVariable)("PIPENV_MAX_DEPTH");if(void 0===e)return 3;const t=parseInt(e,10);return isNaN(t)?((0,o.traceError)(`PIPENV_MAX_DEPTH is incorrectly set. Converting value '${e}' to number results in NaN`),1):t}():1;for(;a>0&&!(0,s.arePathsSame)(e,n.dirname(e));){const t=n.join(e,r);if(await(0,s.pathExists)(t))return t;e=n.dirname(e),a-=1}}async function c(e){const t=n.dirname(n.dirname(e)),r=await async function(e){const t=n.join(e,".project");if(!await(0,s.pathExists)(t))return;const r=(await(0,s.readFile)(t)).trim();if(await(0,s.pathExists)(r))return r;(0,o.traceError)(`The .project file inside environment folder: ${e} doesn't contain a valid path to the project`)}(t);if(void 0!==r)return n.basename((0,s.normCasePath)(t)).startsWith(`${n.basename((0,s.normCasePath)(r))}-`)?a(r,{lookIntoParentDirectories:!1}):void 0}t._getAssociatedPipfile=a,t.isPipenvEnvironment=async function(e){return!!await async function(e){const t=n.dirname(n.dirname(e));if(".venv"===n.basename(t))return a(n.dirname(t),{lookIntoParentDirectories:!1})}(e)||!!await c(e)},t.isPipenvEnvironmentRelatedToFolder=async function(e,t){const r=await c(e);if(!r)return!1;const n=void 0===(0,i.getEnvironmentVariable)("PIPENV_NO_INHERIT"),o=await a(t,{lookIntoParentDirectories:n});return!!o&&(0,s.arePathsSame)(r,o)}},13298:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.isPoetryEnvironmentRelatedToFolder=t.Poetry=t.isPoetryEnvironment=t.localPoetryEnvDirName=void 0;const i=r(71017),o=r(87450),s=r(37769),a=r(29616),c=r(64715),u=r(70057),l=r(36952),h=r(77570),p=r(19735),d=/^(.+)-(.+)-py(\d).(\d){1,2}$/;t.localPoetryEnvDirName=".venv",t.isPoetryEnvironment=async function(e){return!!await async function(e){const t=(0,a.getEnvironmentDirFromPath)(e);return!!d.test(i.basename(t))&&(0,c.isVirtualenvEnvironment)(e)}(e)||!!await async function(e){const r=(0,a.getEnvironmentDirFromPath)(e);return i.basename(r)===t.localPoetryEnvDirName&&!!v(i.dirname(r))}(e)};class f{constructor(e,t){this.command=e,this.cwd=t,this.fixCwd()}static async getPoetry(e){if(v(e))return(void 0===f.poetryPromise.get(e)||(0,h.isTestExecution)())&&f.poetryPromise.set(e,f.locate(e)),f.poetryPromise.get(e)}static async locate(e){(0,p.traceVerbose)(`Getting poetry for cwd ${e}`);for(const t of function*(){const e=(0,s.getPythonSetting)("poetryPath");e&&"poetry"!==e&&(yield e),yield"poetry";const t=(0,o.getUserHomeDir)();if(t){const e=i.join(t,".poetry","bin","poetry");(0,s.pathExistsSync)(e)&&(yield e)}}()){(0,p.traceVerbose)(`Probing poetry binary for ${e}: ${t}`);const r=new f(t,e);if(void 0!==await r.getEnvList())return(0,p.traceVerbose)(`Found poetry via filesystem probing for ${e}: ${t}`),r;(0,p.traceVerbose)(`Failed to find poetry for ${e}: ${t}`)}(0,p.traceVerbose)(`No poetry binary found for ${e}`)}async getEnvList(){return this.getEnvListCached(this.cwd)}async getEnvListCached(e){const t=await this.safeShellExecute(`${this.command} env list --full-path`);if(!t)return;const r="(Activated)";return(await Promise.all(t.stdout.splitLines().map((async e=>{e.endsWith(r)&&(e=e.slice(0,-r.length));const t=e.trim();return await(0,s.pathExists)(t)?t:void 0})))).filter((e=>void 0!==e)).map((e=>e))}async getActiveEnvPath(){return this.getActiveEnvPathCached(this.cwd)}async getActiveEnvPathCached(e){const t=await this.safeShellExecute(`${this.command} env info -p`,!0);if(t)return t.stdout.trim()}async getVirtualenvsPathSetting(){const e=await this.safeShellExecute(`${this.command} config virtualenvs.path`);if(e)return e.stdout.trim()}fixCwd(){if((0,o.getOSType)()===o.OSType.Windows&&/^[a-z]:/.test(this.cwd)){const e=this.cwd.split(":");e[0]=e[0].toUpperCase(),this.cwd=e.join(":")}}async safeShellExecute(e,t=!1){const r=new u.StopWatch,n=await(0,s.shellExecute)(e,{cwd:this.cwd,throwOnStdErr:!0,timeout:5e4}).catch((e=>{t?(0,p.traceVerbose)(e):(0,p.traceError)(e)}));return(0,p.traceVerbose)(`Time taken to run ${e} in ms`,r.elapsedTime),n}}function v(e){const t=i.join(e,"pyproject.toml");return!!(0,s.pathExistsSync)(t)&&!!(0,s.readFileSync)(t).includes("[tool.poetry]")}f.poetryPromise=new Map,n([(0,l.cache)(3e4,!0,1e4)],f.prototype,"getEnvListCached",null),n([(0,l.cache)(2e4,!0,1e4)],f.prototype,"getActiveEnvPathCached",null),t.Poetry=f,t.isPoetryEnvironmentRelatedToFolder=async function(e,t,r){const n=r?new f(r,t):await f.getPoetry(t),i=await(null==n?void 0:n.getActiveEnvPath());return!!i&&(0,s.isParentPath)(e,i)}},77826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePyenvVersion=t.isPyenvEnvironment=t.isPyenvShimDir=t.getPyenvVersionsDir=t.getPyenvDir=void 0;const n=r(71017),i=r(87450),o=r(37769);function s(){var e;let t=null!==(e=(0,i.getEnvironmentVariable)("PYENV_ROOT"))&&void 0!==e?e:(0,i.getEnvironmentVariable)("PYENV");if(!t){const e=(0,i.getUserHomeDir)()||"";t=(0,i.getOSType)()===i.OSType.Windows?n.join(e,".pyenv","pyenv-win"):n.join(e,".pyenv")}return t}t.getPyenvDir=s,t.getPyenvVersionsDir=function(){return n.join(s(),"versions")},t.isPyenvShimDir=function(e){const t=n.join(s(),"shims");return(0,o.arePathsSame)(t,e)||(0,o.arePathsSame)(`${t}${n.sep}`,e)},t.isPyenvEnvironment=async function(e){const t=e,r=s();return!!await(0,o.pathExists)(r)&&(0,o.isParentPath)(t,r)},t.parsePyenvVersion=function(e){const t=function(){function e(e){return{pythonVer:e,distro:void 0,distroVer:void 0}}function t(e){const t=e.split("-");return 3===t.length?{pythonVer:void 0,distroVer:`${t[1]}-${t[2]}`,distro:t[0]}:2===t.length?{pythonVer:void 0,distroVer:t[1],distro:t[0]}:{pythonVer:void 0,distroVer:void 0,distro:e}}const r=new Map;return r.set("activepython",t),r.set("anaconda",t),r.set("graalpython",t),r.set("ironpython",t),r.set("jython",t),r.set("micropython",t),r.set("miniconda",t),r.set("miniforge",t),r.set("pypy",(function(e){const t=e.split("-"),r=t[0].search(/[0-9\.]+/)>0?t[0].substr("pypy".length):void 0;return 2===t.length?{pythonVer:r,distroVer:t[1],distro:"pypy"}:3===t.length&&(t[2].startsWith("src")||t[2].startsWith("beta")||t[2].startsWith("alpha")||t[2].startsWith("win64"))?{pythonVer:r,distroVer:`${t[1].startsWith("v")?t[1].substr(1):t[1]}-${t[2]}`,distro:"pypy"}:3===t.length&&"stm"===t[1]?{pythonVer:r,distroVer:t[2],distro:`${t[0]}-${t[1]}`}:4===t.length&&"c"===t[1]?{pythonVer:r,distroVer:t[3],distro:`pypy-${t[1]}-${t[2]}`}:4===t.length&&t[3].startsWith("src")?{pythonVer:r,distroVer:`${t[1]}-${t[2]}-${t[3]}`,distro:"pypy"}:{pythonVer:r,distroVer:void 0,distro:"pypy"}})),r.set("pyston",t),r.set("stackless",t),r.set("3",e),r.set("2",e),r}(),r=Array.from(t.keys()).filter((t=>e.startsWith(t))).map((e=>t.get(e))).filter((e=>void 0!==e));if(r.length>0&&r[0])return r[0](e)}},64715:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythonVersionFromPyvenvCfg=t.isVirtualenvwrapperEnvironment=t.isVirtualenvEnvironment=t.isVenvEnvironment=void 0;const n=r(55674),i=r(71017);r(32727);const o=r(87450),s=r(45878),a=r(44773),c=r(95084),u=r(37769);function l(e){const t="pyvenv.cfg";return[i.join(i.dirname(i.dirname(e)),t),i.join(i.dirname(e),t)]}async function h(e){const t=i.dirname(e),r=await n.readdir(t),o=/^activate(\.([A-z]|\d)+)?$/i;return void 0!==r.find((e=>o.test(e)))}function p(e){let t,r;try{[t,r]=(0,c.parseBasicVersion)(e)}catch(e){return s.UNKNOWN_PYTHON_VERSION}return-1!==t.micro&&r.startsWith(".")&&([t.release]=(0,c.parseRelease)(r)),t}t.isVenvEnvironment=async function(e){const t=l(e);for(const e of t)if(await(0,u.pathExists)(e))return!0;return!1},t.isVirtualenvEnvironment=h,t.isVirtualenvwrapperEnvironment=async function(e){const t=await function(){const e=(0,o.getEnvironmentVariable)("WORKON_HOME");return e?Promise.resolve(e):async function(){const e=(0,o.getUserHomeDir)()||"";if((0,o.getOSType)()===o.OSType.Windows){const t=i.join(e,"Envs");if(await(0,u.pathExists)(t))return t}return i.join(e,".virtualenvs")}()}();return await(0,u.pathExists)(t)&&(0,u.isParentPath)(e,t)&&h(e)},t.getPythonVersionFromPyvenvCfg=async function(e){const t=l(e);let r=s.UNKNOWN_PYTHON_VERSION;for(const e of t)if(await(0,u.pathExists)(e))try{const t=(await(0,u.readFile)(e)).splitLines().map((e=>{const t=e.split("=");if(2===t.length){const e=t[0].toLowerCase().trim(),r=t[1].trim();if("version"===e)try{return(0,c.parseVersion)(r)}catch(e){return}else if("version_info"===e)try{return p(r)}catch(e){return}}})).filter((e=>void 0!==e)).map((e=>e));if(t.length>0)for(const e of t)(0,a.comparePythonVersionSpecificity)(e,r)>0&&(r=e)}catch(e){return s.UNKNOWN_PYTHON_VERSION}return r}},38327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindowsStoreEnvironment=t.isStorePythonInstalled=t.isWindowsStoreDir=t.getWindowsStoreAppsRoot=void 0;const n=r(71017),i=r(87450),o=r(19735),s=r(37769);function a(){const e=(0,i.getEnvironmentVariable)("LOCALAPPDATA")||"";return n.join(e,"Microsoft","WindowsApps")}function c(e){const t=n.join((0,i.getEnvironmentVariable)("ProgramFiles")||"Program Files","WindowsApps").normalize().toUpperCase();return n.normalize(e).toUpperCase().includes(t)}async function u(e){let t=await Promise.all([(0,s.pathExists)(n.join(a(),"idle.exe")),(0,s.pathExists)(n.join(a(),"pip.exe"))]);return!!t.includes(!0)||!!e&&(t=await Promise.all([(0,s.pathExists)(n.join(n.dirname(e),"idle.exe")),(0,s.pathExists)(n.join(n.dirname(e),"pip.exe"))]),t.includes(!0))}t.getWindowsStoreAppsRoot=a,t.isWindowsStoreDir=function(e){const t=n.normalize(a()).toUpperCase();return n.normalize(e).toUpperCase().includes(t)||c(e)},t.isStorePythonInstalled=u,t.isWindowsStoreEnvironment=async function(e){if(await u(e)){const t=n.normalize(e).toUpperCase(),r=n.normalize(a()).toUpperCase();if(t.includes(r))return!0;if(c(t))return(0,o.traceWarn)("isWindowsStoreEnvironment called with Program Files store path."),!0}return!1}},37769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onDidChangePythonSetting=t.getPythonSetting=t.getSubDirs=t.isFile=t.resolveSymbolicLink=t.getWorkspaceFolders=t.arePathsSame=t.normCasePath=t.resolvePath=t.normalizePath=t.isDirectory=t.isParentPath=t.untildify=t.readFileSync=t.readFile=t.pathExistsSync=t.pathExists=t.exec=t.shellExecute=t.initializeExternalDependencies=void 0;const n=r(55674),i=r(71017),o=r(66828),s=r(29983),a=r(61684),c=r(59314),u=r(87450);let l;function h(e){return(0,u.getOSType)()===u.OSType.Windows?i.normalize(e).toUpperCase():i.normalize(e)}async function p(e,t){if((t=null!=t?t:await n.lstat(e)).isSymbolicLink()){const t=await n.readlink(e);return p(i.isAbsolute(t)?t:i.resolve(i.dirname(e),t))}return e}t.initializeExternalDependencies=function(e){l=e},t.shellExecute=async function(e,t={}){return(await l.get(s.IProcessServiceFactory).create()).shellExec(e,t)},t.exec=async function(e,t,r={}){return(await l.get(s.IProcessServiceFactory).create()).exec(e,t,r)},t.pathExists=function(e){return n.pathExists(e)},t.pathExistsSync=function(e){return n.pathExistsSync(e)},t.readFile=function(e){return n.readFile(e,"utf-8")},t.readFileSync=function(e){return n.readFileSync(e,"utf-8")},t.untildify=r(58967),t.isParentPath=function(e,t){return t.endsWith(i.sep)||(t+=i.sep),e.endsWith(i.sep)||(e+=i.sep),h(e).startsWith(h(t))},t.isDirectory=async function(e){return(await n.lstat(e)).isDirectory()},t.normalizePath=function(e){return i.normalize(e)},t.resolvePath=function(e){return i.resolve(e)},t.normCasePath=h,t.arePathsSame=function(e,t){return h(e)===h(t)},t.getWorkspaceFolders=function(){var e,t;return null!==(t=null===(e=o.workspace.workspaceFolders)||void 0===e?void 0:e.map((e=>e.uri.fsPath)))&&void 0!==t?t:[]},t.resolveSymbolicLink=p,t.isFile=async function(e){const t=await n.lstat(e);if(t.isSymbolicLink()){const r=await p(e,t);return(await n.lstat(r)).isFile()}return t.isFile()},t.getSubDirs=async function*(e,t){const r=(await n.promises.readdir(e,{withFileTypes:!0})).map((r=>async function*(){const o=i.join(e,r.name);if(r.isDirectory())yield o;else if((null==t?void 0:t.resolveSymlinks)&&r.isSymbolicLink()){const e=await p(o);(await n.lstat(e)).isDirectory()&&(yield e)}}()));yield*(0,c.iterable)((0,c.chain)(r))},t.getPythonSetting=function(e){return l.get(a.IConfigurationService).getSettings()[e]},t.onDidChangePythonSetting=function(e,t){return o.workspace.onDidChangeConfiguration((r=>{r.affectsConfiguration(`python.${e}`)&&t()}))}},72927:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythonBinFromPosixPaths=t.commonPosixBinPaths=t.matchPythonBinFilename=t.matchBasicPythonBinFilename=void 0;const n=r(57147),i=r(55674),o=r(71017),s=r(96486),a=r(47237),c=r(37769),u=r(19735);function l(e){return/^python(\d+(\.\d+)?)?$/.test(o.basename(e))}async function h(e){return(await n.promises.readdir(e,{withFileTypes:!0})).filter((e=>!e.isDirectory())).map((t=>o.join(e,t.name))).filter(l)}t.matchBasicPythonBinFilename=function(e){return"python"===o.basename(e)},t.matchPythonBinFilename=l,t.commonPosixBinPaths=async function(){const e=(0,a.getSearchPathEntries)(),t=Array.from(new Set(["/bin","/etc","/lib","/lib/x86_64-linux-gnu","/lib64","/sbin","/snap/bin","/usr/bin","/usr/games","/usr/include","/usr/lib","/usr/lib/x86_64-linux-gnu","/usr/lib64","/usr/libexec","/usr/local","/usr/local/bin","/usr/local/etc","/usr/local/games","/usr/local/lib","/usr/local/sbin","/usr/sbin","/usr/share","~/.local/bin"].concat(e))),r=await Promise.all(t.map((e=>i.pathExists(e))));return t.filter(((e,t)=>r[t]))},t.getPythonBinFromPosixPaths=async function(e){var t;const r=new Map;for(const n of e){const e=await h(n);for(const n of e)try{const e=await(0,c.resolveSymbolicLink)(n);r.has(e)?null===(t=r.get(e))||void 0===t||t.push(n):r.set(e,[n]),(0,u.traceInfo)(`Found: ${n} --\x3e ${e}`)}catch(e){(0,u.traceError)("Failed to resolve symbolic link: ",e)}}const n=Array.from(r.keys()).map((e=>{var t;return function(e){let t=e[0].length,r=e[0];for(const n of e)n.length<=t&&(t=n.length,r=n);return r}([e,...null!==(t=r.get(e))&&void 0!==t?t:[]])}));return(0,s.uniq)(n)}},53476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePythonExeGlobs=t.PythonEnvStructure=t.watchLocationForPythonBinaries=void 0;const n=r(91171),i=r(71017),o=r(88409),s=r(87450),a=r(19735),[c,u]=(0,s.getOSType)()===s.OSType.Windows?["python.exe","Scripts"]:["python","bin"];var l;t.watchLocationForPythonBinaries=function(e,t,r=c){const u=i.posix.normalize(r),[l]=u.split("/").slice(-1);return(0,o.watchLocationForPattern)(e,u,(function(e,r){(0,a.traceVerbose)("Received event",e,JSON.stringify(r),"for baseglob",l),n(i.basename(r),l,{nocase:(0,s.getOSType)()===s.OSType.Windows})&&t(e,r)}))},function(e){e.Standard="standard",e.Flat="flat"}(l=t.PythonEnvStructure||(t.PythonEnvStructure={})),t.resolvePythonExeGlobs=function(e=c,t=l.Standard){if(i.posix.normalize(e).includes("/"))throw Error(`invalid basename glob "${e}"`);const r=[];return t===l.Standard?r.push(e,`*/${e}`,`*/${u}/${e}`):t===l.Flat&&r.push(e),r}},91057:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readRegistryKeys=t.readRegistryValues=t.REG_SZ=t.HKLM=t.HKCU=void 0;const n=r(1283);Object.defineProperty(t,"HKCU",{enumerable:!0,get:function(){return n.HKCU}}),Object.defineProperty(t,"HKLM",{enumerable:!0,get:function(){return n.HKLM}}),Object.defineProperty(t,"REG_SZ",{enumerable:!0,get:function(){return n.REG_SZ}});const i=r(59314);t.readRegistryValues=async function(e){const t=new(r(1283))(e),n=(0,i.createDeferred)();return t.values(((e,t)=>{e&&n.reject(e),n.resolve(t)})),n.promise},t.readRegistryKeys=async function(e){const t=new(r(1283))(e),n=(0,i.createDeferred)();return t.keys(((e,t)=>{e&&n.reject(e),n.resolve(t)})),n.promise}},38366:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRegistryInterpreters=t.getRegistryInterpretersSync=t.getInterpreterDataFromRegistry=t.matchPythonBinFilename=t.matchBasicPythonBinFilename=void 0;const n=r(96486),i=r(71017),o=r(77570),s=r(19735),a=r(91057);async function c(e,t,r){const n=await(0,a.readRegistryKeys)({arch:e,hive:t,key:r}),i=r.substr(r.lastIndexOf("\\")+1),o=await Promise.all(n.map((e=>async function({arch:e,hive:t,key:r},n){const i={interpreterPath:"",distroOrgName:n},o=await(0,a.readRegistryValues)({arch:e,hive:t,key:r});for(const e of o)switch(e.name){case"SysArchitecture":i.bitnessStr=e.value;break;case"SysVersion":i.sysVersionStr=e.value;break;case"Version":i.versionStr=e.value;break;case"DisplayName":i.companyDisplayName=e.value}const c=(await(0,a.readRegistryKeys)({arch:e,hive:t,key:r})).map((e=>e.key)).find((e=>e.endsWith("InstallPath")));if(c){const r=(await(0,a.readRegistryValues)({arch:e,hive:t,key:c})).find((e=>"ExecutablePath"===e.name));r&&(i.interpreterPath=r.value,r.type!==a.REG_SZ&&(0,s.traceVerbose)(`Registry interpreter path type [${r.type}]: ${r.value}`))}if(i.interpreterPath.length>0)return i}(e,i))));return o.filter((e=>void 0!==e))||[]}let u,l;t.matchBasicPythonBinFilename=function(e){return"python.exe"===i.basename(e).toLowerCase()},t.matchPythonBinFilename=function(e){return/^python(\d+(.\d+)?)?\.exe$/.test(i.basename(e))},t.getInterpreterDataFromRegistry=c,t.getRegistryInterpretersSync=function(){return(0,o.isTestExecution)()?void 0:u},t.getRegistryInterpreters=async function(){return(0,o.isTestExecution)()||void 0===l?(l=async function(){let e=[];for(const t of["x64","x86"])for(const r of[a.HKLM,a.HKCU]){const n="\\SOFTWARE\\Python";let i=[];try{i=(await(0,a.readRegistryKeys)({arch:t,hive:r,key:n})).map((e=>e.key))}catch(e){(0,s.traceError)(`Failed to access Registry: ${t}\\${r}\\${n}`,e)}for(const n of i)e=e.concat(await c(t,r,n))}return u=(0,n.uniqBy)(e,(e=>e.interpreterPath)),u}(),l):l}},24708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPythonExecInfo=t.buildPythonExecInfo=void 0,t.buildPythonExecInfo=function(e,t,r){if(Array.isArray(e)){const n=e.slice(1);return t&&n.push(...t),{args:n,command:e[0],python:[...e],pythonExecutable:null!=r?r:e[e.length-1]}}return{command:e,args:t||[],python:[e],pythonExecutable:e}},t.copyPythonExecInfo=function(e,t){const r={command:e.command,args:[...e.args],python:[...e.python],pythonExecutable:e.pythonExecutable};return t&&r.args.push(...t),void 0===r.pythonExecutable&&(r.pythonExecutable=r.python[r.python.length-1]),r}},29817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activate=t.initialize=void 0;const n=r(66828),i=r(73766),o=r(87450),s=r(30752),a=r(27736),c=r(44644),u=r(3143),l=r(37769),h=r(14424),p=r(82399),d=r(74437),f=r(93235),v=r(43160),y=r(41770),m=r(5613),g=r(19555),b=r(67931),_=r(22544),E=r(68624),S=r(11069),w=r(97954),T=r(17021);function P(e){const{initRoot:t,addRoot:r,removeRoot:i}=e,o=n.workspace.workspaceFolders;return o&&o.map((e=>e.uri)).forEach(t),n.workspace.onDidChangeWorkspaceFolders((e=>{for(const t of e.removed)i(t.uri);for(const t of e.added)r(t.uri)}))}t.initialize=async function(e){const t=await(0,S.createPythonEnvironments)((()=>async function(e){let t=new h.ExtensionLocators(function(e){const t=[];t.push(new y.PyenvLocator,new d.CondaEnvironmentLocator,new f.GlobalVirtualEnvironmentLocator,new p.CustomVirtualEnvironmentLocator),(0,o.getOSType)()===o.OSType.Windows?t.push(new m.WindowsRegistryLocator,new g.WindowsStoreLocator,new c.WindowsPathEnvVarLocator):t.push(new v.PosixKnownPathsLocator);const r=t.filter((e=>void 0!==e.dispose));return e.disposables.push(...r),t}(e),function(e){const t=new h.WorkspaceLocators(P,[e=>[new u.WorkspaceVirtualEnvironmentLocator(e.fsPath),new E.PoetryLocator(e.fsPath)]]);return e.disposables.push(t),t}(e));const r=(0,b.getEnvironmentInfoService)(e.disposables);t=new s.PythonEnvsReducer(t);const n=new a.PythonEnvsResolver(t,r);return new T.EnvsCollectionService(await async function(e){const t=(0,i.getGlobalStorage)(e.context,"PYTHON_ENV_INFO_CACHE",[]);return await(0,w.createCollectionCache)({load:async()=>t.get(),store:async e=>t.set(e)})}(e),n)}(e)));return(0,l.initializeExternalDependencies)(e.legacyIOC.serviceContainer),(0,_.registerNewDiscoveryForIOC)(e.legacyIOC.serviceManager,t),t},t.activate=async function(e,t){return e.triggerRefresh().ignoreErrors(),{fullyReady:Promise.resolve()}}},93400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExecutablePath=void 0;const n=r(31776),i=r(24708);t.getExecutablePath=async function(e,t,r){const[o,s]=(0,n.getExecutable)(),a=(0,i.copyPythonExecInfo)(e,o),c=[a.command,...a.args].reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),""),u=s((await t(c,{timeout:null!=r?r:15e3})).stdout.trim());if(""===u)throw new Error(`${c} resulted in empty stdout`);return u}},81387:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentTypeName=t.ModuleInstallerType=t.virtualEnvTypes=t.EnvironmentType=void 0,function(e){e.Unknown="Unknown",e.Conda="Conda",e.VirtualEnv="VirtualEnv",e.Pipenv="PipEnv",e.Pyenv="Pyenv",e.Venv="Venv",e.WindowsStore="WindowsStore",e.Poetry="Poetry",e.VirtualEnvWrapper="VirtualEnvWrapper",e.Global="Global",e.System="System"}(r=t.EnvironmentType||(t.EnvironmentType={})),t.virtualEnvTypes=[r.Poetry,r.Pipenv,r.Venv,r.VirtualEnvWrapper,r.Conda,r.VirtualEnv],(n=t.ModuleInstallerType||(t.ModuleInstallerType={})).Unknown="Unknown",n.Conda="Conda",n.Pip="Pip",n.Poetry="Poetry",n.Pipenv="Pipenv",t.getEnvironmentTypeName=function(e){switch(e){case r.Conda:return"conda";case r.Pipenv:return"pipenv";case r.Pyenv:return"pyenv";case r.Venv:return"venv";case r.VirtualEnv:return"virtualenv";case r.WindowsStore:return"windows store";case r.Poetry:return"poetry";case r.VirtualEnvWrapper:return"virtualenvwrapper";default:return""}}},69554:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterpreterInfo=void 0;const n=r(36625),i=r(4057),o=r(87450),s=r(24708);t.getInterpreterInfo=async function(e,t,r){const[a,c]=(0,i.interpreterInfo)(),u=(0,s.copyPythonExecInfo)(e,a),l=[u.command,...u.args],h=l.reduce(((e,t)=>e?`${e} "${t}"`:`"${t.replaceAll("\\","\\\\")}"`),""),p=await t(h,{timeout:15e3});p.stderr&&r&&r.error(`Failed to parse interpreter information for ${l} stderr: ${p.stderr}`);const d=c(p.stdout);if(r&&r.info(`Found interpreter for ${l}`),d)return function(e,t){let r=`${t.versionInfo.slice(0,3).join(".")}`;if(void 0!==t.versionInfo[3]&&["alpha","beta","candidate"].includes(t.versionInfo[3])&&(r=`${r}-${t.versionInfo[3]}`,void 0!==t.versionInfo[4])){let e=-1;try{e=parseInt(`${t.versionInfo[4]}`,10)}catch(t){e=-1}r=e>=0?`${r}${e}`:r}return{architecture:t.is64Bit?o.Architecture.x64:o.Architecture.x86,path:e,version:new n.SemVer(r),sysVersion:t.sysVersion,sysPrefix:t.sysPrefix}}(e.pythonExecutable,d)}},22544:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.registerNewDiscoveryForIOC=void 0;const i=r(86700),o=r(96486),s=r(66828),a=r(88409),c=r(18639),u=r(45878),l=r(51372),h=r(37769),p=r(81387),d=r(95084),f=r(67931),v=r(59314),y=r(99910),m=r(75470),g=r(38327),b=r(1132),_=r(19735),E=new Map(Object.entries({[u.PythonEnvKind.OtherGlobal]:p.EnvironmentType.Global,[u.PythonEnvKind.System]:p.EnvironmentType.System,[u.PythonEnvKind.MacDefault]:p.EnvironmentType.System,[u.PythonEnvKind.WindowsStore]:p.EnvironmentType.WindowsStore,[u.PythonEnvKind.Pyenv]:p.EnvironmentType.Pyenv,[u.PythonEnvKind.Conda]:p.EnvironmentType.Conda,[u.PythonEnvKind.CondaBase]:p.EnvironmentType.Conda,[u.PythonEnvKind.VirtualEnv]:p.EnvironmentType.VirtualEnv,[u.PythonEnvKind.Pipenv]:p.EnvironmentType.Pipenv,[u.PythonEnvKind.Poetry]:p.EnvironmentType.Poetry,[u.PythonEnvKind.Venv]:p.EnvironmentType.Venv,[u.PythonEnvKind.VirtualEnvWrapper]:p.EnvironmentType.VirtualEnvWrapper}));function S(e){const{name:t,location:r,executable:n,arch:i,kind:o,version:s,distro:a,id:c}=e,{filename:u,sysPrefix:l}=n,h={id:c,sysPrefix:l,envType:p.EnvironmentType.Unknown,envName:t,envPath:r,path:u,architecture:i},f=E.get(o);if(void 0!==f&&(h.envType=f),void 0!==s){const{release:e,sysVersion:t}=s;h.sysVersion=void 0===e?"":t;const r=(0,d.toSemverLikeVersion)(s);h.version=r}return void 0!==a&&""!==a.org&&(h.companyDisplayName=a.org),h.displayName=e.display,h.detailedDisplayName=e.detailedDisplayName,h}let w=class{constructor(e){this.api=e,this.refreshing=new s.EventEmitter,this.refreshed=new s.EventEmitter,this.changed=new s.EventEmitter,this.api.onChanged((e=>{this.changed.fire({type:e.type,new:e.new?S(e.new):void 0,old:e.old?S(e.old):void 0,resource:e.searchLocation})}))}triggerRefresh(e){return this.api.triggerRefresh(e)}get refreshPromise(){return this.api.refreshPromise}get onRefreshStart(){return this.api.onRefreshStart}get onChanged(){return this.changed.event}onDidCreate(e,t){const r=e?s.workspace.getWorkspaceFolder(e):void 0;return this.api.onChanged((e=>{r&&e.searchLocation&&((0,_.traceVerbose)(`Received event ${JSON.stringify(e)} file change event`),e.type===a.FileChangeType.Created&&(0,h.isParentPath)(e.searchLocation.fsPath,r.uri.fsPath)&&t())}))}get onRefreshing(){return this.refreshing.event}get onRefreshed(){return this.refreshed.event}async getInterpreterInformation(e){const t=await this.api.resolveEnv(e);return t?S(t):void 0}async isMacDefaultPythonPath(e){return(0,l.isMacDefaultPythonPath)(e)}async getInterpreterDetails(e){const t=await this.api.resolveEnv(e);if(t){if(null==t?void 0:t.executable.sysPrefix){const e=(0,f.getEnvironmentInfoService)(),r=await e.getEnvironmentInfo(t,f.EnvironmentInfoServiceQueuePriority.High);r&&(t.executable.sysPrefix=r.executable.sysPrefix,t.version=r.version)}return S(t)}}async isCondaEnvironment(e){return(0,m.isCondaEnvironment)(e)}async getCondaEnvironment(e){if(!await(0,m.isCondaEnvironment)(e))return;const t=await this.api.resolveEnv(e);return t?{name:t.name,path:t.location}:void 0}async isWindowsStoreInterpreter(e){return(0,g.isWindowsStoreEnvironment)(e)}async hasInterpreters(e=(async()=>!0)){const t=(0,v.createDeferred)();return this.api.onChanged((async r=>{r.new&&await e(S(r.new))&&t.resolve()})),this.api.getEnvs().length>0||(await Promise.race([t.promise,this.api.refreshPromise]),(await(0,y.asyncFilter)(this.api.getEnvs(),(t=>e(S(t))))).length>0)}getInterpreters(e,t){this.refreshing.fire();const r={};let n;void 0!==e&&(n=s.workspace.getWorkspaceFolder(e)),!n&&s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0&&(!e||"untitled"===e.scheme)&&([n]=s.workspace.workspaceFolders),r.searchLocations=void 0!==n?{roots:[n.uri]}:{roots:[]};let i=this.api.getEnvs(r);t&&(i=i.filter((e=>(0,o.intersection)(t,e.source).length>0)));const a=i.map(S);return this.refreshed.fire(),a}async getWorkspaceVirtualEnvInterpreters(e,t){const r=s.workspace.getWorkspaceFolder(e);if(!r)return[];const n={searchLocations:{roots:[r.uri],doNotIncludeNonRooted:!0}};return(null==t?void 0:t.ignoreCache)&&await this.api.triggerRefresh(n),await this.api.refreshPromise,this.api.getEnvs(n).map(S)}};w=n([(0,i.injectable)()],w),t.registerNewDiscoveryForIOC=function(e,t){e.addSingleton(c.ICondaService,b.CondaService),e.addSingletonInstance(c.IComponentAdapter,new w(t))}},69284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.SourceMapSupport=void 0;const n=r(71017);r(32727);const i=r(90209),o=r(63281),s=r(19735),a="sourceMapsEnabled";class c{constructor(e){this.vscode=e,this.config=this.vscode.workspace.getConfiguration("python.diagnostics",null)}async initialize(){if(!this.enabled)return;await this.enableSourceMaps(!0),r(75913).install();const e=r(67098),t=e.Diagnostics.disableSourceMaps();this.vscode.window.showWarningMessage(e.Diagnostics.warnSourceMaps(),t).then((e=>{e===t&&this.disable().ignoreErrors()}))}get enabled(){return this.config.get(a,!1)}async disable(){this.enabled&&await this.config.update(a,!1,this.vscode.ConfigurationTarget.Global),await this.enableSourceMaps(!1)}async enableSourceMaps(e){const t=n.join(o.EXTENSION_ROOT_DIR,"out","client","extension.js"),r=n.join(o.EXTENSION_ROOT_DIR,"out","client","debugger","debugAdapter","main.js");await Promise.all([this.enableSourceMap(e,t),this.enableSourceMap(e,r)])}async enableSourceMap(e,t){const r=`${t}.map`,n=`${t}.map.disabled`;e?await this.rename(n,r):await this.rename(r,n)}async rename(e,t){const r=new i.FileSystem;await r.fileExists(t)||await r.move(e,t)}}t.SourceMapSupport=c,t.initialize=function(e=r(66828)){e.workspace.getConfiguration("python.diagnostics",null).get("sourceMapsEnabled",!1)?new c(e).initialize().catch((e=>{(0,s.traceError)("Failed to initialize source map support in extension")})):new c(e).disable().ignoreErrors()}},13825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserDefinedPythonPath=t.sendErrorTelemetry=t.sendStartupTelemetry=void 0;const n=r(17585),i=r(77570),o=r(58400),s=r(61684),a=r(87282),c=r(18639),u=r(19735),l=r(81387),h=r(54813),p=r(61522);function d(e,t){let r;return t.get(n.IWorkspaceService),r=t.get(s.IInterpreterPathService).inspect(e),!!(r.workspaceFolderValue&&"python"!==r.workspaceFolderValue||r.workspaceValue&&"python"!==r.workspaceValue||r.globalValue&&"python"!==r.globalValue)}async function f(e){var t;const r=e.get(n.IWorkspaceService),i=(null===(t=r.workspaceFolders)||void 0===t?void 0:t.length)||0,s=e.get(o.ITerminalHelper).identifyTerminalShell();if(!r.isTrusted)return{workspaceFolderCount:i,terminal:s};const h=e.get(c.ICondaService),p=e.get(c.IInterpreterService),f=r.workspaceFolders?r.workspaceFolders[0].uri:void 0,[v,y]=await Promise.all([h.getCondaVersion().then((e=>e?e.raw:"")).catch((()=>"")),p.hasInterpreters((async e=>{var t;return 3===(null===(t=e.version)||void 0===t?void 0:t.major)}))]);await p.refreshPromise;const m=await p.getActiveInterpreter().catch((()=>{})),g=m&&m.version?m.version.raw:void 0,b=m?m.envType:void 0;b===l.EnvironmentType.Unknown&&(0,u.traceError)("Active interpreter type is detected as Unknown",JSON.stringify(m));const _=d(f,e),E=!!m&&function(e,t){const r=t.get(a.IInterpreterAutoSelectionService).getAutoSelectedInterpreter(void 0);return!!r&&e===r.path}(m.path,e);return{condaVersion:v,terminal:s,pythonVersion:g,interpreterType:b,workspaceFolderCount:i,hasPythonThree:y,usingUserDefinedInterpreter:_,usingGlobalInterpreter:E}}t.sendStartupTelemetry=async function(e,t,r,n){if(!(0,i.isTestExecution)())try{await e,t.totalNonBlockingActivateTime=r.elapsedTime-t.startActivateTime;const i=await f(n);(0,h.sendTelemetryEvent)(p.EventName.EDITOR_LOAD,t,i)}catch(e){(0,u.traceError)("sendStartupTelemetry() failed.",e)}},t.sendErrorTelemetry=async function(e,t,r){try{let n={};if(r)try{n=await f(r)}catch(e){(0,u.traceError)("getActivationTelemetryProps() failed.",e)}(0,h.sendTelemetryEvent)(p.EventName.EDITOR_LOAD,t,n,e)}catch(e){(0,u.traceError)("sendErrorTelemetry() failed.",e)}},t.hasUserDefinedPythonPath=d},61522:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformErrors=t.EventName=void 0,(n=t.EventName||(t.EventName={})).EDITOR_LOAD="EDITOR.LOAD",n.REPL="REPL",n.SELECT_INTERPRETER="SELECT_INTERPRETER",n.PYTHON_INTERPRETER="PYTHON_INTERPRETER",n.PYTHON_INSTALL_PACKAGE="PYTHON_INSTALL_PACKAGE",n.ENVIRONMENT_WITHOUT_PYTHON_SELECTED="ENVIRONMENT_WITHOUT_PYTHON_SELECTED",n.PYTHON_INTERPRETER_DISCOVERY="PYTHON_INTERPRETER_DISCOVERY",n.PYTHON_INTERPRETER_AUTO_SELECTION="PYTHON_INTERPRETER_AUTO_SELECTION",n.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES="PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES",n.PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE="PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE",n.PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL="PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL",n.PIPENV_INTERPRETER_DISCOVERY="PIPENV_INTERPRETER_DISCOVERY",n.TERMINAL_SHELL_IDENTIFICATION="TERMINAL_SHELL_IDENTIFICATION",n.PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT="PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT",n.PYTHON_NOT_INSTALLED_PROMPT="PYTHON_NOT_INSTALLED_PROMPT",n.CONDA_INHERIT_ENV_PROMPT="CONDA_INHERIT_ENV_PROMPT",n.ENVFILE_VARIABLE_SUBSTITUTION="ENVFILE_VARIABLE_SUBSTITUTION",n.ENVFILE_WORKSPACE="ENVFILE_WORKSPACE",n.EXECUTION_CODE="EXECUTION_CODE",n.TERMINAL_CREATE="TERMINAL.CREATE",n.ACTIVATE_ENV_IN_CURRENT_TERMINAL="ACTIVATE_ENV_IN_CURRENT_TERMINAL",n.ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED="ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED",n.DIAGNOSTICS_ACTION="DIAGNOSTICS.ACTION",n.PLATFORM_INFO="PLATFORM.INFO",n.HASHED_PACKAGE_NAME="HASHED_PACKAGE_NAME",(r=t.PlatformErrors||(t.PlatformErrors={})).FailedToParseVersion="FailedToParseVersion",r.FailedToDetermineOS="FailedToDetermineOS"},98634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvFileTelemetryTests=t.sendActivationTelemetry=t.sendFileCreationTelemetry=t.sendSettingTelemetry=void 0;const n=r(48683),i=r(54813),o=r(61522);let s,a=!1;function c(e=!1){(0,i.sendTelemetryEvent)(o.EventName.ENVFILE_WORKSPACE,void 0,{hasCustomEnvPath:e}),a=!0}function u(){return!a}function l(e){var t;if(!s){const r=e.getConfiguration("python");s=(null===(t=r.inspect("envFile"))||void 0===t?void 0:t.defaultValue)||""}return s}t.sendSettingTelemetry=function(e,t){u()&&t!==l(e)&&c(!0)},t.sendFileCreationTelemetry=function(){u()&&c()},t.sendActivationTelemetry=async function(e,t,r){if(u()){const i=new n.SystemVariables(r,void 0,t).resolveAny(l(t));await e.fileExists(i)&&c()}},t.EnvFileTelemetryTests={setState:({telemetrySent:e,defaultSetting:t})=>{void 0!==e&&(a=e),void 0!==l&&(s=t)},resetState:()=>{s=void 0,a=!1}}},54813:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTelemetryWhenDone=t.captureTelemetry=t.sendTelemetryEvent=t.clearTelemetryReporter=t._resetSharedProperties=t.setSharedProperty=t.isTelemetryDisabled=void 0;const n=r(77570),i=r(70057),o=r(59314);r(61522),t.isTelemetryDisabled=function(e){return!1===e.getConfiguration("telemetry").inspect("enableTelemetry").globalValue};const s={};let a;function c(e,t,i,o){var c;if((0,n.isTestExecution)()||!function(){try{return!1}catch(e){return!1}}())return;const u=function(){if(!(0,n.isTestExecution)()&&a)return a;const e=n.PVSC_EXTENSION_ID,{extensions:t}=r(66828),i=t.getExtension(e).packageJSON.version,o=r(88361).default;return a=new o(e,i,n.AppinsightsKey,!0),a}(),l="number"==typeof t?{duration:t}:t||void 0,h={},p=e;if(i){const t=i;Object.getOwnPropertyNames(t).forEach((r=>{if(void 0!==t[r]&&null!==t[r])try{switch(typeof t[r]){case"string":h[r]=t[r];break;case"object":h[r]="object";break;default:h[r]=t[r].toString()}}catch(t){console.error(`Failed to serialize ${r} for ${e}`,t)}}))}if(Object.assign(h,s),o){const e={errorName:o.name,errorMessage:o.message,errorStack:null!==(c=o.stack)&&void 0!==c?c:""};Object.assign(h,e);const t=Object.getOwnPropertyNames(e);u.sendTelemetryErrorEvent(p,h,l,t)}else u.sendTelemetryEvent(p,h,l);process.env&&process.env.VSC_PYTHON_LOG_TELEMETRY&&console.info(`Telemetry Event : ${p} Measures: ${JSON.stringify(l)} Props: ${JSON.stringify(h)} `)}t.setSharedProperty=function(e,t){const r=e;(0,n.isUnitTestExecution)()&&r.startsWith("ds_")||(void 0===t?delete s[r]:s[r]=t)},t._resetSharedProperties=function(){for(const e of Object.keys(s))delete s[e]},t.clearTelemetryReporter=function(){a=void 0},t.sendTelemetryEvent=c,t.captureTelemetry=function(e,t,r=!0,n,s,a){return function(u,l,h){const p=h.value;return h.value=function(...u){if(!r&&!s&&!a)return c(e,void 0,t),p.apply(this,u);const l=e=>s?{...t,...s(this,e)}:t,h=r?new i.StopWatch:void 0,d=e=>{const t=h?{duration:h.elapsedTime}:void 0;return a?{...t,...a(this,e)}:t},f=p.apply(this,u);return f&&(0,o.isPromise)(f)?f.then((t=>(c(e,d(t),l(t)),t))).catch((t=>{const r={...l(),failed:!0};c(n||e,d(),r,t)})):c(e,d(f),l(f)),f},h}},t.sendTelemetryWhenDone=function(e,t,r,n){if(r=r||new i.StopWatch,"function"!=typeof t.then)throw new Error("Method is neither a Promise nor a Theneable");t.then((t=>(c(e,r.elapsedTime,n),t)),(t=>(c(e,r.elapsedTime,n,t),Promise.reject(t))))}},19645:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeExecutionManager=void 0;const o=r(86700),s=r(66828),a=r(17585),c=r(77570);r(32727);const u=r(84974),l=r(61684),h=r(3481),p=r(77498),d=r(19735),f=r(54813),v=r(61522),y=r(43200);let m=class{constructor(e,t,r,n){this.commandManager=e,this.disposableRegistry=t,this.fileSystem=r,this.serviceContainer=n,this.eventEmitter=new s.EventEmitter}get onExecutedCode(){return this.eventEmitter.event}registerCommands(){[c.Commands.Exec_In_Terminal,c.Commands.Exec_In_Terminal_Icon].forEach((e=>{this.disposableRegistry.push(this.commandManager.registerCommand(e,(async t=>{const r=e===c.Commands.Exec_In_Terminal?"command":"icon";await this.executeFileInTerminal(t,r).catch((e=>(0,d.traceError)("Failed to execute file in terminal",e)))})))}))}async executeFileInTerminal(e,t){(0,f.sendTelemetryEvent)(v.EventName.EXECUTION_CODE,void 0,{scope:"file",trigger:t});const r=this.serviceContainer.get(y.ICodeExecutionHelper),n=(e=e instanceof s.Uri?e:void 0)||await r.getFileToExecute();if(!n)return;await r.saveFileIfDirty(n);try{const e=await this.fileSystem.readFile(n.fsPath);this.eventEmitter.fire(e)}catch(e){(0,h.noop)()}const i=this.serviceContainer.get(y.ICodeExecutionService,"standard");await i.executeFile(n)}};m=n([(0,o.injectable)(),i(0,(0,o.inject)(a.ICommandManager)),i(1,(0,o.inject)(l.IDisposableRegistry)),i(2,(0,o.inject)(u.IFileSystem)),i(3,(0,o.inject)(p.IServiceContainer))],m),t.CodeExecutionManager=m},20130:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DjangoContextInitializer=void 0;const i=r(86700),o=r(71017),s=r(94316),a=r(19735);let c=class{constructor(e,t,r,n){this.documentManager=e,this.workpaceService=t,this.fileSystem=r,this.monitoringActiveTextEditor=!1,this.workspaceContextKeyValues=new Map,this.lastCheckedWorkspace="",this.disposables=[],this.isDjangoProject=new s.ContextKey("python.isDjangoProject",n),this.ensureContextStateIsSet().catch((e=>(0,a.traceError)("Python Extension: ensureState",e))),this.disposables.push(this.workpaceService.onDidChangeWorkspaceFolders((()=>this.updateContextKeyBasedOnActiveWorkspace())))}dispose(){this.disposables.forEach((e=>e.dispose()))}updateContextKeyBasedOnActiveWorkspace(){this.monitoringActiveTextEditor||(this.monitoringActiveTextEditor=!0,this.disposables.push(this.documentManager.onDidChangeActiveTextEditor((()=>this.ensureContextStateIsSet()))))}getActiveWorkspace(){if(!Array.isArray(this.workpaceService.workspaceFolders)||0===this.workpaceService.workspaceFolders.length)return;if(1===this.workpaceService.workspaceFolders.length)return this.workpaceService.workspaceFolders[0].uri.fsPath;const e=this.documentManager.activeTextEditor;if(!e)return;const t=this.workpaceService.getWorkspaceFolder(e.document.uri);return t?t.uri.fsPath:void 0}async ensureContextStateIsSet(){const e=this.getActiveWorkspace();if(!e)return this.isDjangoProject.set(!1);if(this.lastCheckedWorkspace!==e)if(this.workspaceContextKeyValues.has(e))await this.isDjangoProject.set(this.workspaceContextKeyValues.get(e));else{const t=await this.fileSystem.fileExists(o.join(e,"manage.py"));await this.isDjangoProject.set(t),this.workspaceContextKeyValues.set(e,t),this.lastCheckedWorkspace=e}}};c=n([(0,i.injectable)()],c),t.DjangoContextInitializer=c},80710:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DjangoShellCodeExecutionProvider=void 0;const o=r(86700),s=r(71017),a=r(17585);r(32727);const c=r(84974),u=r(58400),l=r(61684),h=r(18639),p=r(24708),d=r(20130),f=r(96524);let v=class extends f.TerminalCodeExecutionProvider{constructor(e,t,r,n,i,o,s,a,c){super(e,t,r,a,i,c),this.terminalTitle="Django Shell",a.push(new d.DjangoContextInitializer(n,r,s,o))}async getExecutableInfo(e,t=[]){const r=await super.getExecutableInfo(e,t),n=e?this.workspace.getWorkspaceFolder(e):void 0,i=Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.length>0?this.workspace.workspaceFolders[0].uri.fsPath:"",o=n?n.uri.fsPath:i,a=0===o.length?"manage.py":s.join(o,"manage.py");return(0,p.copyPythonExecInfo)(r,[a.fileToCommandArgumentForPythonExt(),"shell"])}async getExecuteFileArgs(e,t=[]){const r=await super.getExecutableInfo(e);return(0,p.copyPythonExecInfo)(r,t)}};v=n([(0,o.injectable)(),i(0,(0,o.inject)(u.ITerminalServiceFactory)),i(1,(0,o.inject)(l.IConfigurationService)),i(2,(0,o.inject)(a.IWorkspaceService)),i(3,(0,o.inject)(a.IDocumentManager)),i(4,(0,o.inject)(c.IPlatformService)),i(5,(0,o.inject)(a.ICommandManager)),i(6,(0,o.inject)(c.IFileSystem)),i(7,(0,o.inject)(l.IDisposableRegistry)),i(8,(0,o.inject)(h.IInterpreterService))],v),t.DjangoShellCodeExecutionProvider=v},50773:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeExecutionHelper=void 0,r(32727);const o=r(86700),s=r(66828),a=r(17585),c=r(77570),u=r(4057),l=r(29983),h=r(59314),p=r(18639),d=r(77498),f=r(19735);let v=class{constructor(e){this.documentManager=e.get(a.IDocumentManager),this.applicationShell=e.get(a.IApplicationShell),this.processServiceFactory=e.get(l.IProcessServiceFactory),this.interpreterService=e.get(p.IInterpreterService)}async normalizeLines(e,t){var r,n,i,o;try{if(0===e.trim().length)return"";e=e.replace(new RegExp("\\r","g"),"");const s=await this.interpreterService.getActiveInterpreter(t),a=await this.processServiceFactory.create(t),[c,l]=u.normalizeSelection(),p=a.execObservable((null==s?void 0:s.path)||"python",c,{throwOnStdErr:!0}),d=(0,h.createDeferred)();let f="";p.out.subscribe({next:e=>{"stdout"===e.source&&(f+=e.out)},complete:()=>{d.resolve(f)}});const v=JSON.stringify({code:e});null===(n=null===(r=p.proc)||void 0===r?void 0:r.stdin)||void 0===n||n.write(v),null===(o=null===(i=p.proc)||void 0===i?void 0:i.stdin)||void 0===o||o.end();const y=await d.promise;return l(JSON.parse(y).normalized)}catch(t){return(0,f.traceError)(t,"Python: Failed to normalize code for execution in terminal"),e}}async getFileToExecute(){const e=this.documentManager.activeTextEditor;if(e)if(e.document.isUntitled)this.applicationShell.showErrorMessage("The active file needs to be saved before it can be run");else{if(e.document.languageId===c.PYTHON_LANGUAGE)return e.document.isDirty&&await e.document.save(),e.document.uri;this.applicationShell.showErrorMessage("The active file is not a Python source file")}else this.applicationShell.showErrorMessage("No open file to run in terminal")}async getSelectedTextToExecute(e){if(!e)return;const{selection:t}=e;let r;return r=t.isEmpty?e.document.lineAt(t.start.line).text:t.isSingleLine?function(e){const{selection:t}=e,r=new s.Range(t.start,t.end),n=e.document.getText(r),i=e.document.lineAt(t.start.line).text;return n.trim()===i.trim()?i:n}(e):function(e){const{selection:t}=e,r=new s.Range(t.start,t.end),n=e.document.getText(r),i=new s.Range(new s.Position(t.start.line,0),new s.Position(t.end.line,e.document.lineAt(t.end.line).text.length)),o=e.document.getText(i);if(n.trim()===o.trim())return o;const a=e.document.lineAt(t.start.line).text,c=new s.Range(t.start,new s.Position(t.start.line,a.length)),u=e.document.getText(c);return u.trimLeft()===a.trimLeft()?a+n.substr(u.length):n}(e),r}async saveFileIfDirty(e){const t=this.documentManager.textDocuments.filter((t=>t.uri.path===e.path));1===t.length&&t[0].isDirty&&await t[0].save()}};v=n([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer))],v),t.CodeExecutionHelper=v},80055:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplProvider=void 0;const o=r(86700),s=r(17585),a=r(84974),c=r(58400),u=r(61684),l=r(18639),h=r(96524);let p=class extends h.TerminalCodeExecutionProvider{constructor(e,t,r,n,i,o){super(e,t,r,n,i,o),this.terminalTitle="REPL"}};p=n([(0,o.injectable)(),i(0,(0,o.inject)(c.ITerminalServiceFactory)),i(1,(0,o.inject)(u.IConfigurationService)),i(2,(0,o.inject)(s.IWorkspaceService)),i(3,(0,o.inject)(u.IDisposableRegistry)),i(4,(0,o.inject)(a.IPlatformService)),i(5,(0,o.inject)(l.IInterpreterService))],p),t.ReplProvider=p},96524:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalCodeExecutionProvider=void 0;const o=r(86700),s=r(71017),a=r(17585);r(32727);const c=r(84974),u=r(58400),l=r(61684),h=r(18639),p=r(24708);let d=class{constructor(e,t,r,n,i,o){this.terminalServiceFactory=e,this.configurationService=t,this.workspace=r,this.disposables=n,this.platformService=i,this.interpreterService=o,this.hasRanOutsideCurrentDrive=!1}async executeFile(e){await this.setCwdForFileExecution(e);const t=e.fsPath.fileToCommandArgumentForPythonExt(),{command:r,args:n}=await this.getExecuteFileArgs(e,[t]);await this.getTerminalService(e).sendCommand(r,n)}async execute(e,t){e&&0!==e.trim().length&&(await this.initializeRepl(),await this.getTerminalService(t).sendText(e))}async initializeRepl(e){this.replActive&&await this.replActive?await this._terminalService.show():(this.replActive=new Promise((async t=>{const r=await this.getExecutableInfo(e);await this.getTerminalService(e).sendCommand(r.command,r.args),setTimeout((()=>t(!0)),1e3)})),await this.replActive)}async getExecutableInfo(e,t=[]){var r;const n=this.configurationService.getSettings(e),i=await this.interpreterService.getActiveInterpreter(e),o=null!==(r=null==i?void 0:i.path)&&void 0!==r?r:n.pythonPath,s=this.platformService.isWindows?o.replace(/\\/g,"/"):o,a=n.terminal.launchArgs;return(0,p.buildPythonExecInfo)(s,[...a,...t])}async getExecuteFileArgs(e,t=[]){return this.getExecutableInfo(e,t)}getTerminalService(e){return this._terminalService||(this._terminalService=this.terminalServiceFactory.getTerminalService({resource:e,title:this.terminalTitle}),this.disposables.push(this._terminalService.onDidCloseTerminal((()=>{this.replActive=void 0})))),this._terminalService}async setCwdForFileExecution(e){if(!this.configurationService.getSettings(e).terminal.executeInFileDir)return;const t=s.dirname(e.fsPath);if(t.length>0){if(this.platformService.isWindows&&/[a-z]\:/i.test(t)){const r="string"==typeof this.workspace.rootPath?this.workspace.rootPath.replace(/\:.*/g,""):void 0,n=t.replace(/\:.*/g,"");(n!==r||this.hasRanOutsideCurrentDrive)&&(this.hasRanOutsideCurrentDrive=!0,await this.getTerminalService(e).sendText(`${n}:`))}await this.getTerminalService(e).sendText(`cd ${t.fileToCommandArgumentForPythonExt()}`)}}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(u.ITerminalServiceFactory)),i(1,(0,o.inject)(l.IConfigurationService)),i(2,(0,o.inject)(a.IWorkspaceService)),i(3,(0,o.inject)(l.IDisposableRegistry)),i(4,(0,o.inject)(c.IPlatformService)),i(5,(0,o.inject)(h.IInterpreterService))],d),t.TerminalCodeExecutionProvider=d},73607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const n=r(19645),i=r(80710),o=r(50773),s=r(80055),a=r(96524),c=r(43200);t.registerTypes=function(e){e.addSingleton(c.ICodeExecutionHelper,o.CodeExecutionHelper),e.addSingleton(c.ICodeExecutionManager,n.CodeExecutionManager),e.addSingleton(c.ICodeExecutionService,i.DjangoShellCodeExecutionProvider,"djangoShell"),e.addSingleton(c.ICodeExecutionService,a.TerminalCodeExecutionProvider,"standard"),e.addSingleton(c.ICodeExecutionService,s.ReplProvider,"repl")}},43200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeExecutionManager=t.ICodeExecutionHelper=t.ICodeExecutionService=void 0,t.ICodeExecutionService=Symbol("ICodeExecutionService"),t.ICodeExecutionHelper=Symbol("ICodeExecutionHelper"),t.ICodeExecutionManager=Symbol("ICodeExecutionManager")},80075:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canChangeActiveInterpreter=t.activate=void 0;const n=r(66828);function i(){return n.extensions.getExtension("ms-python.python")}t.activate=function(e){e.subscriptions.push(n.commands.registerCommand("python.envManager.setAsActiveInterpreter",(async({env:e})=>{if(!Array.isArray(n.workspace.workspaceFolders)||0===n.workspace.workspaceFolders.length)return;const t=i();(null==t?void 0:t.isActive)||await(null==t?void 0:t.activate());const r=1===n.workspace.workspaceFolders.length?n.workspace.workspaceFolders[0]:await n.window.showWorkspaceFolderPick({placeHolder:"Select folder to change active Python Environment"});r&&(null==t||t.exports.environment.setActiveEnvironment(e.path,r.uri))})))},t.canChangeActiveInterpreter=function(){return i()&&Array.isArray(n.workspace.workspaceFolders)&&n.workspace.workspaceFolders.length>0}},9526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearCacheIfNewVersionInstalled=t.EnvironmentsCacheMementoKey=void 0;const n=r(66828),i="LAST_EXTENSION_VERSION";t.EnvironmentsCacheMementoKey="PYTHON:PACKAGE_MANAGER:ENVS_CACHE";let o=!1;t.clearCacheIfNewVersionInstalled=async function(e,r=!1){var s,a;if(e.extensionMode!==n.ExtensionMode.Development&&(o||e.globalState.get(i,"")===(null===(a=null===(s=e.extension)||void 0===s?void 0:s.packageJSON)||void 0===a?void 0:a.version)))return;o=!0;let c=[];r||(c=e.globalState.get(t.EnvironmentsCacheMementoKey,[])),await Promise.all([n.commands.executeCommand("python.envManager.clearPersistentStorage"),e.globalState.keys().filter((e=>e!==i)).map((t=>e.globalState.update(t,void 0))),e.workspaceState.keys().map((t=>e.workspaceState.update(t,void 0)))]),await e.globalState.update(i,e.extension.packageJSON.version),!r&&Array.isArray(c)&&await e.globalState.update(t.EnvironmentsCacheMementoKey,c)}},86905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateEnvironmentsTxt=t.createEnv=t.getPyEnvVersion=t.getCondaVersion=t.deleteEnv=t.getCondaPackages=t.getPipPackages=t.getPackages=void 0;const n=r(55674),i=r(71017),o=r(22037),s=r(66828),a=r(13706),c=r(18699),u=r(22207),l=r(87450),h=r(19735),p=r(75470),d=r(77826),f=r(37769),v=r(81387),y=r(96645),m=r(92230);async function g(e){if(e.envType===v.EnvironmentType.Conda)return;const t=await(0,f.exec)(e.path,["-m","pip","list","--format","json"],{timeout:6e4});return(0,h.traceVerbose)(`python -m pip list --format --json: ${t.stdout}`),t.stdout.trim()?JSON.parse(t.stdout):[]}async function b(e){if(e.envType!==v.EnvironmentType.Conda||!e.envName&&!e.envPath)return;const t=await p.Conda.getConda();if(!t)return;const r=e.envName?["list","-n",e.envName]:["list","-p",e.envPath],n=await(0,f.exec)(t.command,r.concat(["--json"]),{timeout:6e4}),i=n.stdout.trim();return(0,h.traceVerbose)(`conda info --json: ${n.stdout}`),i?JSON.parse(n.stdout):[]}async function _(e){const t=i.join((0,l.getUserHomeDir)()||y.home,".conda","environments.txt"),r=await n.readFile(t,"utf-8");r.includes(e)||await n.writeFile(t,`${r.trim()}${o.EOL}${e}${o.EOL}`)}t.getPackages=async function(e){try{const[t,r]=await Promise.all([g(e),b(e)]),n=new Map;return(t||[]).forEach((e=>n.set(e.name,e))),(r||[]).forEach((e=>n.set(e.name,e))),Array.from(n.values()).sort(((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())))}catch(t){return(0,h.traceError)(`Failed to get package information for ${e.displayName})`,t),[]}},t.getPipPackages=g,t.getCondaPackages=b,t.deleteEnv=async function(e,t){if(e.envType!==v.EnvironmentType.Conda||!e.envName&&!e.envPath)return void(0,h.traceError)(`Cannot delete as its not a conda environment or no name/path for ${(0,y.getEnvLoggingInfo)(e)}`);const r=await p.Conda.getConda();if(!r)return;const i=e.envName?["-n",e.envName]:["-p",e.envPath],o=`Deleting conda environment ${(0,y.getEnvLoggingInfo)(e)} with command ${[r.command,"env","remove"].concat(i).join(" ")}`;(0,h.traceVerbose)(o),t.report({message:o});const s=await(0,c.execObservable)(r.command,["env","remove"].concat(i),{timeout:6e4});if(await new Promise((e=>{s.out.subscribe({next:e=>t.report({message:e.out}),complete:()=>e()})})),e.envName&&e.path&&await n.pathExists(e.envPath||e.path))throw new Error(`Failed to delete conda environment ${(0,y.getEnvDisplayInfo)(e)}, folder still exists ${(0,y.getDisplayPath)(e.envPath||e.path)} `)},t.getCondaVersion=async function(){const e=await p.Conda.getConda();if(e)return e.getInfo().catch((e=>(0,h.traceError)("Failed to get conda info",e)))},t.getPyEnvVersion=async function(){const e=(0,d.getPyenvDir)(),t=i.join(e,"CHANGELOG.md");try{if(await n.pathExists(t)){const e=await n.readFile(t,"utf-8"),r=e.indexOf("## Release ");if(-1===r)return void(0,h.traceError)(`Failed to identify pyenv version from ${t}, with text ${e.substring(0,100)} `);const i=r+"## Release ".length,o=e.substring(i,i+20).splitLines().map((e=>e.trim())).filter((e=>e.length));return 0===o.length?"":o[0]}}catch(e){(0,h.traceError)("Failed to get pyenv version",e)}},t.createEnv=async function(e,t){const r=await p.Conda.getConda();if(!r)return void(0,h.traceError)("Conda not found");const n={name:""},o=function(e){let t=3,r=9;return e.filter((e=>e.envType===v.EnvironmentType.Conda)).forEach((e=>{var n,i,o,s,a,c,u;!(null===(n=e.version)||void 0===n?void 0:n.major)||(null===(i=e.version)||void 0===i?void 0:i.major)<t||((null===(o=e.version)||void 0===o?void 0:o.major)>t?(t=null===(s=e.version)||void 0===s?void 0:s.major,r=null===(a=e.version)||void 0===a?void 0:a.minor):(null===(c=e.version)||void 0===c?void 0:c.minor)>r&&(r=null===(u=e.version)||void 0===u?void 0:u.minor))})),`${t}.${r}`}(e),l=new u.MultiStepInput(new a.ApplicationShell);await l.run((async(e,t)=>{const r=await e.showInputBox({title:"Enter the name of the virtual environment",value:".venv",step:1,totalSteps:3,prompt:"Name",validate:async e=>{if(!e)return"Enter a name"}});if(r)return t.name=r.trim(),(async(e,t)=>{const r=await e.showInputBox({title:"Select Python Version",validate:async e=>{if(!e.trim().length)return"Enter a Python version such as 3.9"},placeholder:"3.7, 3.8, 3.9, 3.10, etc",prompt:"Python Version",value:o});t.pythonVersion=null==r?void 0:r.trim()})(e,t)}),n),n.name.trim()&&n.pythonVersion&&await s.window.withProgress({location:s.ProgressLocation.Notification,cancellable:!0,title:`Creating environment '${n.name.trim()}'`},(async(e,o)=>{await async function(e,t,r,n,o,a="3.9"){var u;try{const s=n.includes(".micromamba");e.report({message:`Creating environment ${r}`}),(0,h.traceInfo)(`Creating conda environment ${r} with python version ${a}`);const l=s?["-c","conda-forge"]:[],p=["create","-n",`${r.trim()}`,`python=${a||"3.9"}`].concat(l).concat(["-y"]);(0,h.traceInfo)([n].concat(p).join(" "));const d=await(0,c.execObservable)(n,p,{timeout:12e4,token:t});null===(u=d.proc)||void 0===u||u.on("error",(e=>console.error("Conda create exited with an error",e))),await new Promise(((t,r)=>{d.out.subscribe({next:t=>{t.out.trim().length&&e.report({message:t.out}),(0,h.traceInfo)(t.out)},complete:()=>t(),error:e=>r(e)})})),s&&await _(i.join(m.MICROMAMBA_ROOTPREFIX,r.trim())).catch((e=>(0,h.traceError)("Failed to update environments.txt",e))),e.report({message:"Waiting for environment to be detected"}),await o({name:r,type:v.EnvironmentType.Conda})}catch(e){(0,h.traceError)("Failed to create environment",e),s.window.showErrorMessage(`Failed to create environment ${r}, ${e.toString()}`)}}(e,o,n.name.trim(),r.command,t,n.pythonVersion)}))},t.updateEnvironmentsTxt=_},74533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const n=r(66828),i=r(19735),o=r(81387),s=r(96645),a=r(12832),c=r(86905),u=r(5976);t.activate=function(e){e.subscriptions.push(n.commands.registerCommand("python.envManager.create",(async e=>{if((0,s.canEnvBeCreated)(e))switch(e){case o.EnvironmentType.Conda:return(0,c.createEnv)(u.PythonEnvironmentTreeDataProvider.environments,u.refreshUntilNewEnvIsAvailable);case o.EnvironmentType.Venv:return(0,a.createEnv)(u.PythonEnvironmentTreeDataProvider.environments)}else(0,i.traceError)(`Environment '${e}' cannot be created`)})))}},49489:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const n=r(66828),i=r(19735),o=r(81387),s=r(96645),a=r(86905),c=r(12832);t.activate=function(e){e.subscriptions.push(n.commands.registerCommand("python.envManager.delete",(async({env:e})=>{if(!(0,s.canEnvBeDeleted)(e.envType))return void(0,i.traceError)(`Environment '${(0,s.getEnvLoggingInfo)(e)}' cannot be deleted`);const t=`Are you sure you want to delete the environment '${(0,s.getEnvDisplayInfo)(e)}'?`,r=`This will result in deleting the folder '${(0,s.getDisplayPath)(e.envPath||e.path)}'.`;if("Yes"===await n.window.showInformationMessage(t,{modal:!0,detail:r},"Yes"))try{await n.window.withProgress({location:n.ProgressLocation.Notification,title:`Deleting environment ${(0,s.getEnvDisplayInfo)(e)}`},(async(t,r)=>e.envType===o.EnvironmentType.Conda?(0,a.deleteEnv)(e,t):(0,c.deleteEnv)(e))),n.commands.executeCommand("python.envManager.refresh")}catch(t){(0,i.traceError)(`Failed to delete environment ${(0,s.getEnvLoggingInfo)(e)}`,t),n.window.showErrorMessage(`Failed to delete environment ${(0,s.getEnvDisplayInfo)(e)}, ${t.toString()}`)}})))}},96645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvDisplayInfo=t.getEnvLoggingInfo=t.canEnvBeCreated=t.canEnvBeDeleted=t.createTempFile=t.getEnvironmentTypeName=t.getDisplayPath=t.getEnvironmentId=t.home=void 0;const n=r(66828),i=r(71017),o=r(36276),s=r(81387),a=r(58967);function c(e){return e?(e=n.workspace.asRelativePath(e,!1)).startsWith(t.home)?`~${i.sep}${i.relative(t.home,e)}`:e:""}t.home=a("~"),t.getEnvironmentId=function(e){return e.envType===s.EnvironmentType.Conda?`${e.envPath}:${e.path}`:`${e.envName}:${e.path}`},t.getDisplayPath=c,t.getEnvironmentTypeName=function(e){return e.toString()},t.createTempFile=function(e=".txt"){return new Promise(((t,r)=>{o.file({postfix:e},((e,n,i,o)=>{if(e)return r(e);t({filePath:n,dispose:o})}))}))},t.canEnvBeDeleted=function(e){switch(e){case s.EnvironmentType.Conda:case s.EnvironmentType.Venv:case s.EnvironmentType.VirtualEnv:case s.EnvironmentType.VirtualEnvWrapper:return!0;case s.EnvironmentType.Pipenv:case s.EnvironmentType.Poetry:case s.EnvironmentType.Pyenv:case s.EnvironmentType.System:case s.EnvironmentType.Unknown:case s.EnvironmentType.WindowsStore:default:return!1}},t.canEnvBeCreated=function(e){switch(e){case s.EnvironmentType.Conda:case s.EnvironmentType.Venv:return!0;case s.EnvironmentType.VirtualEnv:case s.EnvironmentType.VirtualEnvWrapper:case s.EnvironmentType.Pipenv:case s.EnvironmentType.Poetry:case s.EnvironmentType.Pyenv:case s.EnvironmentType.System:case s.EnvironmentType.Unknown:case s.EnvironmentType.WindowsStore:default:return!1}},t.getEnvLoggingInfo=function(e){return`${e.envType}:(${e.displayName||e.envName},${c(e.envPath||e.path)})`},t.getEnvDisplayInfo=function(e){return e.displayName||e.envName||c(e.envPath)||c(e.path)}},40078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const n=r(55674),i=r(66828),o=r(3481),s=r(86905),a=r(96645),c=r(92230),u=r(83916),l=r(5976);async function h(){const[e,t]=await Promise.all([(0,s.getCondaVersion)().catch(o.noop),n.pathExists(c.MICROMAMBA_EXE)]);i.commands.executeCommand("setContext","python.envManager.pythonIsNotInstalled",!t&&!e)}t.activate=function(e){e.subscriptions.push(i.commands.registerCommand("python.envManager.installPython",(async()=>{if(await n.pathExists(c.MICROMAMBA_EXE)){const e=[`Python is already setup via Micromamba. Please use Micromamba found here ${(0,a.getDisplayPath)(c.MICROMAMBA_EXE)}.`,`If it does not worker, then initialize your shell using the command '${(0,a.getDisplayPath)(c.MICROMAMBA_EXE)} shell init -s bash|zsh|cmd.exe|powershell|fish|xonsh -p ~/micromamba'.`];return void i.window.showInformationMessage(e.join(" \n"))}const e="More info",t=`Micromamba will downloaded into ${(0,a.getDisplayPath)(c.MICROMAMBA_DIR)} \n& Shell scripts will be updated to put Micromamba into the current path.`;switch(await i.window.showInformationMessage("Do you want to download and setup Python via Micromamba?",{modal:!0,detail:t},"Yes",e)){case e:i.env.openExternal(i.Uri.parse("https://mamba.readthedocs.io/en/latest/user_guide/micromamba.html"));break;case"Yes":await(0,u.installMicromamba)(l.refreshUntilNewEnvIsAvailable),await h()}}))),h()}},21511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBaseEnv=void 0;const n=r(55674),i=r(66828),o=r(18699),s=r(19735),a=r(81387),c=r(86905),u=r(92230);t.createBaseEnv=async function(e,t,r,l="3.9"){var h;try{e.report({message:`Creating Python ${l} environment`}),(0,s.traceInfo)(`Creating environment with Python ${l}`);const i=["install",`python=${l||"3.9"}`,"conda","-c","conda-forge","-y","-p",u.MICROMAMBA_ROOTPREFIX];(0,s.traceInfo)([u.MICROMAMBA_EXE].concat(i).join(" "));const p=await(0,o.execObservable)(u.MICROMAMBA_EXE,i,{timeout:12e4,token:t,shell:!0,env:{...process.env,TARGET_PREFIX:u.MICROMAMBA_ROOTPREFIX,ROOT_PREFIX:u.MICROMAMBA_ROOTPREFIX,MAMBA_ROOT_PREFIX:u.MICROMAMBA_ROOTPREFIX,MAMBA_EXE:u.MICROMAMBA_EXE}});if(null===(h=p.proc)||void 0===h||h.on("error",(e=>console.error("Conda create exited with an error",e))),await new Promise(((t,r)=>{p.out.subscribe({next:t=>{t.out.trim().length&&e.report({message:t.out}),(0,s.traceInfo)(t.out)},complete:()=>t(),error:e=>r(e)})})),!await n.pathExists(u.BASE_MICROMAMBA_PYTHON_EXE))throw new Error(`Please try running the following command in the terminal "${[u.MICROMAMBA_EXE].concat(i).join(" ")}"`);await(0,c.updateEnvironmentsTxt)(u.MICROMAMBA_ROOTPREFIX).catch((e=>(0,s.traceError)("Failed to update environments.txt",e))),e.report({message:"Waiting for environment to be detected"}),await r({path:u.BASE_MICROMAMBA_PYTHON_EXE,type:a.EnvironmentType.Conda})}catch(e){(0,s.traceError)("Failed to create environment",e),i.window.showErrorMessage(`Failed to create environment ${u.MICROMAMBA_ROOTPREFIX}, ${e.toString()}`)}}},92230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_MICROMAMBA_PYTHON_EXE=t.MICROMAMBA_EXE=t.CONDA_EXE=t.MICROMAMBA_BASE_ENV_NAME=t.MICROMAMBA_DIR=t.MICROMAMBA_ROOTPREFIX=void 0;const n=r(71017),i=r(87450),o=r(96645);t.MICROMAMBA_ROOTPREFIX=n.join((0,i.getUserHomeDir)()||o.home,"micromamba"),t.MICROMAMBA_DIR=n.join((0,i.getUserHomeDir)()||o.home,".micromamba"),t.MICROMAMBA_BASE_ENV_NAME="micromambaBase",t.CONDA_EXE=n.join(t.MICROMAMBA_ROOTPREFIX,"condabin",(0,i.getOSType)()===i.OSType.Windows?"conda.exe":"conda"),t.MICROMAMBA_EXE=n.join(t.MICROMAMBA_DIR,"bin",(0,i.getOSType)()===i.OSType.Windows?"micromamba.exe":"micromamba"),t.BASE_MICROMAMBA_PYTHON_EXE=n.join(t.MICROMAMBA_ROOTPREFIX,(0,i.getOSType)()===i.OSType.Windows?"Scripts":"bin",(0,i.getOSType)()===i.OSType.Windows?"python.exe":"python")},64091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMicroMambaInstalled=t.downloadMamba=t.activate=void 0;const n=r(55674),i=r(97998),o=r(48663),s=r(87450),a=r(92230),c=r(38218),u=r(95095);function l(){switch((0,s.getOSType)()){case s.OSType.Windows:return"https://micro.mamba.pm/api/micromamba/win-64/latest";case s.OSType.OSX:return"arm64"===process.arch?"https://micro.mamba.pm/api/micromamba/osx-arm64/latest":"https://micro.mamba.pm/api/micromamba/osx-64/latest";case s.OSType.Linux:default:return"https://micro.mamba.pm/api/micromamba/linux-64/latest"}}async function h(){return await n.ensureDir(a.MICROMAMBA_DIR),a.MICROMAMBA_DIR}t.activate=function(e){};const p=1048576;t.downloadMamba=async function(e,t){const[r,n]=await Promise.all([l(),h()]);return await new Promise(((s,a)=>{const l=o(r);t.onCancellationRequested((()=>{l.abort()})),u(l,{}).on("progress",(t=>{var r;const n=`Downloading Micromamba ${(100*t.percent).toFixed(0)}% (${(t.size.transferred/p).toFixed(2)} of ${(t.size.total/p).toFixed(2)}MB).`,i=(null===(r=t.time)||void 0===r?void 0:r.remaining)?` \nRemaining ${t.time.remaining.toFixed(0)}s`:"";e.report({message:`${n}${i}`}),console.log("progress",t)})).on("error",(e=>a(e))).pipe(c()).pipe(i.extract({cwd:n})).on("error",(e=>a(e))).on("end",(()=>s()))})),n},t.isMicroMambaInstalled=async function(){return n.pathExists(a.MICROMAMBA_EXE)}},83916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installMicromamba=void 0;const n=r(55674),i=r(66828),o=r(19735),s=r(92230),a=r(21511),c=r(30675),u=r(64091);t.installMicromamba=async function(e){await n.pathExists(s.MICROMAMBA_EXE)||await i.window.withProgress({location:i.ProgressLocation.Notification,cancellable:!0,title:"Setting up Python"},(async(t,r)=>{try{await(0,u.downloadMamba)(t,r),t.report({message:"Configuring Micromamba Shells"}),await(0,c.initializeMicromambaShells)(),await(0,a.createBaseEnv)(t,r,e),t.report({message:"Configuring Conda Shells"}),await(0,c.initializeCondaShells)(),t.report({message:"Updating user .vscode settings"}),await async function(){var e,t;const r=i.workspace.getConfiguration("python",void 0);(null===(e=r.inspect("condaPath"))||void 0===e?void 0:e.globalValue)||(null===(t=r.inspect("condaPath"))||void 0===t?void 0:t.globalValue)||r.update("condaPath",s.CONDA_EXE,i.ConfigurationTarget.Global)}()}catch(e){(0,o.traceError)("Failed to create Python environment"),i.window.showErrorMessage(`Failed to setup Python, see logs for more information. \n ${e.toString()}`)}})),(0,o.traceInfo)(`Mamba file loaded at ${s.MICROMAMBA_EXE}`)}},30675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeCondaShells=t.initializeMicromambaShells=void 0;const n=r(87450),i=r(37769);r(32727);const o=r(92230);t.initializeMicromambaShells=async function(){if((0,n.getOSType)()===n.OSType.Windows)await Promise.all([(0,i.exec)(o.MICROMAMBA_EXE,["shell","init","-s","cmd.exe","-p",o.MICROMAMBA_ROOTPREFIX.fileToCommandArgumentForPythonExt()]),(0,i.exec)(o.MICROMAMBA_EXE,["shell","init","-s","powershell","-p",o.MICROMAMBA_ROOTPREFIX.fileToCommandArgumentForPythonExt()])]);else{const e=await Promise.all([(0,i.exec)(o.MICROMAMBA_EXE,["shell","init","-s","bash","-p",o.MICROMAMBA_ROOTPREFIX.fileToCommandArgumentForPythonExt()]),(0,i.exec)(o.MICROMAMBA_EXE,["shell","init","-s","fish","-p",o.MICROMAMBA_ROOTPREFIX.fileToCommandArgumentForPythonExt()]),(0,i.exec)(o.MICROMAMBA_EXE,["shell","init","-s","xonsh","-p",o.MICROMAMBA_ROOTPREFIX.fileToCommandArgumentForPythonExt()]),(0,i.exec)(o.MICROMAMBA_EXE,["shell","init","-s","zsh","-p",o.MICROMAMBA_ROOTPREFIX.fileToCommandArgumentForPythonExt()])]);console.log(e)}},t.initializeCondaShells=async function(){const e=await(0,i.exec)(o.CONDA_EXE,["init","--all"],{shell:!0});console.log(e)}},10145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const n=r(66828),i=r(6184),o=r(64091),s=r(40078),a=r(49489),c=r(74533),u=r(80075),l=r(11599),h=r(5976),p=r(18639);t.registerTypes=function(e,t){const r=new h.PythonEnvironmentTreeDataProvider(e.get(p.IInterpreterService),t);t.subscriptions.push(r),t.subscriptions.push(n.commands.registerCommand("python.envManager.refresh",(()=>r.refresh(!0)))),n.window.createTreeView("pythonEnvironments",{treeDataProvider:r}),l.PackagesViewProvider.register(t),(0,i.activate)(t,e),(0,o.activate)(t),(0,s.activate)(t),(0,c.activate)(t),(0,a.activate)(t),(0,u.activate)(t)}},6184:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActivatedEnvVariables=t.activate=void 0;const n=r(66828),i=r(71017),o=r(55674),s=r(82818),a=r(58400),c=r(59314),u=r(48266),l=r(70057),h=r(90209),p=r(96645),d=r(19735),f=new Map;async function v(e,t,r=""){if(f.has(r))return f.get(r);const n=await(0,p.createTempFile)(),i=function(e,t){switch(e){case a.TerminalShellType.commandPrompt:return{command:`set > "${t}"`,parser:e=>{const t={};return e.split(/\r?\n/).forEach((e=>{if(-1===e.indexOf("="))return;const r=e.substring(0,e.indexOf("=")).trim(),n=e.substring(e.indexOf("=")+1).trim();t[r]=n})),t}};case a.TerminalShellType.powershell:case a.TerminalShellType.powershellCore:return{command:`Get-ChildItem env: | Out-File "${t}"`,parser:e=>{const t={};let r=!1;return e.split(/\r?\n/).forEach((e=>{if(e.startsWith("----"))return void(r=!0);if(!r)return;const n=e.substring(0,e.indexOf(" ")).trim(),i=e.substring(e.indexOf(" ")+1).trim();t[n]=i})),t}};default:{const e=e=>{const t={};return e.split(/\r?\n/).forEach((e=>{if(-1===e.indexOf("="))return;const r=e.substring(0,e.indexOf("=")).trim(),n=e.substring(e.indexOf("=")+1).trim();t[r]=n})),t};return{command:`printenv > "${t.replace(/\\/g,"/")}"`,parser:e}}}}(t,n.filePath);try{e.sendText(i.command);const t=new l.StopWatch;for(;t.elapsedTime<5e3&&!await o.pathExists(n.filePath);)await(0,c.sleep)(100);if(await o.pathExists(n.filePath)){const e=await o.readFile(n.filePath,"utf8"),t=i.parser(e);return f.set(r,t),t}return void(0,d.traceError)(`Env vars file not created command ${i.command}`)}catch(e){return void(0,d.traceError)(`Env vars file not created command ${i.command}`,e)}finally{n.dispose()}}async function y(e,t,r){const n=(0,h.getHashString)(t),s=function(e,t){switch(e){case a.TerminalShellType.commandPrompt:case a.TerminalShellType.powershell:case a.TerminalShellType.powershellCore:return{python:`\n@ECHO off\n"${t}"  %*\n`,pip:`\n@ECHO off\n"${t}" -m pip  %*\n`,extension:".cmd"};default:return{python:`#!/usr/bin/env bash\n"${t}"   "$@"\nret=$?\nexit $ret\n`,pip:`#!/usr/bin/env bash\n"${t}" -m pip   "$@"\nret=$?\nexit $ret\n`,extension:""}}}(e,t),c=i.join(r.globalStorageUri.fsPath,"symlinksV1",`python_${n}`),u=i.join(c,`python${s.extension}`),l=i.join(c,`pip${s.extension}`);return await o.pathExists(u)||(await o.ensureDir(c),await Promise.all([o.writeFile(u,s.python),o.writeFile(l,s.pip)]),await Promise.all([o.chmod(u,511),o.chmod(l,511)])),c}t.activate=function(e,t){n.workspace.onDidChangeConfiguration((()=>{f.clear()}),void 0,e.subscriptions),e.subscriptions.push(n.commands.registerCommand("python.envManager.openInTerminal",(async r=>{const o=t.get(a.ITerminalHelper),u=await async function(){if(n.workspace.workspaceFolders&&0!==n.workspace.workspaceFolders.length)return 1===n.workspace.workspaceFolders.length?n.workspace.workspaceFolders[0].uri:n.window.showWorkspaceFolderPick({placeHolder:"Select cwd for terminal"}).then((e=>null==e?void 0:e.uri))}(),l=r.env.envName?`Python ${r.env.envName}`:r.env.displayName;let h=n.window.createTerminal({hideFromUser:!0,name:l,cwd:u});const p=o.identifyTerminalShell(h),d=await o.getEnvironmentActivationCommands(p,u,r.env);if(Array.isArray(d)&&d.length>0){h.show(!1);for(const e of d||[])h.sendText(e),d.length>1&&await(0,c.sleep)(1e3)}else{if(s){const t=await async function(e,t,r){const n=await y(e,t,r);switch(e){case a.TerminalShellType.commandPrompt:case a.TerminalShellType.powershell:case a.TerminalShellType.powershellCore:return;default:return`export "PATH=${n}${i.delimiter}$PATH" && clear`}}(p,r.env.path,e);return h.dispose(),h=n.window.createTerminal({hideFromUser:!0,name:l,cwd:u}),t&&(h.sendText(t),await(0,c.sleep)(1e3)),void h.show(!1)}try{const[t,o]=await Promise.all([v(h,p,null==u?void 0:u.fsPath),y(p,r.env.path,e)]);h.dispose();const s={...t};["Path","PATH"].forEach((e=>{"string"==typeof s[e]&&(s[e]=`${o}${i.delimiter}${s[e]}`)})),n.window.createTerminal({hideFromUser:!1,name:l,cwd:u,env:s,strictEnv:!0}).show(!1)}catch(e){console.error(`Failed to create terminal for ${r.env.envType}:${r.env.path}`,e)}}})))};const m=new Map;t.getActivatedEnvVariables=async function(e,t,r,n){if(m.has(n))return m.get(n);const s=(async()=>{const s=await(0,p.createTempFile)();s.dispose();const a=e.buildCommandForTerminal(t,n,[i.join(u._SCRIPTS_DIR,"printEnvVariablesToFile.py"),s.filePath]);r.sendText(a);const h=new l.StopWatch;for(;h.elapsedTime<5e3&&!await o.pathExists(s.filePath);)await(0,c.sleep)(100);if(!await o.pathExists(s.filePath))throw new Error(`Failed to generate env vars for ${n}, with command ${a}`);try{return JSON.parse(await o.readFile(s.filePath,"utf8"))}catch(e){throw console.error(`Failed to parse activated env vars for ${n}, with command ${a}`,e),new Error(`Failed to parse activated env vars for ${n}, with command ${a}`)}})();return m.set(n,s),s.finally((()=>m.delete(n))),s}},12832:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEnv=t.canCreateVirtualEnv=t.deleteEnv=void 0;const n=r(55674),i=r(71017),o=r(66828),s=r(13706),a=r(18699),c=r(22207),u=r(19735),l=r(81387),h=r(96645);function p(e){return e.filter((e=>{switch(e.envType){case l.EnvironmentType.Global:case l.EnvironmentType.System:case l.EnvironmentType.Venv:case l.EnvironmentType.VirtualEnv:case l.EnvironmentType.VirtualEnvWrapper:case l.EnvironmentType.WindowsStore:return!0;default:return!1}})).sort(((e,t)=>{const r=e.version,n=t.version;return r&&n?r.major===n.major?r.minor===n.minor?r.patch===n.patch?0:r.patch>n.patch?-1:1:r.minor>n.minor?-1:1:r.major>n.major?-1:1:r&&!n?1:!r&&n?-1:0}))}t.deleteEnv=async function(e){if(e.envType!==l.EnvironmentType.Venv&&e.envType!==l.EnvironmentType.VirtualEnv&&e.envType!==l.EnvironmentType.VirtualEnvWrapper)return void(0,u.traceError)(`Cannot delete as its not a virtual environment ${(0,h.getEnvLoggingInfo)(e)}`);const t=i.dirname(e.path);if(!t.toLowerCase().endsWith("scripts")&&!t.toLowerCase().endsWith("bin"))return void(0,u.traceError)(`Cannot delete as its not a virtual environment with script/bin directory ${(0,h.getEnvLoggingInfo)(e)}`);const r=e.envPath||i.dirname(i.dirname(e.path));(0,u.traceVerbose)(`Deleting virtual environment ${(0,h.getEnvLoggingInfo)(e)}`),await n.remove(r)},t.canCreateVirtualEnv=function(e){return p(e).length},t.createEnv=async function(e){var t;const r=p(e);if(0===r.length)return void(0,u.traceError)("Cannot create a venv without an existing Python environment");const d=r.filter((e=>e.envType===l.EnvironmentType.Global)),f=(null===(t=o.workspace.workspaceFolders)||void 0===t?void 0:t.length)?o.workspace.workspaceFolders[0].uri:void 0,v=d.length?d[0]:r[0],y={dir:"",name:"",templateEnvironment:void 0},m=async(e,t)=>{const n=r.map((e=>({label:(0,h.getEnvDisplayInfo)(e),pythonEnvironment:e,picked:e===v,description:(0,h.getDisplayPath)(e.envPath||e.path)}))),i=await e.showQuickPick({title:"Select Python Environment to be used as a template for Virtual Environment",placeholder:"Select Python Environment",acceptFilterBoxTextAsSelection:!1,canGoBack:!1,matchOnDescription:!0,matchOnDetail:!0,sortByLabel:!1,step:3,totalSteps:3,items:n});t.templateEnvironment=null==i?void 0:i.pythonEnvironment},g=new c.MultiStepInput(new s.ApplicationShell);if(await g.run((async(e,t)=>{const r=await e.showInputBox({title:"Enter the name of the virtual environment",value:".venv",step:1,totalSteps:3,prompt:"Name",validate:async e=>{if(!e)return"Enter a name"}});if(r)return t.name=r.trim(),(async(e,t)=>{const r={iconPath:new o.ThemeIcon("folder"),tooltip:"Select a folder"};let s=!0;for(;s;){const a=()=>e.showInputBox({title:"Enter fully qualified path to where the venv would be created",value:(null==f?void 0:f.fsPath)||"",step:2,totalSteps:3,prompt:"Directory",validate:async e=>{if(!e&&!f)return"Please specify a directory or click the browse button";if(!e)return"Enter a name";if(!await n.pathExists(e))return"Invalid directory";const r=i.join(e,t.name);return await n.pathExists(r)?`Virtual folder '${(0,h.getDisplayPath)(r)}' already exists`:void 0},buttons:[r]}),c=await a();if(c===r){const r=await o.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,defaultUri:f,openLabel:"Select Folder",title:"Select destination for Virtual Environment"});if(Array.isArray(r)&&r.length){const a=i.join(r[0].fsPath,t.name);if(!await n.pathExists(a))return t.dir=r[0].fsPath,s=!1,m(e,t);o.window.showErrorMessage("A folder with the same name already exists",{modal:!0,detail:a})}}else if("string"==typeof c){s=!1;const r=i.join(c.trim(),t.name);if(await n.pathExists(c.trim())){if(!await n.pathExists(r))return t.dir=c.trim(),s=!1,m(e,t);o.window.showErrorMessage("A folder with the same name already exists",{modal:!0,detail:r})}else o.window.showErrorMessage("Invalid target directory for a Virtual Environment",{modal:!0,detail:c})}else s=!1}})(e,t)}),y),y.dir.trim()&&y.name.trim()&&y.templateEnvironment&&await n.pathExists(y.dir)&&!await n.pathExists(i.join(y.dir,y.name)))try{await o.window.withProgress({location:o.ProgressLocation.Notification,title:`Creating environment ${y.name}`,cancellable:!0},(async(e,t)=>{(0,u.traceInfo)(`Creating environment ${y.name}`),(0,u.traceInfo)([y.templateEnvironment.path,"-m","venv",y.name].join(" "));const r=await(0,a.execObservable)(y.templateEnvironment.path,["-m","venv",y.name],{timeout:6e4,cwd:y.dir,token:t});await new Promise((t=>{r.out.subscribe({next:t=>{(0,u.traceInfo)(t.out),e.report({message:t.out})},complete:()=>t()})}))})),o.commands.executeCommand("python.envManager.refresh")}catch(e){(0,u.traceError)("Failed to create environment",e),o.window.showErrorMessage(`Failed to create environment ${y.name}, ${e.toString()}`)}}},11599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PackagesViewProvider=void 0;const n=r(66828);class i{constructor(e){this._extensionUri=e,i.instance=this}static register(e){const t=new i(e.extensionUri);e.subscriptions.push(n.window.registerWebviewViewProvider(i.viewType,t))}resolveWebviewView(e,t,r){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage((e=>{var t;"colorSelected"===e.type&&(null===(t=n.window.activeTextEditor)||void 0===t||t.insertSnippet(new n.SnippetString(`#${e.value}`)))}))}addColor(){var e,t;this._view&&(null===(t=(e=this._view).show)||void 0===t||t.call(e,!0),this._view.webview.postMessage({type:"addColor"}))}clearColors(){this._view&&this._view.webview.postMessage({type:"clearColors"})}_getHtmlForWebview(e){const t=e.asWebviewUri(n.Uri.joinPath(this._extensionUri,"media","main.js")),r=e.asWebviewUri(n.Uri.joinPath(this._extensionUri,"media","reset.css")),i=e.asWebviewUri(n.Uri.joinPath(this._extensionUri,"media","vscode.css")),o=e.asWebviewUri(n.Uri.joinPath(this._extensionUri,"media","main.css")),s=function(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}();return`<!DOCTYPE html>\n\t\t\t<html lang="en">\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\x3c!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n\t\t\t\t--\x3e\n\t\t\t\t<meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src 'nonce-${s}';">\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<link href="${r}" rel="stylesheet">\n\t\t\t\t<link href="${i}" rel="stylesheet">\n\t\t\t\t<link href="${o}" rel="stylesheet">\n\n\t\t\t\t<title>Cat Colors</title>\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<ul class="color-list">\n\t\t\t\t</ul>\n\t\t\t\t<button class="add-color-button">Add Color</button>\n\t\t\t\t<script nonce="${s}" src="${t}"><\/script>\n\t\t\t</body>\n\t\t\t</html>`}}t.PackagesViewProvider=i,i.viewType="python.packages"},5976:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.refreshUntilNewEnvIsAvailable=t.PythonEnvironmentTreeDataProvider=void 0;const s=r(86700),a=r(96486),c=r(55674),u=r(71017),l=r(66828),h=r(87450),p=r(63281),d=r(18639),f=r(81387),v=r(86905),y=r(96645),m=r(3481),g=r(9526),b=r(59314);class _{constructor(e){this.pkg=e}}class E{constructor(e){this.type=e,this.environments=new Set}}class S{constructor(e){this.env=e}get id(){return(0,y.getEnvironmentId)(this.env)}}class w{constructor(e,t){this.label=e,this.value=t}}class T{constructor(e){var t;this.env=e,this.info=[];const r=e.envType===f.EnvironmentType.Conda&&!e.sysVersion;e.envName&&this.info.push(new w("Name",e.envName)),!e.envName&&e.envPath&&e.envType===f.EnvironmentType.Conda&&this.info.push(new w("Name",u.basename(e.envPath))),(null===(t=e.version)||void 0===t?void 0:t.raw)&&this.info.push(new w("Version",e.version.raw)),r||e.architecture===h.Architecture.Unknown||this.info.push(new w("Architecture",e.architecture===h.Architecture.x64?"64-bit":"32-bit")),!r&&e.path&&this.info.push(new w("Executable",(0,y.getDisplayPath)(e.path))),!r&&e.sysPrefix&&this.info.push(new w("SysPrefix",(0,y.getDisplayPath)(e.sysPrefix))),e.pipEnvWorkspaceFolder&&this.info.push(new w("Folder",(0,y.getDisplayPath)(e.pipEnvWorkspaceFolder))),this.info.push(new w("Environment Type",(0,y.getEnvironmentTypeName)(e.envType)))}}class P{constructor(e){this.env=e}}function I(e){return e.envName||u.basename(e.envPath||"")||u.basename(u.dirname(u.dirname(e.path)))}let O=n=class{constructor(e,t){this.interpreterService=e,this.context=t,this.interpreterInfo=new Map,this.environmentTypes=new Map,this._changeTreeData=new l.EventEmitter,this.onDidChangeTreeData=this._changeTreeData.event,n.instance=this,this.refreshInternal()}dispose(){this._changeTreeData.dispose()}async getTreeItem(e){var t;if(e instanceof S){const r=(null===(t=e.env.version)||void 0===t?void 0:t.raw)||"",n=I(e.env),i=new l.TreeItem(n+(r?` (${r})`:""),l.TreeItemCollapsibleState.Collapsed),o=e.env.envType===f.EnvironmentType.Conda&&!e.env.sysVersion,s=(0,y.getDisplayPath)(o&&e.env.envPath||e.env.path);i.tooltip=[r,s].filter((e=>!!e)).join("\n"),i.description=s;const a=(0,y.canEnvBeDeleted)(e.env.envType)?"canBeDeleted":"cannotBeDeleted";return i.contextValue=`env:${a}:${e.env.envType}`,i.iconPath=l.Uri.file(u.join(p.EXTENSION_ROOT_DIR,"resources/logo.svg")),i}if(e instanceof T){const e=new l.TreeItem("Info",l.TreeItemCollapsibleState.Collapsed);return e.contextValue="envInfo",e.iconPath=new l.ThemeIcon("info"),e}if(e instanceof _){const t=new l.TreeItem(e.pkg.name);return t.contextValue="package",t.description=e.pkg.version,"channel"in e.pkg&&(t.tooltip=[e.pkg.channel||"",e.pkg.base_url||""].filter((e=>e.trim().length)).join(": ")),t.iconPath=new l.ThemeIcon("library"),t}if(e instanceof P){const e=new l.TreeItem("Packages",l.TreeItemCollapsibleState.Collapsed);return e.contextValue="packageContainer",e.iconPath=new l.ThemeIcon("package"),e}if(e instanceof w){const t=new l.TreeItem(e.label);return t.description=e.value,t.contextValue="info",t}const r=new l.TreeItem((0,y.getEnvironmentTypeName)(e),l.TreeItemCollapsibleState.Collapsed),n=(0,y.canEnvBeCreated)(e)?"canCreate":"cannotCreate";return r.contextValue=`envType:${n}:${e}`,e===f.EnvironmentType.Conda&&this.condaInfo?r.description=this.condaInfo.conda_version:e===f.EnvironmentType.Pyenv&&this.pyEnvVersion&&(r.description=this.pyEnvVersion),r.iconPath=new l.ThemeIcon("folder-library"),r}async getChildren(e){if(!e)return Array.from(this.environmentTypes.keys()).sort();if(e instanceof _)return[];if(e instanceof T)return e.info;if(e instanceof w)return[];if(e instanceof S)return[new T(e.env),new P(e.env)];if(e instanceof P)return(0,v.getPackages)(e.env).then((e=>e.map((e=>new _(e)))));const t=this.environmentTypes.get(e);return t?Array.from(t.environments).map((e=>this.interpreterInfo.get(e))).sort(((e,t)=>I(e.env).localeCompare(I(t.env)))):[]}async refresh(e=!1){await this.interpreterService.triggerRefresh({clearCache:e}),await this.refreshInternal(e)}async refreshInternal(e=!1){this.refreshToolVersions();const t=await this.refreshEnvironments();this.buildEnvironments(t),await(0,g.clearCacheIfNewVersionInstalled)(this.context,e),await this.refreshToolVersions()}async refreshToolVersions(){await(0,v.getCondaVersion)().then((e=>{e&&(this.condaInfo=e,this.environmentTypes.has(f.EnvironmentType.Conda)&&this._changeTreeData.fire(f.EnvironmentType.Conda))})).catch(m.noop),await(0,v.getPyEnvVersion)().then((e=>{e&&(this.pyEnvVersion=e,this.environmentTypes.has(f.EnvironmentType.Pyenv)&&this._changeTreeData.fire(f.EnvironmentType.Pyenv))})).catch(m.noop)}buildEnvironments(e){n.environments=e;const t=new Set;let r=!1;const i=new Set,o=new Set;e.forEach((e=>{const n=(0,y.getEnvironmentId)(e);i.add(e.envType),o.add(n);const s=this.interpreterInfo.get(n);s?JSON.stringify(s.env)!==JSON.stringify(e)&&(s.env=e,t.add(n)):(r=!0,t.add(n),this.interpreterInfo.set(n,new S(e)));const a=e.envType;let c=this.environmentTypes.get(a);c?c.environments.has(n)||(r=!0,c.environments.add(n)):(r=!0,c=new E(a),c.environments.add(n),this.environmentTypes.set(a,c))})),i.size!==this.environmentTypes.size&&Array.from(this.environmentTypes.keys()).filter((e=>!i.has(e))).forEach((e=>{this.environmentTypes.delete(e),r=!0})),this.environmentTypes.forEach((e=>{Array.from(e.environments).filter((e=>!o.has(e))).forEach((t=>{e.environments.delete(t),r=!0}))})),r&&this._changeTreeData.fire()}async refreshEnvironments(){const e=[],t=Promise.all(this.context.globalState.get(g.EnvironmentsCacheMementoKey,[]).map((async t=>{await c.pathExists(t.path)&&e.push(t)}))),r=await Promise.all([...(l.workspace.workspaceFolders||[]).map((async e=>this.interpreterService.getAllInterpreters(e.uri))),this.interpreterService.getAllInterpreters(void 0)]);await t.catch(m.noop);const n=new Map;e.forEach((e=>n.set((0,y.getEnvironmentId)(e),e))),(0,a.flatten)(r).forEach((e=>n.set((0,y.getEnvironmentId)(e),e)));const i=Array.from(n.values());return await this.context.globalState.update(g.EnvironmentsCacheMementoKey,i),i}};O=n=i([(0,s.injectable)(),o(0,(0,s.inject)(d.IInterpreterService))],O),t.PythonEnvironmentTreeDataProvider=O,t.refreshUntilNewEnvIsAvailable=async function(e){const t=O.environments.length;for(let r=0;r<5;r+=1){if(await O.instance.refresh(),!e.path&&!e.name||O.environments.length>t||O.environments.some((t=>{if(e.type===t.envType)return!!(e.name&&t.envName&&t.envName.includes(e.name))||!(!e.path||!(t.envPath||t.path).includes(e.path))})))return;(0,b.sleep)(2e3)}}},3901:(e,t,r)=>{var n=r(32081),i=r(57147),o=r(71017);e.exports=function(){if("x64"===process.arch)return"x64";if("darwin"===process.platform)return"x64";if("win32"===process.platform){var e=!1;try{e=!(!process.env.SYSTEMROOT||!i.statSync(process.env.SYSTEMROOT))}catch(e){}var t=e?process.env.SYSTEMROOT:"C:\\Windows",r=!1;try{r=!!i.statSync(o.join(t,"sysnative"))}catch(e){}return r?"x64":"x86"}return"linux"===process.platform&&"64\n"===n.execSync("getconf LONG_BIT",{encoding:"utf8"})?"x64":"x86"}},5623:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=r(e,i)),t instanceof RegExp&&(t=r(t,i));var o=n(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function n(e,t,r){var n,i,o,s,a,c=r.indexOf(e),u=r.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(n=[],o=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(e,l+1)):1==n.length?a=[n.pop(),u]:((i=n.pop())<o&&(o=i,s=u),u=r.indexOf(t,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}e.exports=t,t.range=n},3644:(e,t,r)=>{var n=r(11048),i=r(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),m(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(h)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function p(e){if(!e)return[""];var t=[],r=i("{","}",e);if(!r)return e.split(",");var n=r.pre,o=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+o+"}";var c=p(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function d(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function v(e,t){return e<=t}function y(e,t){return e>=t}function m(e,t){var r=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),h=c||u,g=o.body.indexOf(",")>=0;if(!h&&!g)return o.post.match(/,.*\}/)?m(e=o.pre+"{"+o.body+a+o.post):[e];if(h)s=o.body.split(/\.\./);else if(1===(s=p(o.body)).length&&1===(s=m(s[0],!1).map(d)).length)return(E=o.post.length?m(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var b,_=o.pre,E=o.post.length?m(o.post,!1):[""];if(h){var S=l(s[0]),w=l(s[1]),T=Math.max(s[0].length,s[1].length),P=3==s.length?Math.abs(l(s[2])):1,I=v;w<S&&(P*=-1,I=y);var O=s.some(f);b=[];for(var C=S;I(C,w);C+=P){var A;if(u)"\\"===(A=String.fromCharCode(C))&&(A="");else if(A=String(C),O){var x=T-A.length;if(x>0){var R=new Array(x+1).join("0");A=C<0?"-"+R+A.slice(1):R+A}}b.push(A)}}else b=n(s,(function(e){return m(e,!1)}));for(var N=0;N<b.length;N++)for(var k=0;k<E.length;k++){var D=_+b[N]+E[k];(!t||h||D)&&r.push(D)}return r}},40487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},11048:e=>{e.exports=function(e,r){for(var n=[],i=0;i<e.length;i++){var o=r(e[i],i);t(o)?n.push.apply(n,o):n.push(o)}return n};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},71012:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?r.push(t.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}},e.exports=r},83873:(e,t,r)=>{"use strict";const n=r(20077),i=r(71017),o=r(11381).mkdirsSync,s=r(80318).utimesMillisSync,a=r(42733);function c(e,t,r,o){const s=(o.dereference?n.statSync:n.lstatSync)(t);if(s.isDirectory())return function(e,t,r,i,o){return t?h(r,i,o):function(e,t,r,i){return n.mkdirSync(r),h(t,r,i),l(r,e)}(e.mode,r,i,o)}(s,e,t,r,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,r,i,o){return t?function(e,t,r,i){if(i.overwrite)return n.unlinkSync(r),u(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(e,r,i,o):u(e,r,i,o)}(s,e,t,r,o);if(s.isSymbolicLink())return function(e,t,r,o){let s=n.readlinkSync(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),e){let e;try{e=n.readlinkSync(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return n.symlinkSync(s,r);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(n.statSync(r).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return n.unlinkSync(t),n.symlinkSync(e,t)}(s,r)}return n.symlinkSync(s,r)}(e,t,r,o);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function u(e,t,r,i){return n.copyFileSync(t,r),i.preserveTimestamps&&function(e,t,r){(function(e){return 0==(128&e)})(e)&&function(e,t){l(e,128|t)}(r,e),function(e,t){const r=n.statSync(e);s(t,r.atime,r.mtime)}(t,r)}(e.mode,t,r),l(r,e.mode)}function l(e,t){return n.chmodSync(e,t)}function h(e,t,r){n.readdirSync(e).forEach((n=>function(e,t,r,n){const o=i.join(t,e),s=i.join(r,e),{destStat:u}=a.checkPathsSync(o,s,"copy",n);return function(e,t,r,n){if(!n.filter||n.filter(t,r))return c(e,t,r,n)}(u,o,s,n)}(n,e,t,r)))}e.exports=function(e,t,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:u}=a.checkPathsSync(e,t,"copy",r);return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,r,s){if(s.filter&&!s.filter(t,r))return;const a=i.dirname(r);return n.existsSync(a)||o(a),c(e,t,r,s)}(u,e,t,r)}},67189:(e,t,r)=>{"use strict";const n=r(20077),i=r(71017),o=r(11381).mkdirs,s=r(99257).pathExists,a=r(80318).utimesMillis,c=r(42733);function u(e,t,r,n,a){const c=i.dirname(r);s(c,((i,s)=>i?a(i):s?h(e,t,r,n,a):void o(c,(i=>i?a(i):h(e,t,r,n,a)))))}function l(e,t,r,n,i,o){Promise.resolve(i.filter(r,n)).then((s=>s?e(t,r,n,i,o):o()),(e=>o(e)))}function h(e,t,r,o,s){(o.dereference?n.stat:n.lstat)(t,((a,u)=>a?s(a):u.isDirectory()?function(e,t,r,i,o,s){return t?v(r,i,o,s):function(e,t,r,i,o){n.mkdir(r,(n=>{if(n)return o(n);v(t,r,i,(t=>t?o(t):f(r,e,o)))}))}(e.mode,r,i,o,s)}(u,e,t,r,o,s):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?function(e,t,r,i,o,s){return t?function(e,t,r,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${r}' already exists`)):o();n.unlink(r,(n=>n?o(n):p(e,t,r,i,o)))}(e,r,i,o,s):p(e,r,i,o,s)}(u,e,t,r,o,s):u.isSymbolicLink()?function(e,t,r,o,s){n.readlink(t,((t,a)=>t?s(t):(o.dereference&&(a=i.resolve(process.cwd(),a)),e?void n.readlink(r,((t,u)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?n.symlink(a,r,s):s(t):(o.dereference&&(u=i.resolve(process.cwd(),u)),c.isSrcSubdir(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&c.isSrcSubdir(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(e,t,r){n.unlink(t,(i=>i?r(i):n.symlink(e,t,r)))}(a,r,s)))):n.symlink(a,r,s))))}(e,t,r,o,s):u.isSocket()?s(new Error(`Cannot copy a socket file: ${t}`)):u.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${t}`)):s(new Error(`Unknown file: ${t}`))))}function p(e,t,r,i,o){n.copyFile(t,r,(n=>n?o(n):i.preserveTimestamps?function(e,t,r,n){return function(e){return 0==(128&e)}(e)?function(e,t,r){return f(e,128|t,r)}(r,e,(i=>i?n(i):d(e,t,r,n))):d(e,t,r,n)}(e.mode,t,r,o):f(r,e.mode,o)))}function d(e,t,r,i){!function(e,t,r){n.stat(e,((e,n)=>e?r(e):a(t,n.atime,n.mtime,r)))}(t,r,(t=>t?i(t):f(r,e,i)))}function f(e,t,r){return n.chmod(e,t,r)}function v(e,t,r,i){n.readdir(e,((n,o)=>n?i(n):y(o,e,t,r,i)))}function y(e,t,r,n,o){const s=e.pop();return s?function(e,t,r,n,o,s){const a=i.join(r,t),u=i.join(n,t);c.checkPaths(a,u,"copy",o,((t,i)=>{if(t)return s(t);const{destStat:c}=i;!function(e,t,r,n,i){n.filter?l(h,e,t,r,n,i):h(e,t,r,n,i)}(c,a,u,o,(t=>t?s(t):y(e,r,n,o,s)))}))}(e,s,t,r,n,o):o()}e.exports=function(e,t,r,n){"function"!=typeof r||n?"function"==typeof r&&(r={filter:r}):(n=r,r={}),n=n||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",r,((i,o)=>{if(i)return n(i);const{srcStat:s,destStat:a}=o;c.checkParentPaths(e,s,t,"copy",(i=>i?n(i):r.filter?l(u,a,e,t,r,n):u(a,e,t,r,n)))}))}},66464:(e,t,r)=>{"use strict";const n=r(93451).fromCallback;e.exports={copy:n(r(67189)),copySync:r(83873)}},15590:(e,t,r)=>{"use strict";const n=r(93451).fromPromise,i=r(67749),o=r(71017),s=r(11381),a=r(54542),c=n((async function(e){let t;try{t=await i.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map((t=>a.remove(o.join(e,t)))))}));function u(e){let t;try{t=i.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},36530:(e,t,r)=>{"use strict";const n=r(93451).fromCallback,i=r(71017),o=r(20077),s=r(11381);e.exports={createFile:n((function(e,t){function r(){o.writeFile(e,"",(e=>{if(e)return t(e);t()}))}o.stat(e,((n,a)=>{if(!n&&a.isFile())return t();const c=i.dirname(e);o.stat(c,((e,n)=>{if(e)return"ENOENT"===e.code?s.mkdirs(c,(e=>{if(e)return t(e);r()})):t(e);n.isDirectory()?r():o.readdir(c,(e=>{if(e)return t(e)}))}))}))})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const r=i.dirname(e);try{o.statSync(r).isDirectory()||o.readdirSync(r)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(r)}o.writeFileSync(e,"")}}},21720:(e,t,r)=>{"use strict";const{createFile:n,createFileSync:i}=r(36530),{createLink:o,createLinkSync:s}=r(54147),{createSymlink:a,createSymlinkSync:c}=r(83635);e.exports={createFile:n,createFileSync:i,ensureFile:n,ensureFileSync:i,createLink:o,createLinkSync:s,ensureLink:o,ensureLinkSync:s,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},54147:(e,t,r)=>{"use strict";const n=r(93451).fromCallback,i=r(71017),o=r(20077),s=r(11381),a=r(99257).pathExists,{areIdentical:c}=r(42733);e.exports={createLink:n((function(e,t,r){function n(e,t){o.link(e,t,(e=>{if(e)return r(e);r(null)}))}o.lstat(t,((u,l)=>{o.lstat(e,((o,u)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(l&&c(u,l))return r(null);const h=i.dirname(t);a(h,((i,o)=>i?r(i):o?n(e,t):void s.mkdirs(h,(i=>{if(i)return r(i);n(e,t)}))))}))}))})),createLinkSync:function(e,t){let r;try{r=o.lstatSync(t)}catch{}try{const t=o.lstatSync(e);if(r&&c(t,r))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=i.dirname(t);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(e,t)}}},6072:(e,t,r)=>{"use strict";const n=r(71017),i=r(20077),o=r(99257).pathExists;e.exports={symlinkPaths:function(e,t,r){if(n.isAbsolute(e))return i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:e})));{const s=n.dirname(t),a=n.join(s,e);return o(a,((t,o)=>t?r(t):o?r(null,{toCwd:a,toDst:e}):i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:n.relative(s,e)})))))}},symlinkPathsSync:function(e,t){let r;if(n.isAbsolute(e)){if(r=i.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=n.dirname(t),s=n.join(o,e);if(r=i.existsSync(s),r)return{toCwd:s,toDst:e};if(r=i.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(o,e)}}}}},89259:(e,t,r)=>{"use strict";const n=r(20077);e.exports={symlinkType:function(e,t,r){if(r="function"==typeof t?t:r,t="function"!=typeof t&&t)return r(null,t);n.lstat(e,((e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file",r(null,t)}))},symlinkTypeSync:function(e,t){let r;if(t)return t;try{r=n.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}}},83635:(e,t,r)=>{"use strict";const n=r(93451).fromCallback,i=r(71017),o=r(67749),s=r(11381),a=s.mkdirs,c=s.mkdirsSync,u=r(6072),l=u.symlinkPaths,h=u.symlinkPathsSync,p=r(89259),d=p.symlinkType,f=p.symlinkTypeSync,v=r(99257).pathExists,{areIdentical:y}=r(42733);function m(e,t,r,n){l(e,t,((s,c)=>{if(s)return n(s);e=c.toDst,d(c.toCwd,r,((r,s)=>{if(r)return n(r);const c=i.dirname(t);v(c,((r,i)=>r?n(r):i?o.symlink(e,t,s,n):void a(c,(r=>{if(r)return n(r);o.symlink(e,t,s,n)}))))}))}))}e.exports={createSymlink:n((function(e,t,r,n){n="function"==typeof r?r:n,r="function"!=typeof r&&r,o.lstat(t,((i,s)=>{!i&&s.isSymbolicLink()?Promise.all([o.stat(e),o.stat(t)]).then((([i,o])=>{if(y(i,o))return n(null);m(e,t,r,n)})):m(e,t,r,n)}))})),createSymlinkSync:function(e,t,r){let n;try{n=o.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const r=o.statSync(e),n=o.statSync(t);if(y(r,n))return}const s=h(e,t);e=s.toDst,r=f(s.toCwd,r);const a=i.dirname(t);return o.existsSync(a)||c(a),o.symlinkSync(e,t,r)}}},67749:(e,t,r)=>{"use strict";const n=r(93451).fromCallback,i=r(20077),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.assign(t,i),o.forEach((e=>{t[e]=n(i[e])})),t.realpath.native=n(i.realpath.native),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,r,n,o,s){return"function"==typeof s?i.read(e,t,r,n,o,s):new Promise(((s,a)=>{i.read(e,t,r,n,o,((e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})}))}))},t.write=function(e,t,...r){return"function"==typeof r[r.length-1]?i.write(e,t,...r):new Promise(((n,o)=>{i.write(e,t,...r,((e,t,r)=>{if(e)return o(e);n({bytesWritten:t,buffer:r})}))}))},"function"==typeof i.writev&&(t.writev=function(e,t,...r){return"function"==typeof r[r.length-1]?i.writev(e,t,...r):new Promise(((n,o)=>{i.writev(e,t,...r,((e,t,r)=>{if(e)return o(e);n({bytesWritten:t,buffers:r})}))}))})},55674:(e,t,r)=>{"use strict";e.exports={...r(67749),...r(66464),...r(15590),...r(21720),...r(46573),...r(11381),...r(80530),...r(54670),...r(99257),...r(54542)}},46573:(e,t,r)=>{"use strict";const n=r(93451).fromPromise,i=r(7183);i.outputJson=n(r(43508)),i.outputJsonSync=r(39578),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},7183:(e,t,r)=>{"use strict";const n=r(80771);e.exports={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync}},39578:(e,t,r)=>{"use strict";const{stringify:n}=r(4611),{outputFileSync:i}=r(54670);e.exports=function(e,t,r){const o=n(t,r);i(e,o,r)}},43508:(e,t,r)=>{"use strict";const{stringify:n}=r(4611),{outputFile:i}=r(54670);e.exports=async function(e,t,r={}){const o=n(t,r);await i(e,o,r)}},11381:(e,t,r)=>{"use strict";const n=r(93451).fromPromise,{makeDir:i,makeDirSync:o}=r(18233),s=n(i);e.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},18233:(e,t,r)=>{"use strict";const n=r(67749),{checkPath:i}=r(33468),o=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(i(e),n.mkdir(e,{mode:o(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(i(e),n.mkdirSync(e,{mode:o(t),recursive:!0}))},33468:(e,t,r)=>{"use strict";const n=r(71017);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(n.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},80530:(e,t,r)=>{"use strict";const n=r(93451).fromCallback;e.exports={move:n(r(436)),moveSync:r(43736)}},43736:(e,t,r)=>{"use strict";const n=r(20077),i=r(71017),o=r(66464).copySync,s=r(54542).removeSync,a=r(11381).mkdirpSync,c=r(42733);function u(e,t,r){try{n.renameSync(e,t)}catch(n){if("EXDEV"!==n.code)throw n;return function(e,t,r){return o(e,t,{overwrite:r,errorOnExist:!0}),s(e)}(e,t,r)}}e.exports=function(e,t,r){const o=(r=r||{}).overwrite||r.clobber||!1,{srcStat:l,isChangingCase:h=!1}=c.checkPathsSync(e,t,"move",r);return c.checkParentPathsSync(e,l,t,"move"),function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)||a(i.dirname(t)),function(e,t,r,i){if(i)return u(e,t,r);if(r)return s(t),u(e,t,r);if(n.existsSync(t))throw new Error("dest already exists.");return u(e,t,r)}(e,t,o,h)}},436:(e,t,r)=>{"use strict";const n=r(20077),i=r(71017),o=r(66464).copy,s=r(54542).remove,a=r(11381).mkdirp,c=r(99257).pathExists,u=r(42733);function l(e,t,r,n,i){return n?h(e,t,r,i):r?s(t,(n=>n?i(n):h(e,t,r,i))):void c(t,((n,o)=>n?i(n):o?i(new Error("dest already exists.")):h(e,t,r,i)))}function h(e,t,r,i){n.rename(e,t,(n=>n?"EXDEV"!==n.code?i(n):function(e,t,r,n){o(e,t,{overwrite:r,errorOnExist:!0},(t=>t?n(t):s(e,n)))}(e,t,r,i):i()))}e.exports=function(e,t,r,n){"function"==typeof r&&(n=r,r={});const o=r.overwrite||r.clobber||!1;u.checkPaths(e,t,"move",r,((r,s)=>{if(r)return n(r);const{srcStat:c,isChangingCase:h=!1}=s;u.checkParentPaths(e,c,t,"move",(r=>r?n(r):function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)?l(e,t,o,h,n):void a(i.dirname(t),(r=>r?n(r):l(e,t,o,h,n)))))}))}},54670:(e,t,r)=>{"use strict";const n=r(93451).fromCallback,i=r(20077),o=r(71017),s=r(11381),a=r(99257).pathExists;e.exports={outputFile:n((function(e,t,r,n){"function"==typeof r&&(n=r,r="utf8");const c=o.dirname(e);a(c,((o,a)=>o?n(o):a?i.writeFile(e,t,r,n):void s.mkdirs(c,(o=>{if(o)return n(o);i.writeFile(e,t,r,n)}))))})),outputFileSync:function(e,...t){const r=o.dirname(e);if(i.existsSync(r))return i.writeFileSync(e,...t);s.mkdirsSync(r),i.writeFileSync(e,...t)}}},99257:(e,t,r)=>{"use strict";const n=r(93451).fromPromise,i=r(67749);e.exports={pathExists:n((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},54542:(e,t,r)=>{"use strict";const n=r(20077),i=r(93451).fromCallback,o=r(33456);e.exports={remove:i((function(e,t){if(n.rm)return n.rm(e,{recursive:!0,force:!0},t);o(e,t)})),removeSync:function(e){if(n.rmSync)return n.rmSync(e,{recursive:!0,force:!0});o.sync(e)}}},33456:(e,t,r)=>{"use strict";const n=r(20077),i=r(71017),o=r(39491),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||n[t],e[t+="Sync"]=e[t]||n[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,r){let n=0;"function"==typeof t&&(r=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof r,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&n<t.maxBusyTries)return n++,setTimeout((()=>u(e,t,i)),100*n);"ENOENT"===o.code&&(o=null)}r(o)}))}function u(e,t,r){o(e),o(t),o("function"==typeof r),t.lstat(e,((n,i)=>n&&"ENOENT"===n.code?r(null):n&&"EPERM"===n.code&&s?l(e,t,n,r):i&&i.isDirectory()?p(e,t,n,r):void t.unlink(e,(n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return s?l(e,t,n,r):p(e,t,n,r);if("EISDIR"===n.code)return p(e,t,n,r)}return r(n)}))))}function l(e,t,r,n){o(e),o(t),o("function"==typeof n),t.chmod(e,438,(i=>{i?n("ENOENT"===i.code?null:r):t.stat(e,((i,o)=>{i?n("ENOENT"===i.code?null:r):o.isDirectory()?p(e,t,r,n):t.unlink(e,n)}))}))}function h(e,t,r){let n;o(e),o(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw r}try{n=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}n.isDirectory()?f(e,t,r):t.unlinkSync(e)}function p(e,t,r,n){o(e),o(t),o("function"==typeof n),t.rmdir(e,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?n(r):n(s):function(e,t,r){o(e),o(t),o("function"==typeof r),t.readdir(e,((n,o)=>{if(n)return r(n);let s,a=o.length;if(0===a)return t.rmdir(e,r);o.forEach((n=>{c(i.join(e,n),t,(n=>{if(!s)return n?r(s=n):void(0==--a&&t.rmdir(e,r))}))}))}))}(e,t,n)}))}function d(e,t){let r;a(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&s&&h(e,t,r)}try{r&&r.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return s?h(e,t,r):f(e,t,r);if("EISDIR"!==r.code)throw r;f(e,t,r)}}function f(e,t,r){o(e),o(t);try{t.rmdirSync(e)}catch(n){if("ENOTDIR"===n.code)throw r;if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)!function(e,t){if(o(e),o(t),t.readdirSync(e).forEach((r=>d(i.join(e,r),t))),!s)return t.rmdirSync(e,t);{const r=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-r<500)}}(e,t);else if("ENOENT"!==n.code)throw n}}e.exports=c,c.sync=d},42733:(e,t,r)=>{"use strict";const n=r(67749),i=r(71017),o=r(73837);function s(e,t,r){const i=r.dereference?e=>n.stat(e,{bigint:!0}):e=>n.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}function a(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function c(e,t){const r=i.resolve(e).split(i.sep).filter((e=>e)),n=i.resolve(t).split(i.sep).filter((e=>e));return r.reduce(((e,t,r)=>e&&n[r]===t),!0)}function u(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,r,n,l){o.callbackify(s)(e,t,n,((n,o)=>{if(n)return l(n);const{srcStat:s,destStat:h}=o;if(h){if(a(s,h)){const n=i.basename(e),o=i.basename(t);return"move"===r&&n!==o&&n.toLowerCase()===o.toLowerCase()?l(null,{srcStat:s,destStat:h,isChangingCase:!0}):l(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!h.isDirectory())return l(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&h.isDirectory())return l(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&c(e,t)?l(new Error(u(e,t,r))):l(null,{srcStat:s,destStat:h})}))},checkPathsSync:function(e,t,r,o){const{srcStat:s,destStat:l}=function(e,t,r){let i;const o=r.dereference?e=>n.statSync(e,{bigint:!0}):e=>n.lstatSync(e,{bigint:!0}),s=o(e);try{i=o(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:i}}(e,t,o);if(l){if(a(s,l)){const n=i.basename(e),o=i.basename(t);if("move"===r&&n!==o&&n.toLowerCase()===o.toLowerCase())return{srcStat:s,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&c(e,t))throw new Error(u(e,t,r));return{srcStat:s,destStat:l}},checkParentPaths:function e(t,r,o,s,c){const l=i.resolve(i.dirname(t)),h=i.resolve(i.dirname(o));if(h===l||h===i.parse(h).root)return c();n.stat(h,{bigint:!0},((n,i)=>n?"ENOENT"===n.code?c():c(n):a(r,i)?c(new Error(u(t,o,s))):e(t,r,h,s,c)))},checkParentPathsSync:function e(t,r,o,s){const c=i.resolve(i.dirname(t)),l=i.resolve(i.dirname(o));if(l===c||l===i.parse(l).root)return;let h;try{h=n.statSync(l,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(r,h))throw new Error(u(t,o,s));return e(t,r,l,s)},isSrcSubdir:c,areIdentical:a}},80318:(e,t,r)=>{"use strict";const n=r(20077);e.exports={utimesMillis:function(e,t,r,i){n.open(e,"r+",((e,o)=>{if(e)return i(e);n.futimes(o,t,r,(e=>{n.close(o,(t=>{i&&i(e||t)}))}))}))},utimesMillisSync:function(e,t,r){const i=n.openSync(e,"r+");return n.futimesSync(i,t,r),n.closeSync(i)}}},80771:(e,t,r)=>{let n;try{n=r(20077)}catch(e){n=r(57147)}const i=r(93451),{stringify:o,stripBom:s}=r(4611),a={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,o=!("throws"in t)||t.throws;let a,c=await i.fromCallback(r.readFile)(e,t);c=s(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,i=!("throws"in t)||t.throws;try{let n=r.readFileSync(e,t);return n=s(n),JSON.parse(n,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,r={}){const s=r.fs||n,a=o(t,r);await i.fromCallback(s.writeFile)(e,a,r)})),writeFileSync:function(e,t,r={}){const i=r.fs||n,s=o(t,r);return i.writeFileSync(e,s,r)}};e.exports=a},4611:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:i}={}){const o=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},93451:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((r,n)=>{e.call(this,...t,((e,t)=>null!=e?n(e):r(t)))}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then((e=>r(null,e)),r)}),"name",{value:e.name})}},10292:(e,t,r)=>{"use strict";const n=r(35736),i=r(82361).EventEmitter,o=r(57147);let s=o.writev;if(!s){const e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;s=(r,n,i,o)=>{const s=new t;s.oncomplete=(e,t)=>o(e,t,n),e.writeBuffers(r,n,i,s)}}const a=Symbol("_autoClose"),c=Symbol("_close"),u=Symbol("_ended"),l=Symbol("_fd"),h=Symbol("_finished"),p=Symbol("_flags"),d=Symbol("_flush"),f=Symbol("_handleChunk"),v=Symbol("_makeBuf"),y=Symbol("_mode"),m=Symbol("_needDrain"),g=Symbol("_onerror"),b=Symbol("_onopen"),_=Symbol("_onread"),E=Symbol("_onwrite"),S=Symbol("_open"),w=Symbol("_path"),T=Symbol("_pos"),P=Symbol("_queue"),I=Symbol("_read"),O=Symbol("_readSize"),C=Symbol("_reading"),A=Symbol("_remain"),x=Symbol("_size"),R=Symbol("_write"),N=Symbol("_writing"),k=Symbol("_defaultFlag"),D=Symbol("_errored");class M extends n{constructor(e,t){if(super(t=t||{}),this.readable=!0,this.writable=!1,"string"!=typeof e)throw new TypeError("path must be a string");this[D]=!1,this[l]="number"==typeof t.fd?t.fd:null,this[w]=e,this[O]=t.readSize||16777216,this[C]=!1,this[x]="number"==typeof t.size?t.size:1/0,this[A]=this[x],this[a]="boolean"!=typeof t.autoClose||t.autoClose,"number"==typeof this[l]?this[I]():this[S]()}get fd(){return this[l]}get path(){return this[w]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[S](){o.open(this[w],"r",((e,t)=>this[b](e,t)))}[b](e,t){e?this[g](e):(this[l]=t,this.emit("open",t),this[I]())}[v](){return Buffer.allocUnsafe(Math.min(this[O],this[A]))}[I](){if(!this[C]){this[C]=!0;const e=this[v]();if(0===e.length)return process.nextTick((()=>this[_](null,0,e)));o.read(this[l],e,0,e.length,null,((e,t,r)=>this[_](e,t,r)))}}[_](e,t,r){this[C]=!1,e?this[g](e):this[f](t,r)&&this[I]()}[c](){if(this[a]&&"number"==typeof this[l]){const e=this[l];this[l]=null,o.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}[g](e){this[C]=!0,this[c](),this.emit("error",e)}[f](e,t){let r=!1;return this[A]-=e,e>0&&(r=super.write(e<t.length?t.slice(0,e):t)),(0===e||this[A]<=0)&&(r=!1,this[c](),super.end()),r}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":"number"==typeof this[l]&&this[I]();break;case"error":if(this[D])return;return this[D]=!0,super.emit(e,t);default:return super.emit(e,t)}}}class j extends i{constructor(e,t){super(t=t||{}),this.readable=!1,this.writable=!0,this[D]=!1,this[N]=!1,this[u]=!1,this[m]=!1,this[P]=[],this[w]=e,this[l]="number"==typeof t.fd?t.fd:null,this[y]=void 0===t.mode?438:t.mode,this[T]="number"==typeof t.start?t.start:null,this[a]="boolean"!=typeof t.autoClose||t.autoClose;const r=null!==this[T]?"r+":"w";this[k]=void 0===t.flags,this[p]=this[k]?r:t.flags,null===this[l]&&this[S]()}emit(e,t){if("error"===e){if(this[D])return;this[D]=!0}return super.emit(e,t)}get fd(){return this[l]}get path(){return this[w]}[g](e){this[c](),this[N]=!0,this.emit("error",e)}[S](){o.open(this[w],this[p],this[y],((e,t)=>this[b](e,t)))}[b](e,t){this[k]&&"r+"===this[p]&&e&&"ENOENT"===e.code?(this[p]="w",this[S]()):e?this[g](e):(this[l]=t,this.emit("open",t),this[d]())}end(e,t){return e&&this.write(e,t),this[u]=!0,this[N]||this[P].length||"number"!=typeof this[l]||this[E](null,0),this}write(e,t){return"string"==typeof e&&(e=Buffer.from(e,t)),this[u]?(this.emit("error",new Error("write() after end()")),!1):null===this[l]||this[N]||this[P].length?(this[P].push(e),this[m]=!0,!1):(this[N]=!0,this[R](e),!0)}[R](e){o.write(this[l],e,0,e.length,this[T],((e,t)=>this[E](e,t)))}[E](e,t){e?this[g](e):(null!==this[T]&&(this[T]+=t),this[P].length?this[d]():(this[N]=!1,this[u]&&!this[h]?(this[h]=!0,this[c](),this.emit("finish")):this[m]&&(this[m]=!1,this.emit("drain"))))}[d](){if(0===this[P].length)this[u]&&this[E](null,0);else if(1===this[P].length)this[R](this[P].pop());else{const e=this[P];this[P]=[],s(this[l],e,this[T],((e,t)=>this[E](e,t)))}}[c](){if(this[a]&&"number"==typeof this[l]){const e=this[l];this[l]=null,o.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}}t.ReadStream=M,t.ReadStreamSync=class extends M{[S](){let e=!0;try{this[b](null,o.openSync(this[w],"r")),e=!1}finally{e&&this[c]()}}[I](){let e=!0;try{if(!this[C]){for(this[C]=!0;;){const e=this[v](),t=0===e.length?0:o.readSync(this[l],e,0,e.length,null);if(!this[f](t,e))break}this[C]=!1}e=!1}finally{e&&this[c]()}}[c](){if(this[a]&&"number"==typeof this[l]){const e=this[l];this[l]=null,o.closeSync(e),this.emit("close")}}},t.WriteStream=j,t.WriteStreamSync=class extends j{[S](){let e;if(this[k]&&"r+"===this[p])try{e=o.openSync(this[w],this[p],this[y])}catch(e){if("ENOENT"===e.code)return this[p]="w",this[S]();throw e}else e=o.openSync(this[w],this[p],this[y]);this[b](null,e)}[c](){if(this[a]&&"number"==typeof this[l]){const e=this[l];this[l]=null,o.closeSync(e),this.emit("close")}}[R](e){let t=!0;try{this[E](null,o.writeSync(this[l],e,0,e.length,this[T])),t=!1}finally{if(t)try{this[c]()}catch(e){}}}}},37334:(e,t,r)=>{e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){n.realpath=l,n.realpathSync=h},l.unmonkeypatch=function(){n.realpath=i,n.realpathSync=o};var n=r(57147),i=n.realpath,o=n.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=r(47059);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,r){if(a)return i(e,t,r);"function"==typeof t&&(r=t,t=null),i(e,t,(function(n,i){u(n)?c.realpath(e,t,r):r(n,i)}))}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(r){if(u(r))return c.realpathSync(e,t);throw r}}},47059:(e,t,r)=>{var n=r(71017),i="win32"===process.platform,o=r(57147),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(n.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;t.realpathSync=function(e,t){if(e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,s,u,l,h=e,p={},d={};function f(){var t=c.exec(e);r=t[0].length,s=t[0],u=t[0],l="",i&&!d[u]&&(o.lstatSync(u),d[u]=!0)}for(f();r<e.length;){a.lastIndex=r;var v=a.exec(e);if(l=s,s+=v[0],u=l+v[1],r=a.lastIndex,!(d[u]||t&&t[u]===u)){var y;if(t&&Object.prototype.hasOwnProperty.call(t,u))y=t[u];else{var m=o.lstatSync(u);if(!m.isSymbolicLink()){d[u]=!0,t&&(t[u]=u);continue}var g=null;if(!i){var b=m.dev.toString(32)+":"+m.ino.toString(32);p.hasOwnProperty(b)&&(g=p[b])}null===g&&(o.statSync(u),g=o.readlinkSync(u)),y=n.resolve(l,g),t&&(t[u]=y),i||(p[b]=g)}e=n.resolve(y,e.slice(r)),f()}}return t&&(t[h]=e),e},t.realpath=function(e,t,r){if("function"!=typeof r&&(r=function(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}(t),t=null),e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var u,l,h,p,d=e,f={},v={};function y(){var t=c.exec(e);u=t[0].length,l=t[0],h=t[0],p="",i&&!v[h]?o.lstat(h,(function(e){if(e)return r(e);v[h]=!0,m()})):process.nextTick(m)}function m(){if(u>=e.length)return t&&(t[d]=e),r(null,e);a.lastIndex=u;var n=a.exec(e);return p=l,l+=n[0],h=p+n[1],u=a.lastIndex,v[h]||t&&t[h]===h?process.nextTick(m):t&&Object.prototype.hasOwnProperty.call(t,h)?_(t[h]):o.lstat(h,g)}function g(e,n){if(e)return r(e);if(!n.isSymbolicLink())return v[h]=!0,t&&(t[h]=h),process.nextTick(m);if(!i){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(f.hasOwnProperty(s))return b(null,f[s],h)}o.stat(h,(function(e){if(e)return r(e);o.readlink(h,(function(e,t){i||(f[s]=t),b(e,t)}))}))}function b(e,i,o){if(e)return r(e);var s=n.resolve(p,i);t&&(t[o]=s),_(s)}function _(t){e=n.resolve(t,e.slice(u)),y()}y()}},66772:(e,t,r)=>{function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.setopts=function(e,t,r){if(r||(r={}),r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||i,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,r),e.changedCwd=!1;var s=process.cwd();n(r,"cwd")?(e.cwd=o.resolve(r.cwd),e.changedCwd=e.cwd!==s):e.cwd=s,e.root=r.root||o.resolve(e.cwd,"/"),e.root=o.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=a(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new c(t,r),e.options=e.minimatch.options},t.ownProp=n,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?r.push.apply(r,s):s.forEach((function(e){r[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[n];t?r.push(a):r[a]=!0}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(u)),e.mark){for(n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter((function(t){var r=!/\/$/.test(t),n=e.cache[t]||e.cache[h(e,t)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}e.ignore.length&&(r=r.filter((function(t){return!p(e,t)}))),e.found=r},t.mark=function(e,t){var r=h(e,t),n=e.cache[r],i=t;if(n){var o="DIR"===n||Array.isArray(n),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=h(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=r(57147),o=r(71017),s=r(6522),a=r(64095),c=s.Minimatch;function u(e,t){return e.localeCompare(t,"en")}function l(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new c(r,{dot:!0})}return{matcher:new c(e,{dot:!0}),gmatcher:t}}function h(e,t){var r=t;return r="/"===t.charAt(0)?o.join(e.root,t):a(t)||""===t?t:e.changedCwd?o.resolve(e.cwd,t):o.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function p(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},12884:(e,t,r)=>{e.exports=g;var n=r(37334),i=r(6522),o=(i.Minimatch,r(94378)),s=r(82361).EventEmitter,a=r(71017),c=r(39491),u=r(64095),l=r(14751),h=r(66772),p=h.setopts,d=h.ownProp,f=r(67844),v=(r(73837),h.childrenIgnored),y=h.isIgnored,m=r(30778);function g(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return l(e,t)}return new _(e,t,r)}g.sync=l;var b=g.GlobSync=l.GlobSync;function _(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof _))return new _(e,t,r);p(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=m(r),this.on("error",r),this.on("end",(function(e){r(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return s();for(var o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--i._processing,i._processing<=0&&i._finish()}}g.glob=g,g.hasMagic=function(e,t){var r=function(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}({},t);r.noprocess=!0;var n=new _(e,r).minimatch.set;if(!e)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},g.Glob=_,o(_,s),_.prototype._finish=function(){if(c(this instanceof _),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},_.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--e&&t._finish()}},_.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var i=Object.keys(r),o=this,s=i.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);i.forEach((function(r,i){r=o._makeAbs(r),n.realpath(r,o.realpathCache,(function(n,i){n?"stat"===n.syscall?a[r]=!0:o.emit("error",n):a[i]=!0,0==--s&&(o.matches[e]=a,t())}))}))},_.prototype._mark=function(e){return h.mark(this,e)},_.prototype._makeAbs=function(e){return h.makeAbs(this,e)},_.prototype.abort=function(){this.aborted=!0,this.emit("abort")},_.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},_.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},_.prototype._process=function(e,t,r,n){if(c(this instanceof _),c("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,n]);else{for(var o,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:o=null;break;default:o=e.slice(0,s).join("/")}var a,l=e.slice(s);null===o?a=".":u(o)||u(e.join("/"))?(o&&u(o)||(o="/"+o),a=o):a=o;var h=this._makeAbs(a);if(v(this,a))return n();l[0]===i.GLOBSTAR?this._processGlobStar(o,a,h,l,t,r,n):this._processReaddir(o,a,h,l,t,r,n)}},_.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,(function(c,u){return a._processReaddir2(e,t,r,n,i,o,u,s)}))},_.prototype._processReaddir2=function(e,t,r,n,i,o,s,c){if(!s)return c();for(var u=n[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||"."===h.charAt(0),d=[],f=0;f<s.length;f++)("."!==(y=s[f]).charAt(0)||p)&&(l&&!e?!y.match(u):y.match(u))&&d.push(y);var v=d.length;if(0===v)return c();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),f=0;f<v;f++){var y=d[f];e&&(y="/"!==e?e+"/"+y:e+y),"/"!==y.charAt(0)||this.nomount||(y=a.join(this.root,y)),this._emitMatch(i,y)}return c()}for(n.shift(),f=0;f<v;f++)y=d[f],e&&(y="/"!==e?e+"/"+y:e+y),this._process([y].concat(n),i,o,c);c()},_.prototype._emitMatch=function(e,t){if(!this.aborted&&!y(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}},_.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,n=f("lstat\0"+e,(function(n,i){if(n&&"ENOENT"===n.code)return t();var o=i&&i.isSymbolicLink();r.symlinks[e]=o,o||!i||i.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())}));n&&r.fs.lstat(e,n)}},_.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=f("readdir\0"+e+"\0"+t,r))){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e,r);if(d(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return r();if(Array.isArray(n))return r(null,n)}this.fs.readdir(e,function(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}(this,e,r))}},_.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}},_.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},_.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,(function(c,u){a._processGlobStar2(e,t,r,n,i,o,u,s)}))},_.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,a);var h=this.symlinks[r],p=s.length;if(h&&o)return a();for(var d=0;d<p;d++)if("."!==s[d].charAt(0)||this.dot){var f=u.concat(s[d],c);this._process(f,i,!0,a);var v=u.concat(s[d],n);this._process(v,i,!0,a)}a()},_.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,(function(i,o){n._processSimple2(e,t,i,o,r)}))},_.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&u(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=a.join(this.root,e):(e=a.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},_.prototype._stat=function(e,t){var r=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&d(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return t(null,i);if(n&&"FILE"===i)return t()}var o=this.statCache[r];if(void 0!==o){if(!1===o)return t(null,o);var s=o.isDirectory()?"DIR":"FILE";return n&&"FILE"===s?t():t(null,s,o)}var a=this,c=f("stat\0"+r,(function(n,i){if(i&&i.isSymbolicLink())return a.fs.stat(r,(function(n,o){n?a._stat2(e,r,null,i,t):a._stat2(e,r,n,o,t)}));a._stat2(e,r,n,i,t)}));c&&a.fs.lstat(r,c)},_.prototype._stat2=function(e,t,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=n,"/"===t.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,n)}},6522:(e,t,r)=>{e.exports=p,p.Minimatch=d;var n=function(){try{return r(71017)}catch(e){}}()||{sep:"/"};p.sep=n.sep;var i=p.GLOBSTAR=d.GLOBSTAR={},o=r(3644),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function h(e,t){t=t||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function p(e,t,r){return v(t),r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&new d(t,r).match(e)}function d(e,t){if(!(this instanceof d))return new d(e,t);v(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===n.sep||(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof d?this.options:{}),e=void 0===e?this.pattern:e,v(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}p.filter=function(e,t){return t=t||{},function(r,n,i){return p(r,e,t)}},p.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return p;var t=p,r=function(r,n,i){return t(r,n,h(e,i))};return(r.Minimatch=function(r,n){return new t.Minimatch(r,h(e,n))}).defaults=function(r){return t.defaults(h(e,r)).Minimatch},r.filter=function(r,n){return t.filter(r,h(e,n))},r.defaults=function(r){return t.defaults(h(e,r))},r.makeRe=function(r,n){return t.makeRe(r,h(e,n))},r.braceExpand=function(r,n){return t.braceExpand(r,h(e,n))},r.match=function(r,n,i){return t.match(r,n,h(e,i))},r},d.defaults=function(e){return p.defaults(e).Minimatch},d.prototype.debug=function(){},d.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(l)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0},d.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var n=0,i=e.length;n<i&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},p.braceExpand=function(e,t){return f(e,t)},d.prototype.braceExpand=f;var v=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};d.prototype.parse=function(e,t){v(e);var r=this.options;if("**"===e){if(!r.noglobstar)return i;e="*"}if(""===e)return"";var n,o="",l=!!r.nocase,h=!1,p=[],d=[],f=!1,m=-1,g=-1,b="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",_=this;function E(){if(n){switch(n){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+n}_.debug("clearStateChar %j %j",n,o),n=!1}}for(var S,w=0,T=e.length;w<T&&(S=e.charAt(w));w++)if(this.debug("%s\t%s %s %j",e,w,o,S),h&&u[S])o+="\\"+S,h=!1;else switch(S){case"/":return!1;case"\\":E(),h=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,w,o,S),f){this.debug("  in class"),"!"===S&&w===g+1&&(S="^"),o+=S;continue}_.debug("call clearStateChar %j",n),E(),n=S,r.noext&&E();continue;case"(":if(f){o+="(";continue}if(!n){o+="\\(";continue}p.push({type:n,start:w-1,reStart:o.length,open:s[n].open,close:s[n].close}),o+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,o),n=!1;continue;case")":if(f||!p.length){o+="\\)";continue}E(),l=!0;var P=p.pop();o+=P.close,"!"===P.type&&d.push(P),P.reEnd=o.length;continue;case"|":if(f||!p.length||h){o+="\\|",h=!1;continue}E(),o+="|";continue;case"[":if(E(),f){o+="\\"+S;continue}f=!0,g=w,m=o.length,o+=S;continue;case"]":if(w===g+1||!f){o+="\\"+S,h=!1;continue}var I=e.substring(g+1,w);try{RegExp("["+I+"]")}catch(e){var O=this.parse(I,y);o=o.substr(0,m)+"\\["+O[0]+"\\]",l=l||O[1],f=!1;continue}l=!0,f=!1,o+=S;continue;default:E(),h?h=!1:!u[S]||"^"===S&&f||(o+="\\"),o+=S}for(f&&(I=e.substr(g+1),O=this.parse(I,y),o=o.substr(0,m)+"\\["+O[0],l=l||O[1]),P=p.pop();P;P=p.pop()){var C=o.slice(P.reStart+P.open.length);this.debug("setting tail",o,P),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",C,C,P,o);var A="*"===P.type?c:"?"===P.type?a:"\\"+P.type;l=!0,o=o.slice(0,P.reStart)+A+"\\("+C}E(),h&&(o+="\\\\");var x=!1;switch(o.charAt(0)){case"[":case".":case"(":x=!0}for(var R=d.length-1;R>-1;R--){var N=d[R],k=o.slice(0,N.reStart),D=o.slice(N.reStart,N.reEnd-8),M=o.slice(N.reEnd-8,N.reEnd),j=o.slice(N.reEnd);M+=j;var L=k.split("(").length-1,F=j;for(w=0;w<L;w++)F=F.replace(/\)[+*?]?/,"");var V="";""===(j=F)&&t!==y&&(V="$"),o=k+D+j+V+M}if(""!==o&&l&&(o="(?=.)"+o),x&&(o=b+o),t===y)return[o,l];if(!l)return e.replace(/\\(.)/g,"$1");var B=r.nocase?"i":"";try{var U=new RegExp("^"+o+"$",B)}catch(e){return new RegExp("$.")}return U._glob=e,U._src=o,U};var y={};p.makeRe=function(e,t){return new d(e,t||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?r:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,r){var n=new d(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},d.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(r.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},d.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,h]);var p=o,d=s+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),r))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return r;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},14751:(e,t,r)=>{e.exports=d,d.GlobSync=f;var n=r(37334),i=r(6522),o=(i.Minimatch,r(12884).Glob,r(73837),r(71017)),s=r(39491),a=r(64095),c=r(66772),u=c.setopts,l=c.ownProp,h=c.childrenIgnored,p=c.isIgnored;function d(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new f(e,t).found}function f(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof f))return new f(e,t);if(u(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}f.prototype._finish=function(){if(s(this instanceof f),this.realpath){var e=this;this.matches.forEach((function(t,r){var i=e.matches[r]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),i[n.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;i[e._makeAbs(o)]=!0}}))}c.finish(this)},f.prototype._process=function(e,t,r){s(this instanceof f);for(var n,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,o).join("/")}var c,u=e.slice(o);null===n?c=".":a(n)||a(e.join("/"))?(n&&a(n)||(n="/"+n),c=n):c=n;var l=this._makeAbs(c);h(this,c)||(u[0]===i.GLOBSTAR?this._processGlobStar(n,c,l,u,t,r):this._processReaddir(n,c,l,u,t,r))},f.prototype._processReaddir=function(e,t,r,n,i,s){var a=this._readdir(r,s);if(a){for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,h=this.dot||"."===l.charAt(0),p=[],d=0;d<a.length;d++)("."!==(y=a[d]).charAt(0)||h)&&(u&&!e?!y.match(c):y.match(c))&&p.push(y);var f=p.length;if(0!==f)if(1!==n.length||this.mark||this.stat)for(n.shift(),d=0;d<f;d++){var v;y=p[d],v=e?[e,y]:[y],this._process(v.concat(n),i,s)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<f;d++){var y=p[d];e&&(y="/"!==e.slice(-1)?e+"/"+y:e+y),"/"!==y.charAt(0)||this.nomount||(y=o.join(this.root,y)),this._emitMatch(i,y)}}}},f.prototype._emitMatch=function(e,t){if(!p(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},f.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=this.fs.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var n=r&&r.isSymbolicLink();return this.symlinks[e]=n,n||!r||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},f.prototype._readdir=function(e,t){if(t&&!l(this.symlinks,e))return this._readdirInGlobStar(e);if(l(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},f.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t},f.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},f.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(s){var a=n.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length;if(!this.symlinks[r]||!o)for(var h=0;h<l;h++)if("."!==s[h].charAt(0)||this.dot){var p=c.concat(s[h],a);this._process(p,i,!0);var d=c.concat(s[h],n);this._process(d,i,!0)}}},f.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&a(e)&&!this.nomount){var n=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=o.join(this.root,e):(e=o.resolve(this.root,e),n&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},f.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,t)){var n=this.cache[t];if(Array.isArray(n)&&(n="DIR"),!r||"DIR"===n)return n;if(r&&"FILE"===n)return!1}var i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(e){i=o}else i=o}return this.statCache[t]=i,n=!0,i&&(n=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||n,(!r||"FILE"!==n)&&n},f.prototype._mark=function(e){return c.mark(this,e)},f.prototype._makeAbs=function(e){return c.makeAbs(this,e)}},66458:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},20077:(e,t,r)=>{var n,i,o=r(57147),s=r(72161),a=r(78520),c=r(66458),u=r(73837);function l(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",i="___graceful-fs.previous");var h,p=function(){};if(u.debuglog?p=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(p=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[n]){var d=global[n]||[];l(o,d),o.close=function(e){function t(t,r){return e.call(o,t,(function(e){e||y(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),y()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){p(o[n]),r(39491).equal(o[n].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,i,o){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):v([e,[r,n,i],t,o||Date.now(),Date.now()])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):v([e,[t,n,i,o],r,s||Date.now(),Date.now()])}))}(e,t,n,i)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,o,s){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):v([e,[t,r,i,o],n,s||Date.now(),Date.now()])}))}(e,t,r,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),function e(t,r,n,o,s){return i(t,r,n,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):v([e,[t,r,n,o],i,s||Date.now(),Date.now()])}))}(e,t,r,n)});var o=e.readdir;if(e.readdir=function(e,t,r){return"function"==typeof t&&(r=t,t=null),function e(t,r,n,i){return o(t,r,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof n&&n.call(this,o,s)):v([e,[t,r,n],o,i||Date.now(),Date.now()])}))}(e,t,r)},"v0.8"===process.version.substr(0,4)){var c=a(e);d=c.ReadStream,y=c.WriteStream}var u=e.ReadStream;u&&(d.prototype=Object.create(u.prototype),d.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var l=e.WriteStream;l&&(y.prototype=Object.create(l.prototype),y.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var h=d;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var p=y;function d(e,t){return this instanceof d?(u.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function y(e,t){return this instanceof y?(l.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var m=e.open;function g(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,i,o){return m(t,r,n,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):v([e,[t,r,n,i],s,o||Date.now(),Date.now()])}))}(e,t,r,n)}return e.open=g,e}function v(e){p("ENQUEUE",e[0].name,e[1]),o[n].push(e),m()}function y(){for(var e=Date.now(),t=0;t<o[n].length;++t)o[n][t].length>2&&(o[n][t][3]=e,o[n][t][4]=e);m()}function m(){if(clearTimeout(h),h=void 0,0!==o[n].length){var e=o[n].shift(),t=e[0],r=e[1],i=e[2],s=e[3],a=e[4];if(void 0===s)p("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){p("TIMEOUT",t.name,r);var c=r.pop();"function"==typeof c&&c.call(null,i)}else{var u=Date.now()-a,l=Math.max(a-s,1);u>=Math.min(1.2*l,100)?(p("RETRY",t.name,r),t.apply(null,r.concat([s]))):o[n].push(e)}void 0===h&&(h=setTimeout(m,0))}}global[n]||l(global,o[n]),e.exports=f(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=f(o),o.__patched=!0)},78520:(e,t,r)=>{var n=r(12781).Stream;e.exports=function(e){return{ReadStream:function t(r,i){if(!(this instanceof t))return new t(r,i);n.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function t(r,i){if(!(this instanceof t))return new t(r,i);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},72161:(e,t,r)=>{var n=r(22057),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){var t,r;function i(t){return t?function(r,n,i){return t.call(e,r,n,(function(e){h(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function o(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!h(e))throw e}}:t}function a(t){return t?function(r,n,i,o){return t.call(e,r,n,i,(function(e){h(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function c(t){return t?function(r,n,i){try{return t.call(e,r,n,i)}catch(e){if(!h(e))throw e}}:t}function u(t){return t?function(r,n,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?t.call(e,r,n,o):t.call(e,r,o)}:t}function l(t){return t?function(r,n){var i=n?t.call(e,r,n):t.call(e,r);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function h(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,i){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){t?i&&i(t):e.fchmod(n,r,(function(t){e.close(n,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,r){var i,o=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{i=e.fchmodSync(o,r),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e),e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,r,i,o){e.open(t,n.O_SYMLINK,(function(t,n){t?o&&o(t):e.futimes(n,r,i,(function(t){e.close(n,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,r,i){var o,s=e.openSync(t,n.O_SYMLINK),a=!0;try{o=e.futimesSync(s,r,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=o(e.chmodSync),e.fchmodSync=o(e.fchmodSync),e.lchmodSync=o(e.lchmodSync),e.stat=u(e.stat),e.fstat=u(e.fstat),e.lstat=u(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===s&&(e.rename=(t=e.rename,function(r,n,i){var o=Date.now(),s=0;t(r,n,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(n,(function(e,o){e&&"ENOENT"===e.code?t(r,n,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))})),e.read=function(t){function r(r,n,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,h,p){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,r,n,i,o,s,c);a.apply(this,arguments)}}return t.call(e,r,n,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync=(r=e.readSync,function(t,n,i,o,s){for(var a=0;;)try{return r.call(e,t,n,i,o,s)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}})}},60688:(e,t,r)=>{"use strict";var n=r(2399).Buffer;t._dbcs=u;for(var i=-1,o=-10,s=-1e3,a=new Array(256),c=0;c<256;c++)a[c]=i;function u(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var r=e.table();this.decodeTables=[],this.decodeTables[0]=a.slice(0),this.decodeTableSeq=[];for(var n=0;n<r.length;n++)this._addDecodeChunk(r[n]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var o=this.decodeTables.length;this.decodeTables.push(a.slice(0));var c=this.decodeTables.length;this.decodeTables.push(a.slice(0));var u=this.decodeTables[0];for(n=129;n<=254;n++)for(var l=this.decodeTables[s-u[n]],h=48;h<=57;h++){if(l[h]===i)l[h]=s-o;else if(l[h]>s)throw new Error("gb18030 decode tables conflict at byte 2");for(var p=this.decodeTables[s-l[h]],d=129;d<=254;d++){if(p[d]===i)p[d]=s-c;else{if(p[d]===s-c)continue;if(p[d]>s)throw new Error("gb18030 decode tables conflict at byte 3")}for(var f=this.decodeTables[s-p[d]],v=48;v<=57;v++)f[v]===i&&(f[v]=-2)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var y={};if(e.encodeSkipVals)for(n=0;n<e.encodeSkipVals.length;n++){var m=e.encodeSkipVals[n];if("number"==typeof m)y[m]=!0;else for(h=m.from;h<=m.to;h++)y[h]=!0}if(this._fillEncodeTable(0,0,y),e.encodeAdd)for(var g in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,g)&&this._setEncodeChar(g.charCodeAt(0),e.encodeAdd[g]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===i&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===i&&(this.defCharSB="?".charCodeAt(0))}function l(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function h(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function p(e,t){if(e[0]>t)return-1;for(var r=0,n=e.length;r<n-1;){var i=r+(n-r+1>>1);e[i]<=t?r=i:n=i}return r}u.prototype.encoder=l,u.prototype.decoder=h,u.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var r=this.decodeTables[0],n=t.length-1;n>0;n--){var o=r[t[n]];if(o==i)r[t[n]]=s-this.decodeTables.length,this.decodeTables.push(r=a.slice(0));else{if(!(o<=s))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));r=this.decodeTables[s-o]}}return r},u.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var n=1;n<e.length;n++){var i=e[n];if("string"==typeof i)for(var s=0;s<i.length;){var a=i.charCodeAt(s++);if(55296<=a&&a<56320){var c=i.charCodeAt(s++);if(!(56320<=c&&c<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);r[t++]=65536+1024*(a-55296)+(c-56320)}else if(4080<a&&a<=4095){for(var u=4095-a+2,l=[],h=0;h<u;h++)l.push(i.charCodeAt(s++));r[t++]=o-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else r[t++]=a}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var p=r[t-1]+1;for(s=0;s<i;s++)r[t++]=p++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},u.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=a.slice(0)),this.encodeTable[t]},u.prototype._setEncodeChar=function(e,t){var r=this._getEncodeBucket(e),n=255&e;r[n]<=o?this.encodeTableSeq[o-r[n]][-1]=t:r[n]==i&&(r[n]=t)},u.prototype._setEncodeSequence=function(e,t){var r,n=e[0],s=this._getEncodeBucket(n),a=255&n;s[a]<=o?r=this.encodeTableSeq[o-s[a]]:(r={},s[a]!==i&&(r[-1]=s[a]),s[a]=o-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var c=1;c<e.length-1;c++){var u=r[n];"object"==typeof u?r=u:(r=r[n]={},void 0!==u&&(r[-1]=u))}r[n=e[e.length-1]]=t},u.prototype._fillEncodeTable=function(e,t,r){for(var n=this.decodeTables[e],i=!1,a={},c=0;c<256;c++){var u=n[c],l=t+c;if(!r[l])if(u>=0)this._setEncodeChar(u,l),i=!0;else if(u<=s){var h=s-u;if(!a[h]){var p=l<<8>>>0;this._fillEncodeTable(h,p,r)?i=!0:a[h]=!0}}else u<=o&&(this._setEncodeSequence(this.decodeTableSeq[o-u],l),i=!0)}return i},l.prototype.write=function(e){for(var t=n.alloc(e.length*(this.gb18030?4:3)),r=this.leadSurrogate,s=this.seqObj,a=-1,c=0,u=0;;){if(-1===a){if(c==e.length)break;var l=e.charCodeAt(c++)}else l=a,a=-1;if(55296<=l&&l<57344)if(l<56320){if(-1===r){r=l;continue}r=l,l=i}else-1!==r?(l=65536+1024*(r-55296)+(l-56320),r=-1):l=i;else-1!==r&&(a=l,l=i,r=-1);var h=i;if(void 0!==s&&l!=i){var d=s[l];if("object"==typeof d){s=d;continue}"number"==typeof d?h=d:null==d&&void 0!==(d=s[-1])&&(h=d,a=l),s=void 0}else if(l>=0){var f=this.encodeTable[l>>8];if(void 0!==f&&(h=f[255&l]),h<=o){s=this.encodeTableSeq[o-h];continue}if(h==i&&this.gb18030){var v=p(this.gb18030.uChars,l);if(-1!=v){h=this.gb18030.gbChars[v]+(l-this.gb18030.uChars[v]),t[u++]=129+Math.floor(h/12600),h%=12600,t[u++]=48+Math.floor(h/1260),h%=1260,t[u++]=129+Math.floor(h/10),h%=10,t[u++]=48+h;continue}}}h===i&&(h=this.defaultCharSingleByte),h<256?t[u++]=h:h<65536?(t[u++]=h>>8,t[u++]=255&h):h<16777216?(t[u++]=h>>16,t[u++]=h>>8&255,t[u++]=255&h):(t[u++]=h>>>24,t[u++]=h>>>16&255,t[u++]=h>>>8&255,t[u++]=255&h)}return this.seqObj=s,this.leadSurrogate=r,t.slice(0,u)},l.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=n.alloc(10),t=0;if(this.seqObj){var r=this.seqObj[-1];void 0!==r&&(r<256?e[t++]=r:(e[t++]=r>>8,e[t++]=255&r)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},l.prototype.findIdx=p,h.prototype.write=function(e){for(var t=n.alloc(2*e.length),r=this.nodeIdx,a=this.prevBytes,c=this.prevBytes.length,u=-this.prevBytes.length,l=0,h=0;l<e.length;l++){var d,f=l>=0?e[l]:a[l+c];if((d=this.decodeTables[r][f])>=0);else if(d===i)d=this.defaultCharUnicode.charCodeAt(0),l=u;else if(-2===d){if(l>=3)var v=12600*(e[l-3]-129)+1260*(e[l-2]-48)+10*(e[l-1]-129)+(f-48);else v=12600*(a[l-3+c]-129)+1260*((l-2>=0?e[l-2]:a[l-2+c])-48)+10*((l-1>=0?e[l-1]:a[l-1+c])-129)+(f-48);var y=p(this.gb18030.gbChars,v);d=this.gb18030.uChars[y]+v-this.gb18030.gbChars[y]}else{if(d<=s){r=s-d;continue}if(!(d<=o))throw new Error("iconv-lite internal error: invalid decoding table value "+d+" at "+r+"/"+f);for(var m=this.decodeTableSeq[o-d],g=0;g<m.length-1;g++)d=m[g],t[h++]=255&d,t[h++]=d>>8;d=m[m.length-1]}if(d>=65536){var b=55296|(d-=65536)>>10;t[h++]=255&b,t[h++]=b>>8,d=56320|1023&d}t[h++]=255&d,t[h++]=d>>8,r=0,u=l+1}return this.nodeIdx=r,this.prevBytes=u>=0?Array.prototype.slice.call(e,u):a.slice(u+c).concat(Array.prototype.slice.call(e)),t.slice(0,h).toString("ucs2")},h.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},55990:(e,t,r)=>{"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return r(27014)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return r(31532)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return r(13336)}},gbk:{type:"_dbcs",table:function(){return r(13336).concat(r(44346))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return r(13336).concat(r(44346))},gb18030:function(){return r(36258)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return r(77348)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return r(74284)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return r(74284).concat(r(63480))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},46934:(e,t,r)=>{"use strict";for(var n=[r(1025),r(17688),r(91279),r(20758),r(59068),r(20288),r(67018),r(60688),r(55990)],i=0;i<n.length;i++){var o=n[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}},1025:(e,t,r)=>{"use strict";var n=r(2399).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=u,""!==n.from("eda0bdedb2a9","hex").toString()&&(this.decoder=l,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=r(71576).StringDecoder;function s(e,t){this.decoder=new o(t.enc)}function a(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function u(e,t){}function l(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype.write=function(e){return n.isBuffer(e)||(e=n.from(e)),this.decoder.write(e)},s.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return n.from(e,this.enc)},a.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),n.from(e,"base64")},c.prototype.end=function(){return n.from(this.prevStr,"base64")},u.prototype.write=function(e){for(var t=n.alloc(3*e.length),r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[r++]=o:o<2048?(t[r++]=192+(o>>>6),t[r++]=128+(63&o)):(t[r++]=224+(o>>>12),t[r++]=128+(o>>>6&63),t[r++]=128+(63&o))}return t.slice(0,r)},u.prototype.end=function(){},l.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,n=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];128!=(192&s)?(r>0&&(i+=this.defaultCharUnicode,r=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,r=1,n=1):s<240?(t=15&s,r=2,n=1):i+=this.defaultCharUnicode):r>0?(t=t<<6|63&s,n++,0==--r&&(i+=2===n&&t<128&&t>0||3===n&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=n,i},l.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},59068:(e,t,r)=>{"use strict";var n=r(2399).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var r="",i=0;i<128;i++)r+=String.fromCharCode(i);e.chars=r+e.chars}this.decodeBuf=n.from(e.chars,"ucs2");var o=n.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=n.alloc(e.length),r=0;r<e.length;r++)t[r]=this.encodeBuf[e.charCodeAt(r)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,r=n.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],r[o=2*s]=t[i],r[o+1]=t[i+1];return r.toString("ucs2")},s.prototype.end=function(){}},67018:e=>{"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},20288:e=>{"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},91279:(e,t,r)=>{"use strict";var n=r(2399).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function u(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function l(e,t){var r=[],n=0,i=0,o=0;e:for(var s=0;s<e.length;s++)for(var a=e[s],c=0;c<a.length;c++)if(r.push(a[c]),2===r.length){if(0===n){if(255===r[0]&&254===r[1])return"utf-16le";if(254===r[0]&&255===r[1])return"utf-16be"}if(0===r[0]&&0!==r[1]&&o++,0!==r[0]&&0===r[1]&&i++,r.length=0,++n>=100)break e}return o>i?"utf-16be":o<i?"utf-16le":t||"utf-16le"}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=0;r<t.length;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=n.alloc(e.length+1),r=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,r=1,i=2);r<e.length-1;r+=2,i+=2)t[i]=e[r+1],t[i+1]=e[r];return this.overflowByte=r==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){this.overflowByte=-1},t.utf16=a,a.prototype.encoder=c,a.prototype.decoder=u,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=l(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=l(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},17688:(e,t,r)=>{"use strict";var n=r(2399).Buffer;function i(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function o(e,t){this.isLE=t.isLE,this.highSurrogate=0}function s(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,r,n){if((r<0||r>1114111)&&(r=n),r>=65536){var i=55296|(r-=65536)>>10;e[t++]=255&i,e[t++]=i>>8,r=56320|1023&r}return e[t++]=255&r,e[t++]=r>>8,t}function c(e,t){this.iconv=t}function u(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function l(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function h(e,t){var r=[],n=0,i=0,o=0,s=0,a=0;e:for(var c=0;c<e.length;c++)for(var u=e[c],l=0;l<u.length;l++)if(r.push(u[l]),4===r.length){if(0===n){if(255===r[0]&&254===r[1]&&0===r[2]&&0===r[3])return"utf-32le";if(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3])return"utf-32be"}if((0!==r[0]||r[1]>16)&&o++,(0!==r[3]||r[2]>16)&&i++,0!==r[0]||0!==r[1]||0===r[2]&&0===r[3]||a++,0===r[0]&&0===r[1]||0!==r[2]||0!==r[3]||s++,r.length=0,++n>=100)break e}return a-o>s-i?"utf-32be":a-o<s-i?"utf-32le":t||"utf-32le"}t._utf32=i,t.utf32le={type:"_utf32",isLE:!0},t.utf32be={type:"_utf32",isLE:!1},t.ucs4le="utf32le",t.ucs4be="utf32be",i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=n.alloc(2*t.length),i=this.isLE?r.writeUInt32LE:r.writeUInt32BE,o=0,s=0;s<t.length;s+=2){var a=t.readUInt16LE(s),c=55296<=a&&a<56320,u=56320<=a&&a<57344;if(this.highSurrogate){if(!c&&u){var l=65536+(this.highSurrogate-55296<<10|a-56320);i.call(r,l,o),o+=4,this.highSurrogate=0;continue}i.call(r,this.highSurrogate,o),o+=4}c?this.highSurrogate=a:(i.call(r,a,o),o+=4,this.highSurrogate=0)}return o<r.length&&(r=r.slice(0,o)),r},o.prototype.end=function(){if(this.highSurrogate){var e=n.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},s.prototype.write=function(e){if(0===e.length)return"";var t=0,r=0,i=n.alloc(e.length+4),o=0,s=this.isLE,c=this.overflow,u=this.badChar;if(c.length>0){for(;t<e.length&&c.length<4;t++)c.push(e[t]);4===c.length&&(r=s?c[t]|c[t+1]<<8|c[t+2]<<16|c[t+3]<<24:c[t+3]|c[t+2]<<8|c[t+1]<<16|c[t]<<24,c.length=0,o=a(i,o,r,u))}for(;t<e.length-3;t+=4)o=a(i,o,r=s?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,u);for(;t<e.length;t++)c.push(e[t]);return i.slice(0,o).toString("ucs2")},s.prototype.end=function(){this.overflow.length=0},t.utf32=c,t.ucs4="utf32",c.prototype.encoder=u,c.prototype.decoder=l,u.prototype.write=function(e){return this.encoder.write(e)},u.prototype.end=function(){return this.encoder.end()},l.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=h(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},l.prototype.end=function(){if(!this.decoder){var e=h(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},20758:(e,t,r)=>{"use strict";var n=r(2399).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return n.from(e.replace(o,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},s.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,u=[],l=0;l<256;l++)u[l]=c.test(String.fromCharCode(l));var h="+".charCodeAt(0),p="-".charCodeAt(0),d="&".charCodeAt(0);function f(e,t){this.iconv=t}function v(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=n.alloc(6),this.base64AccumIdx=0}function y(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!u[e[s]]){if(s==r&&e[s]==p)t+="+";else{var a=o+this.iconv.decode(e.slice(r,s),"ascii");t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}e[s]!=p&&s--,r=s+1,i=!1,o=""}}else e[s]==h&&(t+=this.iconv.decode(e.slice(r,s),"ascii"),r=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(e.slice(r),"ascii")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=f,f.prototype.encoder=v,f.prototype.decoder=y,f.prototype.bomAware=!0,v.prototype.write=function(e){for(var t=this.inBase64,r=this.base64Accum,i=this.base64AccumIdx,o=n.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);32<=c&&c<=126?(t&&(i>0&&(s+=o.write(r.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=p,t=!1),t||(o[s++]=c,c===d&&(o[s++]=p))):(t||(o[s++]=d,t=!0),t&&(r[i++]=c>>8,r[i++]=255&c,i==r.length&&(s+=o.write(r.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},v.prototype.end=function(){var e=n.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=p,this.inBase64=!1),e.slice(0,t)};var m=u.slice();m[",".charCodeAt(0)]=!0,y.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!m[e[s]]){if(s==r&&e[s]==p)t+="&";else{var a=o+this.iconv.decode(e.slice(r,s),"ascii").replace(/,/g,"/");t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}e[s]!=p&&s--,r=s+1,i=!1,o=""}}else e[s]==d&&(t+=this.iconv.decode(e.slice(r,s),"ascii"),r=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(e.slice(r),"ascii").replace(/,/g,"/")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,t},y.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},65395:(e,t)=>{"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function n(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=n,n.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},n.prototype.end=function(){return this.decoder.end()}},4914:(e,t,r)=>{"use strict";var n,i=r(2399).Buffer,o=r(65395),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,r){e=""+(e||"");var n=s.getEncoder(t,r),o=n.write(e),a=n.end();return a&&a.length>0?i.concat([o,a]):o},s.decode=function(e,t,r){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var n=s.getDecoder(t,r),o=n.write(e),a=n.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch(e){return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=r(46934));for(var t=s._canonicalizeEncoding(e),n={};;){var i=s._codecDataCache[t];if(i)return i;var o=s.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var a in o)n[a]=o[a];n.encodingName||(n.encodingName=t),t=o.type;break;case"function":return n.encodingName||(n.encodingName=t),i=new o(n,s),s._codecDataCache[n.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var r=s.getCodec(e),n=new r.encoder(t,r);return r.bomAware&&t&&t.addBOM&&(n=new o.PrependBOM(n,t)),n},s.getDecoder=function(e,t){var r=s.getCodec(e),n=new r.decoder(t,r);return!r.bomAware||t&&!1===t.stripBOM||(n=new o.StripBOM(n,t)),n},s.enableStreamingAPI=function(e){if(!s.supportsStreams){var t=r(38044)(e);s.IconvLiteEncoderStream=t.IconvLiteEncoderStream,s.IconvLiteDecoderStream=t.IconvLiteDecoderStream,s.encodeStream=function(e,t){return new s.IconvLiteEncoderStream(s.getEncoder(e,t),t)},s.decodeStream=function(e,t){return new s.IconvLiteDecoderStream(s.getDecoder(e,t),t)},s.supportsStreams=!0}};try{n=r(12781)}catch(e){}n&&n.Transform?s.enableStreamingAPI(n):s.encodeStream=s.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},38044:(e,t,r)=>{"use strict";var n=r(2399).Buffer;e.exports=function(e){var t=e.Transform;function r(e,r){this.conv=e,(r=r||{}).decodeStrings=!1,t.call(this,r)}function i(e,r){this.conv=e,(r=r||{}).encoding=this.encoding="utf8",t.call(this,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),r.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(new Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),r()}catch(e){r(e)}},r.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},r.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",(function(e){t.push(e)})),this.on("end",(function(){e(null,n.concat(t))})),this},i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,r){if(!(n.isBuffer(e)||e instanceof Uint8Array))return r(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),r()}catch(e){r(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this},{IconvLiteEncoderStream:r,IconvLiteDecoderStream:i}}},67844:(e,t,r)=>{var n=r(52479),i=Object.create(null),o=r(30778);function s(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}e.exports=n((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var r=i[e],n=r.length,o=s(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,o)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},94378:(e,t,r)=>{try{var n=r(73837);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(35717)}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},99934:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var n=r(16674),i=r(6867);function o(e,t,r,i,o){var s={},a="number"==typeof o,c=void 0!==o&&a?o.toString():r;if(a&&void 0!==r)throw new Error(n.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(s=Reflect.getMetadata(e,t));var u=s[c];if(Array.isArray(u))for(var l=0,h=u;l<h.length;l++){var p=h[l];if(p.key===i.key)throw new Error(n.DUPLICATED_METADATA+" "+p.key.toString())}else u=[];u.push(i),s[c]=u,Reflect.defineMetadata(e,s,t)}function s(e,t){Reflect.decorate(e,t)}function a(e,t){return function(r,n){t(r,n,e)}}t.tagParameter=function(e,t,r,n){o(i.TAGGED,e,t,n,r)},t.tagProperty=function(e,t,r){o(i.TAGGED_PROP,e.constructor,t,r)},t.decorate=function(e,t,r){"number"==typeof r?s([a(r,e)],t):"string"==typeof r?Reflect.decorate([e],t,r):s([e],t)}},5744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var n=r(16674),i=r(6867),o=r(47738),s=r(99934),a=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=a,t.inject=function(e){return function(t,r,a){if(void 0===e)throw new Error(n.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new o.Metadata(i.INJECT_TAG,e);"number"==typeof a?s.tagParameter(t,r,a,c):s.tagProperty(t,r,c)}}},64315:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var n=r(16674),i=r(6867);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(n.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},71693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var n=r(6867),i=r(47738),o=r(99934);t.multiInject=function(e){return function(t,r,s){var a=new i.Metadata(n.MULTI_INJECT_TAG,e);"number"==typeof s?o.tagParameter(t,r,s,a):o.tagProperty(t,r,a)}}},38085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var n=r(6867),i=r(47738),o=r(99934);t.named=function(e){return function(t,r,s){var a=new i.Metadata(n.NAMED_TAG,e);"number"==typeof s?o.tagParameter(t,r,s,a):o.tagProperty(t,r,a)}}},6515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var n=r(6867),i=r(47738),o=r(99934);t.optional=function(){return function(e,t,r){var s=new i.Metadata(n.OPTIONAL_TAG,!0);"number"==typeof r?o.tagParameter(e,t,r,s):o.tagProperty(e,t,s)}}},7014:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var n=r(16674),i=r(6867),o=r(47738);t.postConstruct=function(){return function(e,t,r){var s=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(n.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,s,e.constructor)}}},32052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var n=r(47738),i=r(99934);t.tagged=function(e,t){return function(r,o,s){var a=new n.Metadata(e,t);"number"==typeof s?i.tagParameter(r,o,s,a):i.tagProperty(r,o,a)}}},55638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var n=r(6867),i=r(47738),o=r(99934);t.targetName=function(e){return function(t,r,s){var a=new i.Metadata(n.NAME_TAG,e);o.tagParameter(t,r,s,a)}}},86757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var n=r(6867),i=r(47738),o=r(99934);t.unmanaged=function(){return function(e,t,r){var s=new i.Metadata(n.UNMANAGED_TAG,!0);o.tagParameter(e,t,r,s)}}},44290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var n=r(28421),i=r(37791),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=n.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},23184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0,t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},16674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0,t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},51389:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var o=r(44290),s=r(16674),a=r(28421),c=r(6867),u=r(51377),l=r(86311),h=r(31927),p=r(51860),d=r(37791),f=r(55800),v=r(85700),y=r(80175),m=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=a.BindingScopeEnum.Transient;else if(t.defaultScope!==a.BindingScopeEnum.Singleton&&t.defaultScope!==a.BindingScopeEnum.Transient&&t.defaultScope!==a.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=d.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new u.MetadataReader}return e.merge=function(t,r){var n=new e,i=l.getBindingDictionary(n),o=l.getBindingDictionary(t),s=l.getBindingDictionary(r);function a(e,t){e.traverse((function(e,r){r.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return a(o,i),a(s,i),n},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=this._getContainerModuleHelpersFactory(),n=0,i=e;n<i.length;n++){var o=i[n],s=r(o.id);o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,void 0,void 0,(function(){var t,r,n,o,s;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),r=0,n=e,i.label=1;case 1:return r<n.length?(o=n[r],s=t(o.id),[4,o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var r=n(t.id);e._bindingDictionary.removeByCondition(r)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||a.BindingScopeEnum.Transient,r=new o.Binding(e,t);return this._bindingDictionary.add(e,r),new p.BindingToSyntax(r)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+f.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,r){var n=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=l.createMockRequest(this,e,t,r);n=i.some((function(e){return e.constraint(o)}))}return!n&&this.parent&&(n=this.parent.isBoundTagged(e,t,r)),n},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var r=new e(t||this.options);return r.parent=this,r},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),r)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,a.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,r){return this._get(!1,!1,a.TargetTypeEnum.Variable,e,t,r)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,a.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,r){return this._get(!1,!0,a.TargetTypeEnum.Variable,e,t,r)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},r=function(r){return function(n){var i=e.rebind.bind(e)(n);return t(i,r),i}};return function(n){return{bindFunction:(i=n,function(r){var n=e.bind.bind(e)(r);return t(n,i),n}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:r(n),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,r,n,i,o){var a=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:n,targetType:r,value:o};if(this._middleware){if(null==(a=this._middleware(c)))throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(c);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var r=l.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return r=t.contextInterceptor(r),h.resolve(r)}},e}();t.Container=m},33244:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var n=r(37791);t.ContainerModule=function(e){this.id=n.id(),this.registry=e};t.AsyncContainerModule=function(e){this.id=n.id(),this.registry=e}},85700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var r=function(){function e(){}return e.of=function(t,r){var n=new e;return n.bindings=t,n.middleware=r,n},e}();t.ContainerSnapshot=r},80175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var n=r(16674),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(n.NULL_ARGUMENT);if(null==t)throw new Error(n.NULL_ARGUMENT);var r=this._map.get(e);void 0!==r?(r.push(t),this._map.set(e,r)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(n.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(n.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(n.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(n.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(r,n){var i=r.filter((function(t){return!e(t)}));i.length>0?t._map.set(n,i):t._map.delete(n)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(n.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,r){e.forEach((function(e){return t.add(r,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,r){e(r,t)}))},e}();t.Lookup=i},86700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.METADATA_KEY=void 0;var n=r(6867);t.METADATA_KEY=n;var i=r(51389);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var o=r(28421);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var s=r(33244);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return s.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return s.ContainerModule}});var a=r(64315);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return a.injectable}});var c=r(32052);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return c.tagged}});var u=r(38085);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return u.named}});var l=r(5744);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return l.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return l.LazyServiceIdentifer}});var h=r(6515);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return h.optional}});var p=r(86757);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return p.unmanaged}});var d=r(71693);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return d.multiInject}});var f=r(55638);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return f.targetName}});var v=r(7014);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return v.postConstruct}});var y=r(51377);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return y.MetadataReader}});var m=r(37791);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return m.id}});var g=r(99934);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return g.decorate}});var b=r(80758);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var _=r(55800);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return _.getServiceIdentifierAsString}});var E=r(70600);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return E.multiBindToService}})},95228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var n=r(37791),i=function(){function e(e){this.id=n.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},47738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=r(6867),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===n.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},51377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var n=r(6867),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(n.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(n.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(n.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},55314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;t.Plan=function(e,t){this.parentContext=e,this.rootRequest=t}},86311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var n=r(23184),i=r(16674),o=r(28421),s=r(6867),a=r(85265),c=r(55800),u=r(95228),l=r(47738),h=r(55314),p=r(6e3),d=r(6748),f=r(18924);function v(e){return e._bindingDictionary}function y(e,t,r,o,s){var a,u=g(r.container,s.serviceIdentifier);return u.length===n.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&"function"==typeof s.serviceIdentifier&&e.getConstructorMetadata(s.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(s.serviceIdentifier).toSelf(),u=g(r.container,s.serviceIdentifier)),a=t?u:u.filter((function(e){var t=new d.Request(e.serviceIdentifier,r,o,e,s);return e.constraint(t)})),function(e,t,r,o){switch(t.length){case n.BindingCount.NoBindingsAvailable:if(r.isOptional())return t;var s=c.getServiceIdentifierAsString(e),a=i.NOT_REGISTERED;throw a+=c.listMetadataForTarget(s,r),a+=c.listRegisteredBindingsForServiceIdentifier(o,s,g),new Error(a);case n.BindingCount.OnlyOneBindingAvailable:if(!r.isArray())return t;case n.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return t;throw s=c.getServiceIdentifierAsString(e),a=i.AMBIGUOUS_MATCH+" "+s,a+=c.listRegisteredBindingsForServiceIdentifier(o,s,g),new Error(a)}}(s.serviceIdentifier,a,s,r.container),a}function m(e,t,r,n,s,a){var c,u;if(null===s){c=y(e,t,n,null,a),u=new d.Request(r,n,null,c,a);var l=new h.Plan(n,u);n.addPlan(l)}else c=y(e,t,n,s,a),u=s.addChildRequest(a.serviceIdentifier,c,a);c.forEach((function(t){var r=null;if(a.isArray())r=u.addChildRequest(t.serviceIdentifier,t,a);else{if(t.cache)return;r=u}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var s=p.getDependencies(e,t.implementationType);if(!n.container.options.skipBaseClassChecks){var c=p.getBaseClassDependencyCount(e,t.implementationType);if(s.length<c){var l=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(t.implementationType));throw new Error(l)}}s.forEach((function(t){m(e,!1,t.serviceIdentifier,n,r,t)}))}}))}function g(e,t){var r=[],n=v(e);return n.hasKey(t)?r=n.get(t):null!==e.parent&&(r=g(e.parent,t)),r}t.getBindingDictionary=v,t.plan=function(e,t,r,n,i,o,h,p){void 0===p&&(p=!1);var d=new u.Context(t),v=function(e,t,r,n,i,o){var a=e?s.MULTI_INJECT_TAG:s.INJECT_TAG,c=new l.Metadata(a,r),u=new f.Target(t,"",r,c);if(void 0!==i){var h=new l.Metadata(i,o);u.metadata.push(h)}return u}(r,n,i,0,o,h);try{return m(e,p,i,d,null,v),d}catch(e){throw a.isStackOverflowExeption(e)&&d.plan&&c.circularDependencyToException(d.plan.rootRequest),e}},t.createMockRequest=function(e,t,r,n){var i=new f.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(r,n)),s=new u.Context(e);return new d.Request(t,s,null,[],i)}},88460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,r=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},r)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},6e3:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=r(5744),o=r(16674),s=r(28421),a=r(6867),c=r(55800);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return c.getFunctionName}});var u=r(18924);function l(e,t,r,i){var s=e.getConstructorMetadata(r),a=s.compilerGeneratedMetadata;if(void 0===a){var c=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(c)}var u=s.userGeneratedMetadata,l=Object.keys(u),d=function(e,t,r,n,i){for(var o=[],s=0;s<i;s++){var a=h(s,e,t,r,n);null!==a&&o.push(a)}return o}(i,t,a,u,0===r.length&&l.length>0?l.length:r.length),f=p(e,r);return n(d,f)}function h(e,t,r,n,a){var c=a[e.toString()]||[],l=d(c),h=!0!==l.unmanaged,p=n[e];if((p=l.inject||l.multiInject||p)instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),h){if(!t&&(p===Object||p===Function||void 0===p)){var f=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+r+".";throw new Error(f)}var v=new u.Target(s.TargetTypeEnum.ConstructorArgument,l.targetName,p);return v.metadata=c,v}return null}function p(e,t){for(var r=e.getPropertiesMetadata(t),i=[],o=0,a=Object.keys(r);o<a.length;o++){var c=a[o],l=r[c],h=d(r[c]),f=h.targetName||c,v=h.inject||h.multiInject,y=new u.Target(s.TargetTypeEnum.ClassProperty,f,v);y.metadata=l,i.push(y)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var g=p(e,m);i=n(i,g)}return i}function d(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[a.INJECT_TAG],multiInject:t[a.MULTI_INJECT_TAG],targetName:t[a.NAME_TAG],unmanaged:t[a.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,c.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,r){var n=Object.getPrototypeOf(r.prototype).constructor;if(n!==Object){var i=l(t,c.getFunctionName(n),n,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===a.UNMANAGED_TAG}))})),s=[].concat.apply([],o).length,u=i.length-s;return u>0?u:e(t,n)}return 0}},6748:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var n=r(37791),i=function(){function e(e,t,r,i,o){this.id=n.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===r?new Map:null}return e.prototype.addChildRequest=function(t,r,n){var i=new e(t,this.parentContext,this,r,n);return this.childRequests.push(i),i},e}();t.Request=i},18924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var n=r(6867),i=r(37791),o=r(47738),s=r(88460),a=function(){function e(e,t,r,a){this.id=i.id(),this.type=e,this.serviceIdentifier=r,this.name=new s.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof a?c=new o.Metadata(n.NAMED_TAG,a):a instanceof o.Metadata&&(c=a),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,r=this.metadata;t<r.length;t++)if(r[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(n.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(n.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(n.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return e.key!==n.INJECT_TAG&&e.key!==n.MULTI_INJECT_TAG&&e.key!==n.NAME_TAG&&e.key!==n.UNMANAGED_TAG&&e.key!==n.NAMED_TAG}))},e.prototype.isOptional=function(){return this.matchesTag(n.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===n.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return e.key!==n.INJECT_TAG&&e.key!==n.MULTI_INJECT_TAG&&e.key!==n.NAME_TAG&&e.key!==n.UNMANAGED_TAG&&e.key!==n.NAMED_TAG})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(n.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(r){for(var n=0,i=t.metadata;n<i.length;n++){var o=i[n];if(o.key===e&&o.value===r)return!0}return!1}},e}();t.Target=a},52279:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=r(16674),o=r(28421),s=r(6867);t.resolveInstance=function(e,t,r){var a,c,u=null;t.length>0?(c=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(r),u=function(e,t,r){var n=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=n.map(r);return n.forEach((function(t,r){var n;n=t.target.name.value();var o=i[r];e[n]=o})),e}(u=new((a=e).bind.apply(a,n([void 0],c))),t,r)):u=new e;return function(e,t){if(Reflect.hasMetadata(s.POST_CONSTRUCT,e)){var r=Reflect.getMetadata(s.POST_CONSTRUCT,e);try{t[r.value]()}catch(t){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,u),u}},31927:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var n=r(16674),i=r(28421),o=r(85265),s=r(55800),a=r(52279),c=function(e,t,r){try{return r()}catch(r){throw o.isStackOverflowExeption(r)?new Error(n.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):r}},u=function(e){return function(t){t.parentContext.setCurrentRequest(t);var r=t.bindings,o=t.childRequests,l=t.target&&t.target.isArray(),h=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(l&&h)return o.map((function(t){return u(e)(t)}));var p=null;if(!t.target.isOptional()||0!==r.length){var d=r[0],f=d.scope===i.BindingScopeEnum.Singleton,v=d.scope===i.BindingScopeEnum.Request;if(f&&d.activated)return d.cache;if(v&&null!==e&&e.has(d.id))return e.get(d.id);if(d.type===i.BindingTypeEnum.ConstantValue)p=d.cache;else if(d.type===i.BindingTypeEnum.Function)p=d.cache;else if(d.type===i.BindingTypeEnum.Constructor)p=d.implementationType;else if(d.type===i.BindingTypeEnum.DynamicValue&&null!==d.dynamicValue)p=c("toDynamicValue",d.serviceIdentifier,(function(){return d.dynamicValue(t.parentContext)}));else if(d.type===i.BindingTypeEnum.Factory&&null!==d.factory)p=c("toFactory",d.serviceIdentifier,(function(){return d.factory(t.parentContext)}));else if(d.type===i.BindingTypeEnum.Provider&&null!==d.provider)p=c("toProvider",d.serviceIdentifier,(function(){return d.provider(t.parentContext)}));else{if(d.type!==i.BindingTypeEnum.Instance||null===d.implementationType){var y=s.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(n.INVALID_BINDING_TYPE+" "+y)}p=a.resolveInstance(d.implementationType,o,u(e))}return"function"==typeof d.onActivation&&(p=d.onActivation(t.parentContext,p)),f&&(d.cache=p,d.activated=!0),v&&null!==e&&!e.has(d.id)&&e.set(d.id,p),p}}};t.resolve=function(e){return u(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},83366:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var n=r(28421),i=r(71325),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=n.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=n.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=n.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},99812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var n=r(83366),i=r(51811),o=r(98370),s=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new n.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=s},51811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var n=r(98370),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new n.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},51860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var n=r(16674),i=r(28421),o=r(99812),s=r(71325),a=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+n.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(n.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new s.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=a},71325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var n=r(51811),i=r(98370),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new n.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},98370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var n=r(51811),i=r(80758),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new n.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new n.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new n.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new n.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new n.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new n.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(r){return i.taggedConstraint(e)(t)(r.parentRequest)},new n.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new n.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new n.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new n.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new n.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(r){return i.traverseAncerstors(r,i.taggedConstraint(e)(t))},new n.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(r){return!i.traverseAncerstors(r,i.taggedConstraint(e)(t))},new n.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new n.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new n.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},80758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var n=r(6867),i=r(47738),o=function(e,t){var r=e.parentRequest;return null!==r&&(!!t(r)||o(r,t))};t.traverseAncerstors=o;var s=function(e){return function(t){var r=function(r){return null!==r&&null!==r.target&&r.target.matchesTag(e)(t)};return r.metaData=new i.Metadata(e,t),r}};t.taggedConstraint=s;var a=s(n.NAMED_TAG);t.namedConstraint=a,t.typeConstraint=function(e){return function(t){var r=null;if(null!==t){if(r=t.bindings[0],"string"==typeof e)return r.serviceIdentifier===e;var n=t.bindings[0].implementationType;return e===n}return!1}}},70600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0,t.multiBindToService=function(e){return function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach((function(r){return e.bind(r).toService(t)}))}}}},85265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var n=r(16674);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===n.STACK_OVERFLOW}},37791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var r=0;t.id=function(){return r++}},55800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var n=r(16674);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function s(e){if(e.name)return e.name;var t=e.toString(),r=t.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,r){var n="",i=r(e,t);return 0!==i.length&&(n="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=s(e.implementationType)),n=n+"\n "+t,e.constraint.metaData&&(n=n+" - "+e.constraint.metaData)}))),n},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var r=function(e){return function e(t,r){void 0===r&&(r=[]);var n=i(t.serviceIdentifier);return r.push(n),null!==t.parentRequest?e(t.parentRequest,r):r}(e).reverse().join(" --\x3e ")}(t);throw new Error(n.CIRCULAR_DEPENDENCY+" "+r)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var r="",n=t.getNamedTag(),i=t.getCustomTags();return null!==n&&(r+=n.toString()+"\n"),null!==i&&i.forEach((function(e){r+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+r}return" "+e},t.getFunctionName=s},48738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},41595:(e,t,r)=>{"use strict";const n=r(57147);let i;e.exports=()=>(void 0===i&&(i=function(){try{return n.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return n.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),i)},82818:(e,t,r)=>{"use strict";const n=r(22037),i=r(57147),o=r(41595),s=()=>{if("linux"!==process.platform)return!1;if(n.release().toLowerCase().includes("microsoft"))return!o();try{return!!i.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!o()}catch(e){return!1}};process.env.__IS_WSL_TEST__?e.exports=s:e.exports=s()},60516:(e,t,r)=>{"use strict";function n(e,t){void 0===t&&(t=!1);var r=e.length,n=0,a="",c=0,u=16,l=0,h=0,p=0,d=0,f=0;function v(t,r){for(var i=0,o=0;i<t||!r;){var s=e.charCodeAt(n);if(s>=48&&s<=57)o=16*o+s-48;else if(s>=65&&s<=70)o=16*o+s-65+10;else{if(!(s>=97&&s<=102))break;o=16*o+s-97+10}n++,i++}return i<t&&(o=-1),o}function y(){if(a="",f=0,c=n,h=l,d=p,n>=r)return c=r,u=17;var t=e.charCodeAt(n);if(i(t)){do{n++,a+=String.fromCharCode(t),t=e.charCodeAt(n)}while(i(t));return u=15}if(o(t))return n++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,a+="\n"),l++,p=n,u=14;switch(t){case 123:return n++,u=1;case 125:return n++,u=2;case 91:return n++,u=3;case 93:return n++,u=4;case 58:return n++,u=6;case 44:return n++,u=5;case 34:return n++,a=function(){for(var t="",i=n;;){if(n>=r){t+=e.substring(i,n),f=2;break}var s=e.charCodeAt(n);if(34===s){t+=e.substring(i,n),n++;break}if(92!==s){if(s>=0&&s<=31){if(o(s)){t+=e.substring(i,n),f=2;break}f=6}n++}else{if(t+=e.substring(i,n),++n>=r){f=2;break}switch(e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=v(4,!0);a>=0?t+=String.fromCharCode(a):f=4;break;default:f=5}i=n}}return t}(),u=10;case 47:var y=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!o(e.charCodeAt(n));)n++;return a=e.substring(y,n),u=12}if(42===e.charCodeAt(n+1)){n+=2;for(var g=r-1,b=!1;n<g;){var _=e.charCodeAt(n);if(42===_&&47===e.charCodeAt(n+1)){n+=2,b=!0;break}n++,o(_)&&(13===_&&10===e.charCodeAt(n)&&n++,l++,p=n)}return b||(n++,f=1),a=e.substring(y,n),u=13}return a+=String.fromCharCode(t),n++,u=16;case 45:if(a+=String.fromCharCode(t),++n===r||!s(e.charCodeAt(n)))return u=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&s(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&s(e.charCodeAt(n))))return f=3,e.substring(t,n);for(n++;n<e.length&&s(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&s(e.charCodeAt(n))){for(n++;n<e.length&&s(e.charCodeAt(n));)n++;r=n}else f=3;return e.substring(t,r)}(),u=11;default:for(;n<r&&m(t);)n++,t=e.charCodeAt(n);if(c!==n){switch(a=e.substring(c,n)){case"true":return u=8;case"false":return u=9;case"null":return u=7}return u=16}return a+=String.fromCharCode(t),n++,u=16}}function m(e){if(i(e)||o(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){n=e,a="",c=0,u=16,f=0},getPosition:function(){return n},scan:t?function(){var e;do{e=y()}while(e>=12&&e<=15);return e}:y,getToken:function(){return u},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return n-c},getTokenStartLine:function(){return h},getTokenStartCharacter:function(){return c-d},getTokenError:function(){return f}}}function i(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function o(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t,r){var i,o,s,a,l;if(t){for(a=t.offset,l=a+t.length,s=a;s>0&&!u(e,s-1);)s--;for(var h=l;h<e.length&&!u(e,h);)h++;o=e.substring(s,h),i=function(e,t){for(var r=0,n=0,i=t.tabSize||4;r<e.length;){var o=e.charAt(r);if(" "===o)n++;else{if("\t"!==o)break;n+=i}r++}return Math.floor(n/i)}(o,r)}else o=e,i=0,s=0,a=0,l=e.length;var p,d=function(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if("\r"===n)return r+1<t.length&&"\n"===t.charAt(r+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(r,e),f=!1,v=0;p=r.insertSpaces?c(" ",r.tabSize||4):"\t";var y=n(o,!1),m=!1;function g(){return d+c(p,i+v)}function b(){var e=y.scan();for(f=!1;15===e||14===e;)f=f||14===e,e=y.scan();return m=16===e||0!==y.getTokenError(),e}var _=[];function E(t,r,n){!m&&r<l&&n>a&&e.substring(r,n)!==t&&_.push({offset:r,length:n-r,content:t})}var S=b();if(17!==S){var w=y.getTokenOffset()+s;E(c(p,i),s,w)}for(;17!==S;){for(var T=y.getTokenOffset()+y.getTokenLength()+s,P=b(),I="";!f&&(12===P||13===P);)E(" ",T,y.getTokenOffset()+s),T=y.getTokenOffset()+y.getTokenLength()+s,I=12===P?g():"",P=b();if(2===P)1!==S&&(v--,I=g());else if(4===P)3!==S&&(v--,I=g());else{switch(S){case 3:case 1:v++,I=g();break;case 5:case 12:I=g();break;case 13:I=f?g():" ";break;case 6:I=" ";break;case 10:if(6===P){I="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===P||13===P?I=" ":5!==P&&17!==P&&(m=!0);break;case 16:m=!0}!f||12!==P&&13!==P||(I=g())}E(I,T,y.getTokenOffset()+s),S=P}return _}function c(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function u(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var l;function h(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=l.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===n.type&&(n.length=e-n.offset,n=n.parent)}function o(e){return n.children.push(e),e}d(e,{onObjectBegin:function(e){n=o({type:"object",offset:e,length:-1,parent:n,children:[]})},onObjectProperty:function(e,t,r){(n=o({type:"property",offset:t,length:-1,parent:n,children:[]})).children.push({type:"string",value:e,offset:t,length:r,parent:n})},onObjectEnd:function(e,t){i(e+t),n.length=e+t-n.offset,n=n.parent,i(e+t)},onArrayBegin:function(e,t){n=o({type:"array",offset:e,length:-1,parent:n,children:[]})},onArrayEnd:function(e,t){n.length=e+t-n.offset,n=n.parent,i(e+t)},onLiteralValue:function(e,t,r){o({type:f(e),offset:t,length:r,parent:n,value:e}),i(t+r)},onSeparator:function(e,t,r){"property"===n.type&&(":"===e?n.colonOffset=t:","===e&&i(t))},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r);var s=n.children[0];return s&&delete s.parent,s}function p(e,t){if(e){for(var r=e,n=0,i=t;n<i.length;n++){var o=i[n];if("string"==typeof o){if("object"!==r.type||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){r=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if("array"!==r.type||l<0||!Array.isArray(r.children)||l>=r.children.length)return;r=r.children[l]}}return r}}function d(e,t,r){void 0===r&&(r=l.DEFAULT);var i=n(e,!1);function o(e){return e?function(){return e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}function s(e){return e?function(t){return e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}var a=o(t.onObjectBegin),c=s(t.onObjectProperty),u=o(t.onObjectEnd),h=o(t.onArrayBegin),p=o(t.onArrayEnd),d=s(t.onLiteralValue),f=s(t.onSeparator),v=o(t.onComment),y=s(t.onError),m=r&&r.disallowComments,g=r&&r.allowTrailingComma;function b(){for(;;){var e=i.scan();switch(i.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:m||_(11);break;case 2:_(12);break;case 6:_(16)}switch(e){case 12:case 13:m?_(10):v();break;case 16:_(1);break;case 15:case 14:break;default:return e}}}function _(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),y(e),t.length+r.length>0)for(var n=i.getToken();17!==n;){if(-1!==t.indexOf(n)){b();break}if(-1!==r.indexOf(n))break;n=b()}}function E(e){var t=i.getTokenValue();return e?d(t):c(t),b(),!0}return b(),17===i.getToken()?!!r.allowEmptyContent||(_(4,[],[]),!1):function e(){switch(i.getToken()){case 3:return function(){h(),b();for(var t=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(t||_(4,[],[]),f(","),b(),4===i.getToken()&&g)break}else t&&_(6,[],[]);e()||_(4,[],[4,5]),t=!0}return p(),4!==i.getToken()?_(8,[4],[]):b(),!0}();case 1:return function(){a(),b();for(var t=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(t||_(4,[],[]),f(","),b(),2===i.getToken()&&g)break}else t&&_(6,[],[]);(10!==i.getToken()?(_(3,[],[2,5]),0):(E(!1),6===i.getToken()?(f(":"),b(),e()||_(4,[],[2,5])):_(5,[],[2,5]),1))||_(4,[],[2,5]),t=!0}return u(),2!==i.getToken()?_(7,[2],[]):b(),!0}();case 10:return E(!0);default:return function(){switch(i.getToken()){case 11:var e=i.getTokenValue(),t=Number(e);isNaN(t)&&(_(2),t=0),d(t);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return b(),!0}()}}()?(17!==i.getToken()&&_(9,[],[]),!0):(_(4,[],[]),!1)}function f(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function v(e,t,r){if(!r.formattingOptions)return[t];var n=y(e,t),i=t.offset,o=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!u(n,i-1);)i--;for(;o<n.length&&!u(n,o);)o++}for(var s=a(n,{offset:i,length:o-i},r.formattingOptions),c=s.length-1;c>=0;c--){var l=s[c];n=y(n,l),i=Math.min(i,l.offset),o=Math.max(o,l.offset+l.length),o+=l.content.length-l.length}return[{offset:i,length:e.length-(n.length-o)-i,content:n.substring(i,o)}]}function y(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}r.r(t),r.d(t,{applyEdits:()=>x,createScanner:()=>m,findNodeAtLocation:()=>E,findNodeAtOffset:()=>S,format:()=>C,getLocation:()=>g,getNodePath:()=>w,getNodeValue:()=>T,modify:()=>A,parse:()=>b,parseTree:()=>_,printParseErrorCode:()=>O,stripComments:()=>I,visit:()=>P}),function(e){e.DEFAULT={allowTrailingComma:!1}}(l||(l={}));var m=n,g=function(e,t){var r=[],n=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(e,t,r,n){o.value=e,o.offset=t,o.length=r,o.type=n,o.colonOffset=void 0,i=o}try{d(e,{onObjectBegin:function(e,o){if(t<=e)throw n;i=void 0,s=t>e,r.push("")},onObjectProperty:function(e,i,o){if(t<i)throw n;if(a(e,i,o,"property"),r[r.length-1]=e,t<=i+o)throw n},onObjectEnd:function(e,o){if(t<=e)throw n;i=void 0,r.pop()},onArrayBegin:function(e,o){if(t<=e)throw n;i=void 0,r.push(0)},onArrayEnd:function(e,o){if(t<=e)throw n;i=void 0,r.pop()},onLiteralValue:function(e,r,i){if(t<r)throw n;if(a(e,r,i,f(e)),t<=r+i)throw n},onSeparator:function(e,o,a){if(t<=o)throw n;if(":"===e&&i&&"property"===i.type)i.colonOffset=o,s=!1,i=void 0;else if(","===e){var c=r[r.length-1];"number"==typeof c?r[r.length-1]=c+1:(s=!0,r[r.length-1]=""),i=void 0}}})}catch(e){if(e!==n)throw e}return{path:r,previousNode:i,isAtPropertyKey:s,matches:function(e){for(var t=0,n=0;t<e.length&&n<r.length;n++)if(e[t]===r[n]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},b=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=l.DEFAULT);var n=null,i=[],o=[];function s(e){Array.isArray(i)?i.push(e):null!==n&&(i[n]=e)}return d(e,{onObjectBegin:function(){var e={};s(e),o.push(i),i=e,n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var e=[];s(e),o.push(i),i=e,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r),i[0]},_=h,E=p,S=function e(t,r,n){if(void 0===n&&(n=!1),function(e,t,r){return void 0===r&&(r=!1),t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}(t,r,n)){var i=t.children;if(Array.isArray(i))for(var o=0;o<i.length&&i[o].offset<=r;o++){var s=e(i[o],r,n);if(s)return s}return t}},w=function e(t){if(!t.parent||!t.parent.children)return[];var r=e(t.parent);if("property"===t.parent.type){var n=t.parent.children[0].value;r.push(n)}else if("array"===t.parent.type){var i=t.parent.children.indexOf(t);-1!==i&&r.push(i)}return r},T=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var r=Object.create(null),n=0,i=t.children;n<i.length;n++){var o=i[n],s=o.children[1];s&&(r[o.children[0].value]=e(s))}return r;case"null":case"string":case"number":case"boolean":return t.value;default:return}},P=d,I=function(e,t){var r,i,o=n(e),s=[],a=0;do{switch(i=o.getPosition(),r=o.scan()){case 12:case 13:case 17:a!==i&&s.push(e.substring(a,i)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}}while(17!==r);return s.join("")};function O(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function C(e,t,r){return a(e,t,r)}function A(e,t,r,n){return function(e,t,r,n){for(var i,o=t.slice(),s=h(e,[]),a=void 0,c=void 0;o.length>0&&(c=o.pop(),void 0===(a=p(s,o))&&void 0!==r);)"string"==typeof c?((i={})[c]=r,r=i):r=[r];if(a){if("object"===a.type&&"string"==typeof c&&Array.isArray(a.children)){var u=p(a,[c]);if(void 0!==u){if(void 0===r){if(!u.parent)throw new Error("Malformed AST");var l=a.children.indexOf(u.parent),d=void 0,f=u.parent.offset+u.parent.length;return l>0?d=(w=a.children[l-1]).offset+w.length:(d=a.offset+1,a.children.length>1&&(f=a.children[1].offset)),v(e,{offset:d,length:f-d,content:""},n)}return v(e,{offset:u.offset,length:u.length,content:JSON.stringify(r)},n)}if(void 0===r)return[];var y=JSON.stringify(c)+": "+JSON.stringify(r),m=void 0;return v(e,m=(T=n.getInsertionIndex?n.getInsertionIndex(a.children.map((function(e){return e.children[0].value}))):a.children.length)>0?{offset:(w=a.children[T-1]).offset+w.length,length:0,content:","+y}:0===a.children.length?{offset:a.offset+1,length:0,content:y}:{offset:a.offset+1,length:0,content:y+","},n)}if("array"===a.type&&"number"==typeof c&&Array.isArray(a.children)){var g=c;if(-1===g)return y=""+JSON.stringify(r),m=void 0,v(e,m=0===a.children.length?{offset:a.offset+1,length:0,content:y}:{offset:(w=a.children[a.children.length-1]).offset+w.length,length:0,content:","+y},n);if(void 0===r&&a.children.length>=0){var b=c,_=a.children[b];if(m=void 0,1===a.children.length)m={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===b){var E=(w=a.children[b-1]).offset+w.length;m={offset:E,length:a.offset+a.length-2-E,content:""}}else m={offset:_.offset,length:a.children[b+1].offset-_.offset,content:""};return v(e,m,n)}if(void 0!==r){if(m=void 0,y=""+JSON.stringify(r),!n.isArrayInsertion&&a.children.length>c){var S=a.children[c];m={offset:S.offset,length:S.length,content:y}}else if(0===a.children.length||0===c)m={offset:a.offset+1,length:0,content:0===a.children.length?y:y+","};else{var w,T=c>a.children.length?a.children.length:c;m={offset:(w=a.children[T-1]).offset+w.length,length:0,content:","+y}}return v(e,m,n)}throw new Error("Can not "+(void 0===r?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+g+" as length is not sufficient")}throw new Error("Can not add "+("number"!=typeof c?"index":"property")+" to parent of type "+a.type)}if(void 0===r)throw new Error("Can not delete in empty document");return v(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(r)},n)}(e,t,r,n)}function x(e,t){for(var r=t.length-1;r>=0;r--)e=y(e,t[r]);return e}},62705:(e,t,r)=>{var n=r(55639).Symbol;e.exports=n},44239:(e,t,r)=>{var n=r(62705),i=r(89607),o=r(2333),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},27561:(e,t,r)=>{var n=r(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},31957:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},89607:(e,t,r)=>{var n=r(62705),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:(e,t,r)=>{var n=r(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},67990:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},23279:(e,t,r)=>{var n=r(13218),i=r(7771),o=r(14841),s=Math.max,a=Math.min;e.exports=function(e,t,r){var c,u,l,h,p,d,f=0,v=!1,y=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=c,n=u;return c=u=void 0,f=t,h=e.apply(n,r)}function b(e){return f=e,p=setTimeout(E,t),v?g(e):h}function _(e){var r=e-d;return void 0===d||r>=t||r<0||y&&e-f>=l}function E(){var e=i();if(_(e))return S(e);p=setTimeout(E,function(e){var r=t-(e-d);return y?a(r,l-(e-f)):r}(e))}function S(e){return p=void 0,m&&c?g(e):(c=u=void 0,h)}function w(){var e=i(),r=_(e);if(c=arguments,u=this,d=e,r){if(void 0===p)return b(d);if(y)return clearTimeout(p),p=setTimeout(E,t),g(d)}return void 0===p&&(p=setTimeout(E,t)),h}return t=o(t)||0,n(r)&&(v=!!r.leading,l=(y="maxWait"in r)?s(o(r.maxWait)||0,t):l,m="trailing"in r?!!r.trailing:m),w.cancel=function(){void 0!==p&&clearTimeout(p),f=0,c=d=u=p=void 0},w.flush=function(){return void 0===p?h:S(i())},w}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},33448:(e,t,r)=>{var n=r(44239),i=r(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},96486:function(e,t,r){var n;e=r.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,h=9007199254740991,p=NaN,d=4294967295,f=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],v="[object Arguments]",y="[object Array]",m="[object Boolean]",g="[object Date]",b="[object Error]",_="[object Function]",E="[object GeneratorFunction]",S="[object Map]",w="[object Number]",T="[object Object]",P="[object Promise]",I="[object RegExp]",O="[object Set]",C="[object String]",A="[object Symbol]",x="[object WeakMap]",R="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",D="[object Float64Array]",M="[object Int8Array]",j="[object Int16Array]",L="[object Int32Array]",F="[object Uint8Array]",V="[object Uint8ClampedArray]",B="[object Uint16Array]",U="[object Uint32Array]",W=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,z=RegExp(G.source),K=RegExp(q.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="a-z\\xdf-\\xf6\\xf8-\\xff",we="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="["+Te+"]",Ie="["+Ee+"]",Oe="\\d+",Ce="["+Se+"]",Ae="[^\\ud800-\\udfff"+Te+Oe+"\\u2700-\\u27bf"+Se+we+"]",xe="\\ud83c[\\udffb-\\udfff]",Re="[^\\ud800-\\udfff]",Ne="(?:\\ud83c[\\udde6-\\uddff]){2}",ke="[\\ud800-\\udbff][\\udc00-\\udfff]",De="["+we+"]",Me="(?:"+Ce+"|"+Ae+")",je="(?:"+De+"|"+Ae+")",Le="(?:['](?:d|ll|m|re|s|t|ve))?",Fe="(?:['](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+Ie+"|"+xe+")?",Be="[\\ufe0e\\ufe0f]?",Ue=Be+Ve+"(?:\\u200d(?:"+[Re,Ne,ke].join("|")+")"+Be+Ve+")*",We="(?:"+["[\\u2700-\\u27bf]",Ne,ke].join("|")+")"+Ue,$e="(?:"+[Re+Ie+"?",Ie,Ne,ke,"[\\ud800-\\udfff]"].join("|")+")",He=RegExp("[']","g"),Ge=RegExp(Ie,"g"),qe=RegExp(xe+"(?="+xe+")|"+$e+Ue,"g"),ze=RegExp([De+"?"+Ce+"+"+Le+"(?="+[Pe,De,"$"].join("|")+")",je+"+"+Fe+"(?="+[Pe,De+Me,"$"].join("|")+")",De+"?"+Me+"+"+Le,De+"+"+Fe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,We].join("|"),"g"),Ke=RegExp("[\\u200d\\ud800-\\udfff"+Ee+"\\ufe0e\\ufe0f]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,Je={};Je[k]=Je[D]=Je[M]=Je[j]=Je[L]=Je[F]=Je[V]=Je[B]=Je[U]=!0,Je[v]=Je[y]=Je[R]=Je[m]=Je[N]=Je[g]=Je[b]=Je[_]=Je[S]=Je[w]=Je[T]=Je[I]=Je[O]=Je[C]=Je[x]=!1;var Ze={};Ze[v]=Ze[y]=Ze[R]=Ze[N]=Ze[m]=Ze[g]=Ze[k]=Ze[D]=Ze[M]=Ze[j]=Ze[L]=Ze[S]=Ze[w]=Ze[T]=Ze[I]=Ze[O]=Ze[C]=Ze[A]=Ze[F]=Ze[V]=Ze[B]=Ze[U]=!0,Ze[b]=Ze[_]=Ze[x]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,rt=parseInt,nt="object"==typeof global&&global&&global.Object===Object&&global,it="object"==typeof self&&self&&self.Object===Object&&self,ot=nt||it||Function("return this")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,ct=at&&at.exports===st,ut=ct&&nt.process,lt=function(){try{return at&&at.require&&at.require("util").types||ut&&ut.binding&&ut.binding("util")}catch(e){}}(),ht=lt&&lt.isArrayBuffer,pt=lt&&lt.isDate,dt=lt&&lt.isMap,ft=lt&&lt.isRegExp,vt=lt&&lt.isSet,yt=lt&&lt.isTypedArray;function mt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function gt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function _t(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Et(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function St(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function wt(e,t){return!(null==e||!e.length)&&kt(e,t,0)>-1}function Tt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Pt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function It(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Ot(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Ct(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function At(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var xt=Lt("length");function Rt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Nt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function kt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Nt(e,Mt,r)}function Dt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Mt(e){return e!=e}function jt(e,t){var r=null==e?0:e.length;return r?Bt(e,t)/r:p}function Lt(e){return function(t){return null==t?i:t[e]}}function Ft(e){return function(t){return null==e?i:e[t]}}function Vt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Bt(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function Ut(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Wt(e){return e?e.slice(0,sr(e)+1).replace(ne,""):e}function $t(e){return function(t){return e(t)}}function Ht(e,t){return Pt(t,(function(t){return e[t]}))}function Gt(e,t){return e.has(t)}function qt(e,t){for(var r=-1,n=e.length;++r<n&&kt(t,e[r],0)>-1;);return r}function zt(e,t){for(var r=e.length;r--&&kt(t,e[r],0)>-1;);return r}function Kt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Yt=Ft({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Xt=Ft({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qt(e){return"\\"+et[e]}function Jt(e){return Ke.test(e)}function Zt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function er(e,t){return function(r){return e(t(r))}}function tr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function rr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function nr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function ir(e){return Jt(e)?function(e){for(var t=qe.lastIndex=0;qe.test(e);)++t;return t}(e):xt(e)}function or(e){return Jt(e)?function(e){return e.match(qe)||[]}(e):function(e){return e.split("")}(e)}function sr(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var ar=Ft({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cr=function e(t){var r,n=(t=null==t?ot:cr.defaults(ot.Object(),t,cr.pick(ot,Xe))).Array,ie=t.Date,Ee=t.Error,Se=t.Function,we=t.Math,Te=t.Object,Pe=t.RegExp,Ie=t.String,Oe=t.TypeError,Ce=n.prototype,Ae=Se.prototype,xe=Te.prototype,Re=t["__core-js_shared__"],Ne=Ae.toString,ke=xe.hasOwnProperty,De=0,Me=(r=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",je=xe.toString,Le=Ne.call(Te),Fe=ot._,Ve=Pe("^"+Ne.call(ke).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=ct?t.Buffer:i,Ue=t.Symbol,We=t.Uint8Array,$e=Be?Be.allocUnsafe:i,qe=er(Te.getPrototypeOf,Te),Ke=Te.create,et=xe.propertyIsEnumerable,nt=Ce.splice,it=Ue?Ue.isConcatSpreadable:i,st=Ue?Ue.iterator:i,at=Ue?Ue.toStringTag:i,ut=function(){try{var e=uo(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,xt=ie&&ie.now!==ot.Date.now&&ie.now,Ft=t.setTimeout!==ot.setTimeout&&t.setTimeout,ur=we.ceil,lr=we.floor,hr=Te.getOwnPropertySymbols,pr=Be?Be.isBuffer:i,dr=t.isFinite,fr=Ce.join,vr=er(Te.keys,Te),yr=we.max,mr=we.min,gr=ie.now,br=t.parseInt,_r=we.random,Er=Ce.reverse,Sr=uo(t,"DataView"),wr=uo(t,"Map"),Tr=uo(t,"Promise"),Pr=uo(t,"Set"),Ir=uo(t,"WeakMap"),Or=uo(Te,"create"),Cr=Ir&&new Ir,Ar={},xr=Vo(Sr),Rr=Vo(wr),Nr=Vo(Tr),kr=Vo(Pr),Dr=Vo(Ir),Mr=Ue?Ue.prototype:i,jr=Mr?Mr.valueOf:i,Lr=Mr?Mr.toString:i;function Fr(e){if(ra(e)&&!Gs(e)&&!(e instanceof Wr)){if(e instanceof Ur)return e;if(ke.call(e,"__wrapped__"))return Bo(e)}return new Ur(e)}var Vr=function(){function e(){}return function(t){if(!ta(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Br(){}function Ur(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function $r(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Gr;++t<r;)this.add(e[t])}function zr(e){var t=this.__data__=new Hr(e);this.size=t.size}function Kr(e,t){var r=Gs(e),n=!r&&Hs(e),i=!r&&!n&&Ys(e),o=!r&&!n&&!i&&la(e),s=r||n||i||o,a=s?Ut(e.length,Ie):[],c=a.length;for(var u in e)!t&&!ke.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||mo(u,c))||a.push(u);return a}function Yr(e){var t=e.length;return t?e[qn(0,t-1)]:i}function Xr(e,t){return Do(Oi(e),sn(t,0,e.length))}function Qr(e){return Do(Oi(e))}function Jr(e,t,r){(r!==i&&!Us(e[t],r)||r===i&&!(t in e))&&nn(e,t,r)}function Zr(e,t,r){var n=e[t];ke.call(e,t)&&Us(n,r)&&(r!==i||t in e)||nn(e,t,r)}function en(e,t){for(var r=e.length;r--;)if(Us(e[r][0],t))return r;return-1}function tn(e,t,r,n){return hn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function rn(e,t){return e&&Ci(t,Na(t),e)}function nn(e,t,r){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function on(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Oa(e,t[r]);return s}function sn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function an(e,t,r,n,o,s){var a,c=1&t,u=2&t,l=4&t;if(r&&(a=o?r(e,n,o,s):r(e)),a!==i)return a;if(!ta(e))return e;var h=Gs(e);if(h){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ke.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return Oi(e,a)}else{var p=po(e),d=p==_||p==E;if(Ys(e))return Ei(e,c);if(p==T||p==v||d&&!o){if(a=u||d?{}:vo(e),!c)return u?function(e,t){return Ci(e,ho(e),t)}(e,function(e,t){return e&&Ci(t,ka(t),e)}(a,e)):function(e,t){return Ci(e,lo(e),t)}(e,rn(a,e))}else{if(!Ze[p])return o?e:{};a=function(e,t,r){var n,i=e.constructor;switch(t){case R:return Si(e);case m:case g:return new i(+e);case N:return function(e,t){var r=t?Si(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case k:case D:case M:case j:case L:case F:case V:case B:case U:return wi(e,r);case S:return new i;case w:case C:return new i(e);case I:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new i;case A:return n=e,jr?Te(jr.call(n)):{}}}(e,p,c)}}s||(s=new zr);var f=s.get(e);if(f)return f;s.set(e,a),aa(e)?e.forEach((function(n){a.add(an(n,t,r,n,e,s))})):na(e)&&e.forEach((function(n,i){a.set(i,an(n,t,r,i,e,s))}));var y=h?i:(l?u?ro:to:u?ka:Na)(e);return bt(y||e,(function(n,i){y&&(n=e[i=n]),Zr(a,i,an(n,t,r,i,e,s))})),a}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Te(e);n--;){var o=r[n],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function un(e,t,r){if("function"!=typeof e)throw new Oe(o);return xo((function(){e.apply(i,r)}),t)}function ln(e,t,r,n){var i=-1,o=wt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=Pt(t,$t(r))),n?(o=Tt,s=!1):t.length>=200&&(o=Gt,s=!1,t=new qr(t));e:for(;++i<a;){var l=e[i],h=null==r?l:r(l);if(l=n||0!==l?l:0,s&&h==h){for(var p=u;p--;)if(t[p]===h)continue e;c.push(l)}else o(t,h,n)||c.push(l)}return c}Fr.templateSettings={escape:Y,evaluate:X,interpolate:Q,variable:"",imports:{_:Fr}},Fr.prototype=Br.prototype,Fr.prototype.constructor=Fr,Ur.prototype=Vr(Br.prototype),Ur.prototype.constructor=Ur,Wr.prototype=Vr(Br.prototype),Wr.prototype.constructor=Wr,$r.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},$r.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$r.prototype.get=function(e){var t=this.__data__;if(Or){var r=t[e];return r===s?i:r}return ke.call(t,e)?t[e]:i},$r.prototype.has=function(e){var t=this.__data__;return Or?t[e]!==i:ke.call(t,e)},$r.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Or&&t===i?s:t,this},Hr.prototype.clear=function(){this.__data__=[],this.size=0},Hr.prototype.delete=function(e){var t=this.__data__,r=en(t,e);return!(r<0||(r==t.length-1?t.pop():nt.call(t,r,1),--this.size,0))},Hr.prototype.get=function(e){var t=this.__data__,r=en(t,e);return r<0?i:t[r][1]},Hr.prototype.has=function(e){return en(this.__data__,e)>-1},Hr.prototype.set=function(e,t){var r=this.__data__,n=en(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Gr.prototype.clear=function(){this.size=0,this.__data__={hash:new $r,map:new(wr||Hr),string:new $r}},Gr.prototype.delete=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Gr.prototype.get=function(e){return ao(this,e).get(e)},Gr.prototype.has=function(e){return ao(this,e).has(e)},Gr.prototype.set=function(e,t){var r=ao(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},qr.prototype.add=qr.prototype.push=function(e){return this.__data__.set(e,s),this},qr.prototype.has=function(e){return this.__data__.has(e)},zr.prototype.clear=function(){this.__data__=new Hr,this.size=0},zr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},zr.prototype.get=function(e){return this.__data__.get(e)},zr.prototype.has=function(e){return this.__data__.has(e)},zr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Hr){var n=r.__data__;if(!wr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Gr(n)}return r.set(e,t),this.size=r.size,this};var hn=Ri(bn),pn=Ri(_n,!0);function dn(e,t){var r=!0;return hn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function fn(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(c===i?a==a&&!ua(a):r(a,c)))var c=a,u=s}return u}function vn(e,t){var r=[];return hn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function yn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=yo),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?yn(a,t-1,r,n,i):It(i,a):n||(i[i.length]=a)}return i}var mn=Ni(),gn=Ni(!0);function bn(e,t){return e&&mn(e,t,Na)}function _n(e,t){return e&&gn(e,t,Na)}function En(e,t){return St(t,(function(t){return Js(e[t])}))}function Sn(e,t){for(var r=0,n=(t=mi(t,e)).length;null!=e&&r<n;)e=e[Fo(t[r++])];return r&&r==n?e:i}function wn(e,t,r){var n=t(e);return Gs(e)?n:It(n,r(e))}function Tn(e){return null==e?e===i?"[object Undefined]":"[object Null]":at&&at in Te(e)?function(e){var t=ke.call(e,at),r=e[at];try{e[at]=i;var n=!0}catch(e){}var o=je.call(e);return n&&(t?e[at]=r:delete e[at]),o}(e):function(e){return je.call(e)}(e)}function Pn(e,t){return e>t}function In(e,t){return null!=e&&ke.call(e,t)}function On(e,t){return null!=e&&t in Te(e)}function Cn(e,t,r){for(var o=r?Tt:wt,s=e[0].length,a=e.length,c=a,u=n(a),l=1/0,h=[];c--;){var p=e[c];c&&t&&(p=Pt(p,$t(t))),l=mr(p.length,l),u[c]=!r&&(t||s>=120&&p.length>=120)?new qr(c&&p):i}p=e[0];var d=-1,f=u[0];e:for(;++d<s&&h.length<l;){var v=p[d],y=t?t(v):v;if(v=r||0!==v?v:0,!(f?Gt(f,y):o(h,y,r))){for(c=a;--c;){var m=u[c];if(!(m?Gt(m,y):o(e[c],y,r)))continue e}f&&f.push(y),h.push(v)}}return h}function An(e,t,r){var n=null==(e=Io(e,t=mi(t,e)))?e:e[Fo(Qo(t))];return null==n?i:mt(n,e,r)}function xn(e){return ra(e)&&Tn(e)==v}function Rn(e,t,r,n,o){return e===t||(null==e||null==t||!ra(e)&&!ra(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var a=Gs(e),c=Gs(t),u=a?y:po(e),l=c?y:po(t),h=(u=u==v?T:u)==T,p=(l=l==v?T:l)==T,d=u==l;if(d&&Ys(e)){if(!Ys(t))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new zr),a||la(e)?Zi(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case m:case g:case w:return Us(+e,+t);case b:return e.name==t.name&&e.message==t.message;case I:case C:return e==t+"";case S:var a=Zt;case O:var c=1&n;if(a||(a=rr),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var l=Zi(a(e),a(t),n,i,o,s);return s.delete(e),l;case A:if(jr)return jr.call(e)==jr.call(t)}return!1}(e,t,u,r,n,o,s);if(!(1&r)){var f=h&&ke.call(e,"__wrapped__"),_=p&&ke.call(t,"__wrapped__");if(f||_){var E=f?e.value():e,P=_?t.value():t;return s||(s=new zr),o(E,P,r,n,s)}}return!!d&&(s||(s=new zr),function(e,t,r,n,o,s){var a=1&r,c=to(e),u=c.length;if(u!=to(t).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in t:ke.call(t,h)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var f=!0;s.set(e,t),s.set(t,e);for(var v=a;++l<u;){var y=e[h=c[l]],m=t[h];if(n)var g=a?n(m,y,h,t,e,s):n(y,m,h,e,t,s);if(!(g===i?y===m||o(y,m,r,n,s):g)){f=!1;break}v||(v="constructor"==h)}if(f&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,r,n,o,s))}(e,t,r,n,Rn,o))}function Nn(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=Te(e);o--;){var c=r[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=r[o])[0],l=e[u],h=c[1];if(a&&c[2]){if(l===i&&!(u in e))return!1}else{var p=new zr;if(n)var d=n(l,h,u,e,t,p);if(!(d===i?Rn(h,l,3,n,p):d))return!1}}return!0}function kn(e){return!(!ta(e)||(t=e,Me&&Me in t))&&(Js(e)?Ve:ve).test(Vo(e));var t}function Dn(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Gs(e)?Vn(e[0],e[1]):Fn(e):dc(e)}function Mn(e){if(!So(e))return vr(e);var t=[];for(var r in Te(e))ke.call(e,r)&&"constructor"!=r&&t.push(r);return t}function jn(e,t){return e<t}function Ln(e,t){var r=-1,i=zs(e)?n(e.length):[];return hn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Fn(e){var t=co(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(r){return r===e||Nn(r,e,t)}}function Vn(e,t){return bo(e)&&wo(t)?To(Fo(e),t):function(r){var n=Oa(r,e);return n===i&&n===t?Ca(r,e):Rn(t,n,3)}}function Bn(e,t,r,n,o){e!==t&&mn(t,(function(s,a){if(o||(o=new zr),ta(s))!function(e,t,r,n,o,s,a){var c=Co(e,r),u=Co(t,r),l=a.get(u);if(l)Jr(e,r,l);else{var h=s?s(c,u,r+"",e,t,a):i,p=h===i;if(p){var d=Gs(u),f=!d&&Ys(u),v=!d&&!f&&la(u);h=u,d||f||v?Gs(c)?h=c:Ks(c)?h=Oi(c):f?(p=!1,h=Ei(u,!0)):v?(p=!1,h=wi(u,!0)):h=[]:oa(u)||Hs(u)?(h=c,Hs(c)?h=ga(c):ta(c)&&!Js(c)||(h=vo(u))):p=!1}p&&(a.set(u,h),o(h,u,n,s,a),a.delete(u)),Jr(e,r,h)}}(e,t,a,r,Bn,n,o);else{var c=n?n(Co(e,a),s,a+"",e,t,o):i;c===i&&(c=s),Jr(e,a,c)}}),ka)}function Un(e,t){var r=e.length;if(r)return mo(t+=t<0?r:0,r)?e[t]:i}function Wn(e,t,r){t=t.length?Pt(t,(function(e){return Gs(e)?function(t){return Sn(t,1===e.length?e[0]:e)}:e})):[ic];var n=-1;t=Pt(t,$t(so()));var i=Ln(e,(function(e,r,i){var o=Pt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var c=Ti(i[n],o[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(i)}function $n(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=Sn(e,s);r(a,s)&&Qn(o,mi(s,e),a)}return o}function Hn(e,t,r,n){var i=n?Dt:kt,o=-1,s=t.length,a=e;for(e===t&&(t=Oi(t)),r&&(a=Pt(e,$t(r)));++o<s;)for(var c=0,u=t[o],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==e&&nt.call(a,c,1),nt.call(e,c,1);return e}function Gn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;mo(i)?nt.call(e,i,1):ui(e,i)}}return e}function qn(e,t){return e+lr(_r()*(t-e+1))}function zn(e,t){var r="";if(!e||t<1||t>h)return r;do{t%2&&(r+=e),(t=lr(t/2))&&(e+=e)}while(t);return r}function Kn(e,t){return Ro(Po(e,t,ic),e+"")}function Yn(e){return Yr(Ua(e))}function Xn(e,t){var r=Ua(e);return Do(r,sn(t,0,r.length))}function Qn(e,t,r,n){if(!ta(e))return e;for(var o=-1,s=(t=mi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=Fo(t[o]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var h=c[u];(l=n?n(h,u,c):i)===i&&(l=ta(h)?h:mo(t[o+1])?[]:{})}Zr(c,u,l),c=c[u]}return e}var Jn=Cr?function(e,t){return Cr.set(e,t),e}:ic,Zn=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ei(e){return Do(Ua(e))}function ti(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ri(e,t){var r;return hn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ni(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!ua(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return ii(e,t,ic,r)}function ii(e,t,r,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,c=null===t,u=ua(t),l=t===i;o<s;){var h=lr((o+s)/2),p=r(e[h]),d=p!==i,f=null===p,v=p==p,y=ua(p);if(a)var m=n||v;else m=l?v&&(n||d):c?v&&d&&(n||!f):u?v&&d&&!f&&(n||!y):!f&&!y&&(n?p<=t:p<t);m?o=h+1:s=h}return mr(s,4294967294)}function oi(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Us(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function si(e){return"number"==typeof e?e:ua(e)?p:+e}function ai(e){if("string"==typeof e)return e;if(Gs(e))return Pt(e,ai)+"";if(ua(e))return Lr?Lr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,r){var n=-1,i=wt,o=e.length,s=!0,a=[],c=a;if(r)s=!1,i=Tt;else if(o>=200){var u=t?null:zi(e);if(u)return rr(u);s=!1,i=Gt,c=new qr}else c=t?[]:a;e:for(;++n<o;){var l=e[n],h=t?t(l):l;if(l=r||0!==l?l:0,s&&h==h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),a.push(l)}else i(c,h,r)||(c!==a&&c.push(h),a.push(l))}return a}function ui(e,t){return null==(e=Io(e,t=mi(t,e)))||delete e[Fo(Qo(t))]}function li(e,t,r,n){return Qn(e,t,r(Sn(e,t)),n)}function hi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ti(e,n?0:o,n?o+1:i):ti(e,n?o+1:0,n?i:o)}function pi(e,t){var r=e;return r instanceof Wr&&(r=r.value()),Ot(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),r)}function di(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=ln(s[o]||a,e[c],t,r));return ci(yn(s,1),t,r)}function fi(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var c=n<s?t[n]:i;r(a,e[n],c)}return a}function vi(e){return Ks(e)?e:[]}function yi(e){return"function"==typeof e?e:ic}function mi(e,t){return Gs(e)?e:bo(e,t)?[e]:Lo(ba(e))}var gi=Kn;function bi(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ti(e,t,r)}var _i=lt||function(e){return ot.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var r=e.length,n=$e?$e(r):new e.constructor(r);return e.copy(n),n}function Si(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function wi(e,t){var r=t?Si(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,s=ua(e),a=t!==i,c=null===t,u=t==t,l=ua(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||n&&a&&u||!r&&u||!o)return 1;if(!n&&!s&&!l&&e<t||l&&r&&o&&!n&&!s||c&&r&&o||!a&&o||!u)return-1}return 0}function Pi(e,t,r,i){for(var o=-1,s=e.length,a=r.length,c=-1,u=t.length,l=yr(s-a,0),h=n(u+l),p=!i;++c<u;)h[c]=t[c];for(;++o<a;)(p||o<s)&&(h[r[o]]=e[o]);for(;l--;)h[c++]=e[o++];return h}function Ii(e,t,r,i){for(var o=-1,s=e.length,a=-1,c=r.length,u=-1,l=t.length,h=yr(s-c,0),p=n(h+l),d=!i;++o<h;)p[o]=e[o];for(var f=o;++u<l;)p[f+u]=t[u];for(;++a<c;)(d||o<s)&&(p[f+r[a]]=e[o++]);return p}function Oi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ci(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=n?n(r[c],e[c],c,r,e):i;u===i&&(u=e[c]),o?nn(r,c,u):Zr(r,c,u)}return r}function Ai(e,t){return function(r,n){var i=Gs(r)?gt:tn,o=t?t():{};return i(r,e,so(n,2),o)}}function xi(e){return Kn((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&go(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=Te(t);++n<o;){var c=r[n];c&&e(t,c,n,s)}return t}))}function Ri(e,t){return function(r,n){if(null==r)return r;if(!zs(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Te(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ni(e){return function(t,r,n){for(var i=-1,o=Te(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===r(o[c],c,o))break}return t}}function ki(e){return function(t){var r=Jt(t=ba(t))?or(t):i,n=r?r[0]:t.charAt(0),o=r?bi(r,1).join(""):t.slice(1);return n[e]()+o}}function Di(e){return function(t){return Ot(Ja(Ha(t).replace(He,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Vr(e.prototype),n=e.apply(r,t);return ta(n)?n:r}}function ji(e){return function(t,r,n){var o=Te(t);if(!zs(t)){var s=so(r,3);t=Na(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[s?t[a]:a]:i}}function Li(e){return eo((function(t){var r=t.length,n=r,s=Ur.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Oe(o);if(s&&!c&&"wrapper"==io(a))var c=new Ur([],!0)}for(n=c?n:r;++n<r;){var u=io(a=t[n]),l="wrapper"==u?no(a):i;c=l&&_o(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[io(l[0])].apply(c,l[3]):1==a.length&&_o(a)?c[u]():c.thru(a)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Gs(n))return c.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Fi(e,t,r,o,s,a,c,l,h,p){var d=t&u,f=1&t,v=2&t,y=24&t,m=512&t,g=v?i:Mi(e);return function i(){for(var u=arguments.length,b=n(u),_=u;_--;)b[_]=arguments[_];if(y)var E=oo(i),S=Kt(b,E);if(o&&(b=Pi(b,o,s,y)),a&&(b=Ii(b,a,c,y)),u-=S,y&&u<p){var w=tr(b,E);return Gi(e,t,Fi,i.placeholder,r,b,w,l,h,p-u)}var T=f?r:this,P=v?T[e]:e;return u=b.length,l?b=Oo(b,l):m&&u>1&&b.reverse(),d&&h<u&&(b.length=h),this&&this!==ot&&this instanceof i&&(P=g||Mi(P)),P.apply(T,b)}}function Vi(e,t){return function(r,n){return function(e,t,r,n){return bn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Bi(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ai(r),n=ai(n)):(r=si(r),n=si(n)),o=e(r,n)}return o}}function Ui(e){return eo((function(t){return t=Pt(t,$t(so())),Kn((function(r){var n=this;return e(t,(function(e){return mt(e,n,r)}))}))}))}function Wi(e,t){var r=(t=t===i?" ":ai(t)).length;if(r<2)return r?zn(t,e):t;var n=zn(t,ur(e/ir(t)));return Jt(t)?bi(or(n),0,e).join(""):n.slice(0,e)}function $i(e){return function(t,r,o){return o&&"number"!=typeof o&&go(t,r,o)&&(r=o=i),t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r,i){for(var o=-1,s=yr(ur((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:fa(o),e)}}function Hi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ma(t),r=ma(r)),e(t,r)}}function Gi(e,t,r,n,o,s,a,u,l,h){var p=8&t;t|=p?c:64,4&(t&=~(p?64:c))||(t&=-4);var d=[e,t,o,p?s:i,p?a:i,p?i:s,p?i:a,u,l,h],f=r.apply(i,d);return _o(e)&&Ao(f,d),f.placeholder=n,No(f,e,t)}function qi(e){var t=we[e];return function(e,r){if(e=ma(e),(r=null==r?0:mr(va(r),292))&&dr(e)){var n=(ba(e)+"e").split("e");return+((n=(ba(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var zi=Pr&&1/rr(new Pr([,-0]))[1]==l?function(e){return new Pr(e)}:uc;function Ki(e){return function(t){var r=po(t);return r==S?Zt(t):r==O?nr(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,r,s,l,h,p,d){var f=2&t;if(!f&&"function"!=typeof e)throw new Oe(o);var v=s?s.length:0;if(v||(t&=-97,s=l=i),p=p===i?p:yr(va(p),0),d=d===i?d:va(d),v-=l?l.length:0,64&t){var y=s,m=l;s=l=i}var g=f?i:no(e),b=[e,t,r,s,l,y,m,h,p,d];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==u&&8==r||n==u&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Pi(l,c,t[4]):c,e[4]=l?tr(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Ii(l,c,t[6]):c,e[6]=l?tr(e[5],a):t[6]),(c=t[7])&&(e[7]=c),n&u&&(e[8]=null==e[8]?t[8]:mr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,g),e=b[0],t=b[1],r=b[2],s=b[3],l=b[4],!(d=b[9]=b[9]===i?f?0:e.length:yr(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,r){var o=Mi(e);return function s(){for(var a=arguments.length,c=n(a),u=a,l=oo(s);u--;)c[u]=arguments[u];var h=a<3&&c[0]!==l&&c[a-1]!==l?[]:tr(c,l);return(a-=h.length)<r?Gi(e,t,Fi,s.placeholder,i,c,h,i,i,r-a):mt(this&&this!==ot&&this instanceof s?o:e,this,c)}}(e,t,d):t!=c&&33!=t||l.length?Fi.apply(i,b):function(e,t,r,i){var o=1&t,s=Mi(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,h=n(l+c),p=this&&this!==ot&&this instanceof t?s:e;++u<l;)h[u]=i[u];for(;c--;)h[u++]=arguments[++a];return mt(p,o?r:this,h)}}(e,t,r,s);else var _=function(e,t,r){var n=1&t,i=Mi(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return No((g?Jn:Ao)(_,b),e,t)}function Xi(e,t,r,n){return e===i||Us(e,xe[r])&&!ke.call(n,r)?t:e}function Qi(e,t,r,n,o,s){return ta(e)&&ta(t)&&(s.set(t,e),Bn(e,t,i,Qi,s),s.delete(t)),e}function Ji(e){return oa(e)?i:e}function Zi(e,t,r,n,o,s){var a=1&r,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),h=s.get(t);if(l&&h)return l==t&&h==e;var p=-1,d=!0,f=2&r?new qr:i;for(s.set(e,t),s.set(t,e);++p<c;){var v=e[p],y=t[p];if(n)var m=a?n(y,v,p,t,e,s):n(v,y,p,e,t,s);if(m!==i){if(m)continue;d=!1;break}if(f){if(!At(t,(function(e,t){if(!Gt(f,t)&&(v===e||o(v,e,r,n,s)))return f.push(t)}))){d=!1;break}}else if(v!==y&&!o(v,y,r,n,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function eo(e){return Ro(Po(e,i,qo),e+"")}function to(e){return wn(e,Na,lo)}function ro(e){return wn(e,ka,ho)}var no=Cr?function(e){return Cr.get(e)}:uc;function io(e){for(var t=e.name+"",r=Ar[t],n=ke.call(Ar,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function oo(e){return(ke.call(Fr,"placeholder")?Fr:e).placeholder}function so(){var e=Fr.iteratee||oc;return e=e===oc?Dn:e,arguments.length?e(arguments[0],arguments[1]):e}function ao(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function co(e){for(var t=Na(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,wo(i)]}return t}function uo(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return kn(r)?r:i}var lo=hr?function(e){return null==e?[]:(e=Te(e),St(hr(e),(function(t){return et.call(e,t)})))}:yc,ho=hr?function(e){for(var t=[];e;)It(t,lo(e)),e=qe(e);return t}:yc,po=Tn;function fo(e,t,r){for(var n=-1,i=(t=mi(t,e)).length,o=!1;++n<i;){var s=Fo(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&mo(s,i)&&(Gs(e)||Hs(e))}function vo(e){return"function"!=typeof e.constructor||So(e)?{}:Vr(qe(e))}function yo(e){return Gs(e)||Hs(e)||!!(it&&e&&e[it])}function mo(e,t){var r=typeof e;return!!(t=null==t?h:t)&&("number"==r||"symbol"!=r&&me.test(e))&&e>-1&&e%1==0&&e<t}function go(e,t,r){if(!ta(r))return!1;var n=typeof t;return!!("number"==n?zs(r)&&mo(t,r.length):"string"==n&&t in r)&&Us(r[t],e)}function bo(e,t){if(Gs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ua(e))||Z.test(e)||!J.test(e)||null!=t&&e in Te(t)}function _o(e){var t=io(e),r=Fr[t];if("function"!=typeof r||!(t in Wr.prototype))return!1;if(e===r)return!0;var n=no(r);return!!n&&e===n[0]}(Sr&&po(new Sr(new ArrayBuffer(1)))!=N||wr&&po(new wr)!=S||Tr&&po(Tr.resolve())!=P||Pr&&po(new Pr)!=O||Ir&&po(new Ir)!=x)&&(po=function(e){var t=Tn(e),r=t==T?e.constructor:i,n=r?Vo(r):"";if(n)switch(n){case xr:return N;case Rr:return S;case Nr:return P;case kr:return O;case Dr:return x}return t});var Eo=Re?Js:mc;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function wo(e){return e==e&&!ta(e)}function To(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in Te(r))}}function Po(e,t,r){return t=yr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=yr(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=i[o];return c[t]=r(a),mt(e,this,c)}}function Io(e,t){return t.length<2?e:Sn(e,ti(t,0,-1))}function Oo(e,t){for(var r=e.length,n=mr(t.length,r),o=Oi(e);n--;){var s=t[n];e[n]=mo(s,r)?o[s]:i}return e}function Co(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ao=ko(Jn),xo=Ft||function(e,t){return ot.setTimeout(e,t)},Ro=ko(Zn);function No(e,t,r){var n=t+"";return Ro(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return bt(f,(function(r){var n="_."+r[0];t&r[1]&&!wt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(n),r)))}function ko(e){var t=0,r=0;return function(){var n=gr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var s=qn(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Mo,jo,Lo=(Mo=Ms((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,r,n,i){t.push(n?i.replace(le,"$1"):r||e)})),t}),(function(e){return 500===jo.size&&jo.clear(),e})),jo=Mo.cache,Mo);function Fo(e){if("string"==typeof e||ua(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Vo(e){if(null!=e){try{return Ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bo(e){if(e instanceof Wr)return e.clone();var t=new Ur(e.__wrapped__,e.__chain__);return t.__actions__=Oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Uo=Kn((function(e,t){return Ks(e)?ln(e,yn(t,1,Ks,!0)):[]})),Wo=Kn((function(e,t){var r=Qo(t);return Ks(r)&&(r=i),Ks(e)?ln(e,yn(t,1,Ks,!0),so(r,2)):[]})),$o=Kn((function(e,t){var r=Qo(t);return Ks(r)&&(r=i),Ks(e)?ln(e,yn(t,1,Ks,!0),i,r):[]}));function Ho(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:va(r);return i<0&&(i=yr(n+i,0)),Nt(e,so(t,3),i)}function Go(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=va(r),o=r<0?yr(n+o,0):mr(o,n-1)),Nt(e,so(t,3),o,!0)}function qo(e){return null!=e&&e.length?yn(e,1):[]}function zo(e){return e&&e.length?e[0]:i}var Ko=Kn((function(e){var t=Pt(e,vi);return t.length&&t[0]===e[0]?Cn(t):[]})),Yo=Kn((function(e){var t=Qo(e),r=Pt(e,vi);return t===Qo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Cn(r,so(t,2)):[]})),Xo=Kn((function(e){var t=Qo(e),r=Pt(e,vi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Cn(r,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Kn(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Hn(e,t):e}var es=eo((function(e,t){var r=null==e?0:e.length,n=on(e,t);return Gn(e,Pt(t,(function(e){return mo(e,r)?+e:e})).sort(Ti)),n}));function ts(e){return null==e?e:Er.call(e)}var rs=Kn((function(e){return ci(yn(e,1,Ks,!0))})),ns=Kn((function(e){var t=Qo(e);return Ks(t)&&(t=i),ci(yn(e,1,Ks,!0),so(t,2))})),is=Kn((function(e){var t=Qo(e);return t="function"==typeof t?t:i,ci(yn(e,1,Ks,!0),i,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if(Ks(e))return t=yr(e.length,t),!0})),Ut(t,(function(t){return Pt(e,Lt(t))}))}function ss(e,t){if(!e||!e.length)return[];var r=os(e);return null==t?r:Pt(r,(function(e){return mt(t,i,e)}))}var as=Kn((function(e,t){return Ks(e)?ln(e,t):[]})),cs=Kn((function(e){return di(St(e,Ks))})),us=Kn((function(e){var t=Qo(e);return Ks(t)&&(t=i),di(St(e,Ks),so(t,2))})),ls=Kn((function(e){var t=Qo(e);return t="function"==typeof t?t:i,di(St(e,Ks),i,t)})),hs=Kn(os),ps=Kn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,ss(e,r)}));function ds(e){var t=Fr(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var vs=eo((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return on(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Wr&&mo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new Ur(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ys=Ai((function(e,t,r){ke.call(e,r)?++e[r]:nn(e,r,1)})),ms=ji(Ho),gs=ji(Go);function bs(e,t){return(Gs(e)?bt:hn)(e,so(t,3))}function _s(e,t){return(Gs(e)?_t:pn)(e,so(t,3))}var Es=Ai((function(e,t,r){ke.call(e,r)?e[r].push(t):nn(e,r,[t])})),Ss=Kn((function(e,t,r){var i=-1,o="function"==typeof t,s=zs(e)?n(e.length):[];return hn(e,(function(e){s[++i]=o?mt(t,e,r):An(e,t,r)})),s})),ws=Ai((function(e,t,r){nn(e,r,t)}));function Ts(e,t){return(Gs(e)?Pt:Ln)(e,so(t,3))}var Ps=Ai((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),Is=Kn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&go(e,t[0],t[1])?t=[]:r>2&&go(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,yn(t,1),[])})),Os=xt||function(){return ot.Date.now()};function Cs(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Yi(e,u,i,i,i,i,t)}function As(e,t){var r;if("function"!=typeof t)throw new Oe(o);return e=va(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var xs=Kn((function(e,t,r){var n=1;if(r.length){var i=tr(r,oo(xs));n|=c}return Yi(e,n,t,r,i)})),Rs=Kn((function(e,t,r){var n=3;if(r.length){var i=tr(r,oo(Rs));n|=c}return Yi(t,n,e,r,i)}));function Ns(e,t,r){var n,s,a,c,u,l,h=0,p=!1,d=!1,f=!0;if("function"!=typeof e)throw new Oe(o);function v(t){var r=n,o=s;return n=s=i,h=t,c=e.apply(o,r)}function y(e){return h=e,u=xo(g,t),p?v(e):c}function m(e){var r=e-l;return l===i||r>=t||r<0||d&&e-h>=a}function g(){var e=Os();if(m(e))return b(e);u=xo(g,function(e){var r=t-(e-l);return d?mr(r,a-(e-h)):r}(e))}function b(e){return u=i,f&&n?v(e):(n=s=i,c)}function _(){var e=Os(),r=m(e);if(n=arguments,s=this,l=e,r){if(u===i)return y(l);if(d)return _i(u),u=xo(g,t),v(l)}return u===i&&(u=xo(g,t)),c}return t=ma(t)||0,ta(r)&&(p=!!r.leading,a=(d="maxWait"in r)?yr(ma(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),_.cancel=function(){u!==i&&_i(u),h=0,n=l=s=u=i},_.flush=function(){return u===i?c:b(Os())},_}var ks=Kn((function(e,t){return un(e,1,t)})),Ds=Kn((function(e,t,r){return un(e,ma(t)||0,r)}));function Ms(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Ms.Cache||Gr),r}function js(e){if("function"!=typeof e)throw new Oe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ms.Cache=Gr;var Ls=gi((function(e,t){var r=(t=1==t.length&&Gs(t[0])?Pt(t[0],$t(so())):Pt(yn(t,1),$t(so()))).length;return Kn((function(n){for(var i=-1,o=mr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return mt(e,this,n)}))})),Fs=Kn((function(e,t){var r=tr(t,oo(Fs));return Yi(e,c,i,t,r)})),Vs=Kn((function(e,t){var r=tr(t,oo(Vs));return Yi(e,64,i,t,r)})),Bs=eo((function(e,t){return Yi(e,256,i,i,i,t)}));function Us(e,t){return e===t||e!=e&&t!=t}var Ws=Hi(Pn),$s=Hi((function(e,t){return e>=t})),Hs=xn(function(){return arguments}())?xn:function(e){return ra(e)&&ke.call(e,"callee")&&!et.call(e,"callee")},Gs=n.isArray,qs=ht?$t(ht):function(e){return ra(e)&&Tn(e)==R};function zs(e){return null!=e&&ea(e.length)&&!Js(e)}function Ks(e){return ra(e)&&zs(e)}var Ys=pr||mc,Xs=pt?$t(pt):function(e){return ra(e)&&Tn(e)==g};function Qs(e){if(!ra(e))return!1;var t=Tn(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Js(e){if(!ta(e))return!1;var t=Tn(e);return t==_||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==va(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ra(e){return null!=e&&"object"==typeof e}var na=dt?$t(dt):function(e){return ra(e)&&po(e)==S};function ia(e){return"number"==typeof e||ra(e)&&Tn(e)==w}function oa(e){if(!ra(e)||Tn(e)!=T)return!1;var t=qe(e);if(null===t)return!0;var r=ke.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ne.call(r)==Le}var sa=ft?$t(ft):function(e){return ra(e)&&Tn(e)==I},aa=vt?$t(vt):function(e){return ra(e)&&po(e)==O};function ca(e){return"string"==typeof e||!Gs(e)&&ra(e)&&Tn(e)==C}function ua(e){return"symbol"==typeof e||ra(e)&&Tn(e)==A}var la=yt?$t(yt):function(e){return ra(e)&&ea(e.length)&&!!Je[Tn(e)]},ha=Hi(jn),pa=Hi((function(e,t){return e<=t}));function da(e){if(!e)return[];if(zs(e))return ca(e)?or(e):Oi(e);if(st&&e[st])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[st]());var t=po(e);return(t==S?Zt:t==O?rr:Ua)(e)}function fa(e){return e?(e=ma(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function va(e){var t=fa(e),r=t%1;return t==t?r?t-r:t:0}function ya(e){return e?sn(va(e),0,d):0}function ma(e){if("number"==typeof e)return e;if(ua(e))return p;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Wt(e);var r=fe.test(e);return r||ye.test(e)?rt(e.slice(2),r?2:8):de.test(e)?p:+e}function ga(e){return Ci(e,ka(e))}function ba(e){return null==e?"":ai(e)}var _a=xi((function(e,t){if(So(t)||zs(t))Ci(t,Na(t),e);else for(var r in t)ke.call(t,r)&&Zr(e,r,t[r])})),Ea=xi((function(e,t){Ci(t,ka(t),e)})),Sa=xi((function(e,t,r,n){Ci(t,ka(t),e,n)})),wa=xi((function(e,t,r,n){Ci(t,Na(t),e,n)})),Ta=eo(on),Pa=Kn((function(e,t){e=Te(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&go(t[0],t[1],o)&&(n=1);++r<n;)for(var s=t[r],a=ka(s),c=-1,u=a.length;++c<u;){var l=a[c],h=e[l];(h===i||Us(h,xe[l])&&!ke.call(e,l))&&(e[l]=s[l])}return e})),Ia=Kn((function(e){return e.push(i,Qi),mt(Ma,i,e)}));function Oa(e,t,r){var n=null==e?i:Sn(e,t);return n===i?r:n}function Ca(e,t){return null!=e&&fo(e,t,On)}var Aa=Vi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=r}),tc(ic)),xa=Vi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),ke.call(e,t)?e[t].push(r):e[t]=[r]}),so),Ra=Kn(An);function Na(e){return zs(e)?Kr(e):Mn(e)}function ka(e){return zs(e)?Kr(e,!0):function(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var r in Te(e))t.push(r);return t}(e);var t=So(e),r=[];for(var n in e)("constructor"!=n||!t&&ke.call(e,n))&&r.push(n);return r}(e)}var Da=xi((function(e,t,r){Bn(e,t,r)})),Ma=xi((function(e,t,r,n){Bn(e,t,r,n)})),ja=eo((function(e,t){var r={};if(null==e)return r;var n=!1;t=Pt(t,(function(t){return t=mi(t,e),n||(n=t.length>1),t})),Ci(e,ro(e),r),n&&(r=an(r,7,Ji));for(var i=t.length;i--;)ui(r,t[i]);return r})),La=eo((function(e,t){return null==e?{}:function(e,t){return $n(e,t,(function(t,r){return Ca(e,r)}))}(e,t)}));function Fa(e,t){if(null==e)return{};var r=Pt(ro(e),(function(e){return[e]}));return t=so(t),$n(e,r,(function(e,r){return t(e,r[0])}))}var Va=Ki(Na),Ba=Ki(ka);function Ua(e){return null==e?[]:Ht(e,Na(e))}var Wa=Di((function(e,t,r){return t=t.toLowerCase(),e+(r?$a(t):t)}));function $a(e){return Qa(ba(e).toLowerCase())}function Ha(e){return(e=ba(e))&&e.replace(ge,Yt).replace(Ge,"")}var Ga=Di((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),qa=Di((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),za=ki("toLowerCase"),Ka=Di((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Ya=Di((function(e,t,r){return e+(r?" ":"")+Qa(t)})),Xa=Di((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Qa=ki("toUpperCase");function Ja(e,t,r){return e=ba(e),(t=r?i:t)===i?function(e){return Ye.test(e)}(e)?function(e){return e.match(ze)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Za=Kn((function(e,t){try{return mt(e,i,t)}catch(e){return Qs(e)?e:new Ee(e)}})),ec=eo((function(e,t){return bt(t,(function(t){t=Fo(t),nn(e,t,xs(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Li(),nc=Li(!0);function ic(e){return e}function oc(e){return Dn("function"==typeof e?e:an(e,1))}var sc=Kn((function(e,t){return function(r){return An(r,e,t)}})),ac=Kn((function(e,t){return function(r){return An(e,r,t)}}));function cc(e,t,r){var n=Na(t),i=En(t,n);null!=r||ta(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=En(t,Na(t)));var o=!(ta(r)&&"chain"in r&&!r.chain),s=Js(e);return bt(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=Oi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,It([this.value()],arguments))})})),e}function uc(){}var lc=Ui(Pt),hc=Ui(Et),pc=Ui(At);function dc(e){return bo(e)?Lt(Fo(e)):function(e){return function(t){return Sn(t,e)}}(e)}var fc=$i(),vc=$i(!0);function yc(){return[]}function mc(){return!1}var gc,bc=Bi((function(e,t){return e+t}),0),_c=qi("ceil"),Ec=Bi((function(e,t){return e/t}),1),Sc=qi("floor"),wc=Bi((function(e,t){return e*t}),1),Tc=qi("round"),Pc=Bi((function(e,t){return e-t}),0);return Fr.after=function(e,t){if("function"!=typeof t)throw new Oe(o);return e=va(e),function(){if(--e<1)return t.apply(this,arguments)}},Fr.ary=Cs,Fr.assign=_a,Fr.assignIn=Ea,Fr.assignInWith=Sa,Fr.assignWith=wa,Fr.at=Ta,Fr.before=As,Fr.bind=xs,Fr.bindAll=ec,Fr.bindKey=Rs,Fr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Gs(e)?e:[e]},Fr.chain=ds,Fr.chunk=function(e,t,r){t=(r?go(e,t,r):t===i)?1:yr(va(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=n(ur(o/t));s<o;)c[a++]=ti(e,s,s+=t);return c},Fr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Fr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Gs(r)?Oi(r):[r],yn(t,1))},Fr.cond=function(e){var t=null==e?0:e.length,r=so();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Oe(o);return[r(e[0]),e[1]]})):[],Kn((function(r){for(var n=-1;++n<t;){var i=e[n];if(mt(i[0],this,r))return mt(i[1],this,r)}}))},Fr.conforms=function(e){return function(e){var t=Na(e);return function(r){return cn(r,e,t)}}(an(e,1))},Fr.constant=tc,Fr.countBy=ys,Fr.create=function(e,t){var r=Vr(e);return null==t?r:rn(r,t)},Fr.curry=function e(t,r,n){var o=Yi(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Fr.curryRight=function e(t,r,n){var o=Yi(t,16,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Fr.debounce=Ns,Fr.defaults=Pa,Fr.defaultsDeep=Ia,Fr.defer=ks,Fr.delay=Ds,Fr.difference=Uo,Fr.differenceBy=Wo,Fr.differenceWith=$o,Fr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,(t=r||t===i?1:va(t))<0?0:t,n):[]},Fr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,0,(t=n-(t=r||t===i?1:va(t)))<0?0:t):[]},Fr.dropRightWhile=function(e,t){return e&&e.length?hi(e,so(t,3),!0,!0):[]},Fr.dropWhile=function(e,t){return e&&e.length?hi(e,so(t,3),!0):[]},Fr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&go(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=va(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:va(n))<0&&(n+=o),n=r>n?0:ya(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Fr.filter=function(e,t){return(Gs(e)?St:vn)(e,so(t,3))},Fr.flatMap=function(e,t){return yn(Ts(e,t),1)},Fr.flatMapDeep=function(e,t){return yn(Ts(e,t),l)},Fr.flatMapDepth=function(e,t,r){return r=r===i?1:va(r),yn(Ts(e,t),r)},Fr.flatten=qo,Fr.flattenDeep=function(e){return null!=e&&e.length?yn(e,l):[]},Fr.flattenDepth=function(e,t){return null!=e&&e.length?yn(e,t=t===i?1:va(t)):[]},Fr.flip=function(e){return Yi(e,512)},Fr.flow=rc,Fr.flowRight=nc,Fr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Fr.functions=function(e){return null==e?[]:En(e,Na(e))},Fr.functionsIn=function(e){return null==e?[]:En(e,ka(e))},Fr.groupBy=Es,Fr.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},Fr.intersection=Ko,Fr.intersectionBy=Yo,Fr.intersectionWith=Xo,Fr.invert=Aa,Fr.invertBy=xa,Fr.invokeMap=Ss,Fr.iteratee=oc,Fr.keyBy=ws,Fr.keys=Na,Fr.keysIn=ka,Fr.map=Ts,Fr.mapKeys=function(e,t){var r={};return t=so(t,3),bn(e,(function(e,n,i){nn(r,t(e,n,i),e)})),r},Fr.mapValues=function(e,t){var r={};return t=so(t,3),bn(e,(function(e,n,i){nn(r,n,t(e,n,i))})),r},Fr.matches=function(e){return Fn(an(e,1))},Fr.matchesProperty=function(e,t){return Vn(e,an(t,1))},Fr.memoize=Ms,Fr.merge=Da,Fr.mergeWith=Ma,Fr.method=sc,Fr.methodOf=ac,Fr.mixin=cc,Fr.negate=js,Fr.nthArg=function(e){return e=va(e),Kn((function(t){return Un(t,e)}))},Fr.omit=ja,Fr.omitBy=function(e,t){return Fa(e,js(so(t)))},Fr.once=function(e){return As(2,e)},Fr.orderBy=function(e,t,r,n){return null==e?[]:(Gs(t)||(t=null==t?[]:[t]),Gs(r=n?i:r)||(r=null==r?[]:[r]),Wn(e,t,r))},Fr.over=lc,Fr.overArgs=Ls,Fr.overEvery=hc,Fr.overSome=pc,Fr.partial=Fs,Fr.partialRight=Vs,Fr.partition=Ps,Fr.pick=La,Fr.pickBy=Fa,Fr.property=dc,Fr.propertyOf=function(e){return function(t){return null==e?i:Sn(e,t)}},Fr.pull=Jo,Fr.pullAll=Zo,Fr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Hn(e,t,so(r,2)):e},Fr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Hn(e,t,i,r):e},Fr.pullAt=es,Fr.range=fc,Fr.rangeRight=vc,Fr.rearg=Bs,Fr.reject=function(e,t){return(Gs(e)?St:vn)(e,js(so(t,3)))},Fr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=so(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Gn(e,i),r},Fr.rest=function(e,t){if("function"!=typeof e)throw new Oe(o);return Kn(e,t=t===i?t:va(t))},Fr.reverse=ts,Fr.sampleSize=function(e,t,r){return t=(r?go(e,t,r):t===i)?1:va(t),(Gs(e)?Xr:Xn)(e,t)},Fr.set=function(e,t,r){return null==e?e:Qn(e,t,r)},Fr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Qn(e,t,r,n)},Fr.shuffle=function(e){return(Gs(e)?Qr:ei)(e)},Fr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&go(e,t,r)?(t=0,r=n):(t=null==t?0:va(t),r=r===i?n:va(r)),ti(e,t,r)):[]},Fr.sortBy=Is,Fr.sortedUniq=function(e){return e&&e.length?oi(e):[]},Fr.sortedUniqBy=function(e,t){return e&&e.length?oi(e,so(t,2)):[]},Fr.split=function(e,t,r){return r&&"number"!=typeof r&&go(e,t,r)&&(t=r=i),(r=r===i?d:r>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ai(t))&&Jt(e)?bi(or(e),0,r):e.split(t,r):[]},Fr.spread=function(e,t){if("function"!=typeof e)throw new Oe(o);return t=null==t?0:yr(va(t),0),Kn((function(r){var n=r[t],i=bi(r,0,t);return n&&It(i,n),mt(e,this,i)}))},Fr.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},Fr.take=function(e,t,r){return e&&e.length?ti(e,0,(t=r||t===i?1:va(t))<0?0:t):[]},Fr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,(t=n-(t=r||t===i?1:va(t)))<0?0:t,n):[]},Fr.takeRightWhile=function(e,t){return e&&e.length?hi(e,so(t,3),!1,!0):[]},Fr.takeWhile=function(e,t){return e&&e.length?hi(e,so(t,3)):[]},Fr.tap=function(e,t){return t(e),e},Fr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Oe(o);return ta(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ns(e,t,{leading:n,maxWait:t,trailing:i})},Fr.thru=fs,Fr.toArray=da,Fr.toPairs=Va,Fr.toPairsIn=Ba,Fr.toPath=function(e){return Gs(e)?Pt(e,Fo):ua(e)?[e]:Oi(Lo(ba(e)))},Fr.toPlainObject=ga,Fr.transform=function(e,t,r){var n=Gs(e),i=n||Ys(e)||la(e);if(t=so(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ta(e)&&Js(o)?Vr(qe(e)):{}}return(i?bt:bn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Fr.unary=function(e){return Cs(e,1)},Fr.union=rs,Fr.unionBy=ns,Fr.unionWith=is,Fr.uniq=function(e){return e&&e.length?ci(e):[]},Fr.uniqBy=function(e,t){return e&&e.length?ci(e,so(t,2)):[]},Fr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Fr.unset=function(e,t){return null==e||ui(e,t)},Fr.unzip=os,Fr.unzipWith=ss,Fr.update=function(e,t,r){return null==e?e:li(e,t,yi(r))},Fr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:li(e,t,yi(r),n)},Fr.values=Ua,Fr.valuesIn=function(e){return null==e?[]:Ht(e,ka(e))},Fr.without=as,Fr.words=Ja,Fr.wrap=function(e,t){return Fs(yi(t),e)},Fr.xor=cs,Fr.xorBy=us,Fr.xorWith=ls,Fr.zip=hs,Fr.zipObject=function(e,t){return fi(e||[],t||[],Zr)},Fr.zipObjectDeep=function(e,t){return fi(e||[],t||[],Qn)},Fr.zipWith=ps,Fr.entries=Va,Fr.entriesIn=Ba,Fr.extend=Ea,Fr.extendWith=Sa,cc(Fr,Fr),Fr.add=bc,Fr.attempt=Za,Fr.camelCase=Wa,Fr.capitalize=$a,Fr.ceil=_c,Fr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=ma(r))==r?r:0),t!==i&&(t=(t=ma(t))==t?t:0),sn(ma(e),t,r)},Fr.clone=function(e){return an(e,4)},Fr.cloneDeep=function(e){return an(e,5)},Fr.cloneDeepWith=function(e,t){return an(e,5,t="function"==typeof t?t:i)},Fr.cloneWith=function(e,t){return an(e,4,t="function"==typeof t?t:i)},Fr.conformsTo=function(e,t){return null==t||cn(e,t,Na(t))},Fr.deburr=Ha,Fr.defaultTo=function(e,t){return null==e||e!=e?t:e},Fr.divide=Ec,Fr.endsWith=function(e,t,r){e=ba(e),t=ai(t);var n=e.length,o=r=r===i?n:sn(va(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Fr.eq=Us,Fr.escape=function(e){return(e=ba(e))&&K.test(e)?e.replace(q,Xt):e},Fr.escapeRegExp=function(e){return(e=ba(e))&&re.test(e)?e.replace(te,"\\$&"):e},Fr.every=function(e,t,r){var n=Gs(e)?Et:dn;return r&&go(e,t,r)&&(t=i),n(e,so(t,3))},Fr.find=ms,Fr.findIndex=Ho,Fr.findKey=function(e,t){return Rt(e,so(t,3),bn)},Fr.findLast=gs,Fr.findLastIndex=Go,Fr.findLastKey=function(e,t){return Rt(e,so(t,3),_n)},Fr.floor=Sc,Fr.forEach=bs,Fr.forEachRight=_s,Fr.forIn=function(e,t){return null==e?e:mn(e,so(t,3),ka)},Fr.forInRight=function(e,t){return null==e?e:gn(e,so(t,3),ka)},Fr.forOwn=function(e,t){return e&&bn(e,so(t,3))},Fr.forOwnRight=function(e,t){return e&&_n(e,so(t,3))},Fr.get=Oa,Fr.gt=Ws,Fr.gte=$s,Fr.has=function(e,t){return null!=e&&fo(e,t,In)},Fr.hasIn=Ca,Fr.head=zo,Fr.identity=ic,Fr.includes=function(e,t,r,n){e=zs(e)?e:Ua(e),r=r&&!n?va(r):0;var i=e.length;return r<0&&(r=yr(i+r,0)),ca(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&kt(e,t,r)>-1},Fr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:va(r);return i<0&&(i=yr(n+i,0)),kt(e,t,i)},Fr.inRange=function(e,t,r){return t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r){return e>=mr(t,r)&&e<yr(t,r)}(e=ma(e),t,r)},Fr.invoke=Ra,Fr.isArguments=Hs,Fr.isArray=Gs,Fr.isArrayBuffer=qs,Fr.isArrayLike=zs,Fr.isArrayLikeObject=Ks,Fr.isBoolean=function(e){return!0===e||!1===e||ra(e)&&Tn(e)==m},Fr.isBuffer=Ys,Fr.isDate=Xs,Fr.isElement=function(e){return ra(e)&&1===e.nodeType&&!oa(e)},Fr.isEmpty=function(e){if(null==e)return!0;if(zs(e)&&(Gs(e)||"string"==typeof e||"function"==typeof e.splice||Ys(e)||la(e)||Hs(e)))return!e.length;var t=po(e);if(t==S||t==O)return!e.size;if(So(e))return!Mn(e).length;for(var r in e)if(ke.call(e,r))return!1;return!0},Fr.isEqual=function(e,t){return Rn(e,t)},Fr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Rn(e,t,i,r):!!n},Fr.isError=Qs,Fr.isFinite=function(e){return"number"==typeof e&&dr(e)},Fr.isFunction=Js,Fr.isInteger=Zs,Fr.isLength=ea,Fr.isMap=na,Fr.isMatch=function(e,t){return e===t||Nn(e,t,co(t))},Fr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Nn(e,t,co(t),r)},Fr.isNaN=function(e){return ia(e)&&e!=+e},Fr.isNative=function(e){if(Eo(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kn(e)},Fr.isNil=function(e){return null==e},Fr.isNull=function(e){return null===e},Fr.isNumber=ia,Fr.isObject=ta,Fr.isObjectLike=ra,Fr.isPlainObject=oa,Fr.isRegExp=sa,Fr.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=h},Fr.isSet=aa,Fr.isString=ca,Fr.isSymbol=ua,Fr.isTypedArray=la,Fr.isUndefined=function(e){return e===i},Fr.isWeakMap=function(e){return ra(e)&&po(e)==x},Fr.isWeakSet=function(e){return ra(e)&&"[object WeakSet]"==Tn(e)},Fr.join=function(e,t){return null==e?"":fr.call(e,t)},Fr.kebabCase=Ga,Fr.last=Qo,Fr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=va(r))<0?yr(n+o,0):mr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Nt(e,Mt,o,!0)},Fr.lowerCase=qa,Fr.lowerFirst=za,Fr.lt=ha,Fr.lte=pa,Fr.max=function(e){return e&&e.length?fn(e,ic,Pn):i},Fr.maxBy=function(e,t){return e&&e.length?fn(e,so(t,2),Pn):i},Fr.mean=function(e){return jt(e,ic)},Fr.meanBy=function(e,t){return jt(e,so(t,2))},Fr.min=function(e){return e&&e.length?fn(e,ic,jn):i},Fr.minBy=function(e,t){return e&&e.length?fn(e,so(t,2),jn):i},Fr.stubArray=yc,Fr.stubFalse=mc,Fr.stubObject=function(){return{}},Fr.stubString=function(){return""},Fr.stubTrue=function(){return!0},Fr.multiply=wc,Fr.nth=function(e,t){return e&&e.length?Un(e,va(t)):i},Fr.noConflict=function(){return ot._===this&&(ot._=Fe),this},Fr.noop=uc,Fr.now=Os,Fr.pad=function(e,t,r){e=ba(e);var n=(t=va(t))?ir(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Wi(lr(i),r)+e+Wi(ur(i),r)},Fr.padEnd=function(e,t,r){e=ba(e);var n=(t=va(t))?ir(e):0;return t&&n<t?e+Wi(t-n,r):e},Fr.padStart=function(e,t,r){e=ba(e);var n=(t=va(t))?ir(e):0;return t&&n<t?Wi(t-n,r)+e:e},Fr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),br(ba(e).replace(ne,""),t||0)},Fr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&go(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=_r();return mr(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return qn(e,t)},Fr.reduce=function(e,t,r){var n=Gs(e)?Ot:Vt,i=arguments.length<3;return n(e,so(t,4),r,i,hn)},Fr.reduceRight=function(e,t,r){var n=Gs(e)?Ct:Vt,i=arguments.length<3;return n(e,so(t,4),r,i,pn)},Fr.repeat=function(e,t,r){return t=(r?go(e,t,r):t===i)?1:va(t),zn(ba(e),t)},Fr.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fr.result=function(e,t,r){var n=-1,o=(t=mi(t,e)).length;for(o||(o=1,e=i);++n<o;){var s=null==e?i:e[Fo(t[n])];s===i&&(n=o,s=r),e=Js(s)?s.call(e):s}return e},Fr.round=Tc,Fr.runInContext=e,Fr.sample=function(e){return(Gs(e)?Yr:Yn)(e)},Fr.size=function(e){if(null==e)return 0;if(zs(e))return ca(e)?ir(e):e.length;var t=po(e);return t==S||t==O?e.size:Mn(e).length},Fr.snakeCase=Ka,Fr.some=function(e,t,r){var n=Gs(e)?At:ri;return r&&go(e,t,r)&&(t=i),n(e,so(t,3))},Fr.sortedIndex=function(e,t){return ni(e,t)},Fr.sortedIndexBy=function(e,t,r){return ii(e,t,so(r,2))},Fr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ni(e,t);if(n<r&&Us(e[n],t))return n}return-1},Fr.sortedLastIndex=function(e,t){return ni(e,t,!0)},Fr.sortedLastIndexBy=function(e,t,r){return ii(e,t,so(r,2),!0)},Fr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ni(e,t,!0)-1;if(Us(e[r],t))return r}return-1},Fr.startCase=Ya,Fr.startsWith=function(e,t,r){return e=ba(e),r=null==r?0:sn(va(r),0,e.length),t=ai(t),e.slice(r,r+t.length)==t},Fr.subtract=Pc,Fr.sum=function(e){return e&&e.length?Bt(e,ic):0},Fr.sumBy=function(e,t){return e&&e.length?Bt(e,so(t,2)):0},Fr.template=function(e,t,r){var n=Fr.templateSettings;r&&go(e,t,r)&&(t=i),e=ba(e),t=Sa({},t,n,Xi);var o,s,a=Sa({},t.imports,n.imports,Xi),c=Na(a),u=Ht(a,c),l=0,h=t.interpolate||be,p="__p += '",d=Pe((t.escape||be).source+"|"+h.source+"|"+(h===Q?he:be).source+"|"+(t.evaluate||be).source+"|$","g"),f="//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qe+"]")+"\n";e.replace(d,(function(t,r,n,i,a,c){return n||(n=i),p+=e.slice(l,c).replace(_e,Qt),r&&(o=!0,p+="' +\n__e("+r+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),p+="';\n";var v=ke.call(t,"variable")&&t.variable;if(v){if(ue.test(v))throw new Ee("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace(W,""):p).replace($,"$1").replace(H,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Za((function(){return Se(c,f+"return "+p).apply(i,u)}));if(y.source=p,Qs(y))throw y;return y},Fr.times=function(e,t){if((e=va(e))<1||e>h)return[];var r=d,n=mr(e,d);t=so(t),e-=d;for(var i=Ut(n,t);++r<e;)t(r);return i},Fr.toFinite=fa,Fr.toInteger=va,Fr.toLength=ya,Fr.toLower=function(e){return ba(e).toLowerCase()},Fr.toNumber=ma,Fr.toSafeInteger=function(e){return e?sn(va(e),-9007199254740991,h):0===e?e:0},Fr.toString=ba,Fr.toUpper=function(e){return ba(e).toUpperCase()},Fr.trim=function(e,t,r){if((e=ba(e))&&(r||t===i))return Wt(e);if(!e||!(t=ai(t)))return e;var n=or(e),o=or(t);return bi(n,qt(n,o),zt(n,o)+1).join("")},Fr.trimEnd=function(e,t,r){if((e=ba(e))&&(r||t===i))return e.slice(0,sr(e)+1);if(!e||!(t=ai(t)))return e;var n=or(e);return bi(n,0,zt(n,or(t))+1).join("")},Fr.trimStart=function(e,t,r){if((e=ba(e))&&(r||t===i))return e.replace(ne,"");if(!e||!(t=ai(t)))return e;var n=or(e);return bi(n,qt(n,or(t))).join("")},Fr.truncate=function(e,t){var r=30,n="...";if(ta(t)){var o="separator"in t?t.separator:o;r="length"in t?va(t.length):r,n="omission"in t?ai(t.omission):n}var s=(e=ba(e)).length;if(Jt(e)){var a=or(e);s=a.length}if(r>=s)return e;var c=r-ir(n);if(c<1)return n;var u=a?bi(a,0,c).join(""):e.slice(0,c);if(o===i)return u+n;if(a&&(c+=u.length-c),sa(o)){if(e.slice(c).search(o)){var l,h=u;for(o.global||(o=Pe(o.source,ba(pe.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var p=l.index;u=u.slice(0,p===i?c:p)}}else if(e.indexOf(ai(o),c)!=c){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+n},Fr.unescape=function(e){return(e=ba(e))&&z.test(e)?e.replace(G,ar):e},Fr.uniqueId=function(e){var t=++De;return ba(e)+t},Fr.upperCase=Xa,Fr.upperFirst=Qa,Fr.each=bs,Fr.eachRight=_s,Fr.first=zo,cc(Fr,(gc={},bn(Fr,(function(e,t){ke.call(Fr.prototype,t)||(gc[t]=e)})),gc),{chain:!1}),Fr.VERSION="4.17.21",bt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fr[e].placeholder=Fr})),bt(["drop","take"],(function(e,t){Wr.prototype[e]=function(r){r=r===i?1:yr(va(r),0);var n=this.__filtered__&&!t?new Wr(this):this.clone();return n.__filtered__?n.__takeCount__=mr(r,n.__takeCount__):n.__views__.push({size:mr(r,d),type:e+(n.__dir__<0?"Right":"")}),n},Wr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),bt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Wr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:so(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),bt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Wr.prototype[e]=function(){return this[r](1).value()[0]}})),bt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Wr.prototype[e]=function(){return this.__filtered__?new Wr(this):this[r](1)}})),Wr.prototype.compact=function(){return this.filter(ic)},Wr.prototype.find=function(e){return this.filter(e).head()},Wr.prototype.findLast=function(e){return this.reverse().find(e)},Wr.prototype.invokeMap=Kn((function(e,t){return"function"==typeof e?new Wr(this):this.map((function(r){return An(r,e,t)}))})),Wr.prototype.reject=function(e){return this.filter(js(so(e)))},Wr.prototype.slice=function(e,t){e=va(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Wr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=va(t))<0?r.dropRight(-t):r.take(t-e)),r)},Wr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wr.prototype.toArray=function(){return this.take(d)},bn(Wr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Fr[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(Fr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,c=t instanceof Wr,u=a[0],l=c||Gs(t),h=function(e){var t=o.apply(Fr,It([e],a));return n&&p?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var p=this.__chain__,d=!!this.__actions__.length,f=s&&!p,v=c&&!d;if(!s&&l){t=v?t:new Wr(this);var y=e.apply(t,a);return y.__actions__.push({func:fs,args:[h],thisArg:i}),new Ur(y,p)}return f&&v?e.apply(this,a):(y=this.thru(h),f?n?y.value()[0]:y.value():y)})})),bt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Fr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Gs(i)?i:[],e)}return this[r]((function(r){return t.apply(Gs(r)?r:[],e)}))}})),bn(Wr.prototype,(function(e,t){var r=Fr[t];if(r){var n=r.name+"";ke.call(Ar,n)||(Ar[n]=[]),Ar[n].push({name:t,func:r})}})),Ar[Fi(i,2).name]=[{name:"wrapper",func:i}],Wr.prototype.clone=function(){var e=new Wr(this.__wrapped__);return e.__actions__=Oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oi(this.__views__),e},Wr.prototype.reverse=function(){if(this.__filtered__){var e=new Wr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Gs(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mr(t,e+s);break;case"takeRight":e=yr(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=n?a:s-1,l=this.__iteratees__,h=l.length,p=0,d=mr(c,this.__takeCount__);if(!r||!n&&i==c&&d==c)return pi(e,this.__actions__);var f=[];e:for(;c--&&p<d;){for(var v=-1,y=e[u+=t];++v<h;){var m=l[v],g=m.iteratee,b=m.type,_=g(y);if(2==b)y=_;else if(!_){if(1==b)continue e;break e}}f[p++]=y}return f},Fr.prototype.at=vs,Fr.prototype.chain=function(){return ds(this)},Fr.prototype.commit=function(){return new Ur(this.value(),this.__chain__)},Fr.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Fr.prototype.plant=function(e){for(var t,r=this;r instanceof Br;){var n=Bo(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Fr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wr){var t=e;return this.__actions__.length&&(t=new Wr(this)),(t=t.reverse()).__actions__.push({func:fs,args:[ts],thisArg:i}),new Ur(t,this.__chain__)}return this.thru(ts)},Fr.prototype.toJSON=Fr.prototype.valueOf=Fr.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Fr.prototype.first=Fr.prototype.head,st&&(Fr.prototype[st]=function(){return this}),Fr}();ot._=cr,(n=function(){return cr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},7771:(e,t,r)=>{var n=r(55639);e.exports=function(){return n.Date.now()}},14841:(e,t,r)=>{var n=r(27561),i=r(13218),o=r(33448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=a.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):s.test(e)?NaN:+e}},2568:(e,t,r)=>{var n,i,o,s,a;n=r(71012),i=r(40487).utf8,o=r(48738),s=r(40487).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,h=-1732584194,p=271733878,d=0;d<r.length;d++)r[d]=16711935&(r[d]<<8|r[d]>>>24)|4278255360&(r[d]<<24|r[d]>>>8);r[c>>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;var f=a._ff,v=a._gg,y=a._hh,m=a._ii;for(d=0;d<r.length;d+=16){var g=u,b=l,_=h,E=p;u=f(u,l,h,p,r[d+0],7,-680876936),p=f(p,u,l,h,r[d+1],12,-389564586),h=f(h,p,u,l,r[d+2],17,606105819),l=f(l,h,p,u,r[d+3],22,-1044525330),u=f(u,l,h,p,r[d+4],7,-176418897),p=f(p,u,l,h,r[d+5],12,1200080426),h=f(h,p,u,l,r[d+6],17,-1473231341),l=f(l,h,p,u,r[d+7],22,-45705983),u=f(u,l,h,p,r[d+8],7,1770035416),p=f(p,u,l,h,r[d+9],12,-1958414417),h=f(h,p,u,l,r[d+10],17,-42063),l=f(l,h,p,u,r[d+11],22,-1990404162),u=f(u,l,h,p,r[d+12],7,1804603682),p=f(p,u,l,h,r[d+13],12,-40341101),h=f(h,p,u,l,r[d+14],17,-1502002290),u=v(u,l=f(l,h,p,u,r[d+15],22,1236535329),h,p,r[d+1],5,-165796510),p=v(p,u,l,h,r[d+6],9,-1069501632),h=v(h,p,u,l,r[d+11],14,643717713),l=v(l,h,p,u,r[d+0],20,-373897302),u=v(u,l,h,p,r[d+5],5,-701558691),p=v(p,u,l,h,r[d+10],9,38016083),h=v(h,p,u,l,r[d+15],14,-660478335),l=v(l,h,p,u,r[d+4],20,-405537848),u=v(u,l,h,p,r[d+9],5,568446438),p=v(p,u,l,h,r[d+14],9,-1019803690),h=v(h,p,u,l,r[d+3],14,-187363961),l=v(l,h,p,u,r[d+8],20,1163531501),u=v(u,l,h,p,r[d+13],5,-1444681467),p=v(p,u,l,h,r[d+2],9,-51403784),h=v(h,p,u,l,r[d+7],14,1735328473),u=y(u,l=v(l,h,p,u,r[d+12],20,-1926607734),h,p,r[d+5],4,-378558),p=y(p,u,l,h,r[d+8],11,-2022574463),h=y(h,p,u,l,r[d+11],16,1839030562),l=y(l,h,p,u,r[d+14],23,-35309556),u=y(u,l,h,p,r[d+1],4,-1530992060),p=y(p,u,l,h,r[d+4],11,1272893353),h=y(h,p,u,l,r[d+7],16,-155497632),l=y(l,h,p,u,r[d+10],23,-1094730640),u=y(u,l,h,p,r[d+13],4,681279174),p=y(p,u,l,h,r[d+0],11,-358537222),h=y(h,p,u,l,r[d+3],16,-722521979),l=y(l,h,p,u,r[d+6],23,76029189),u=y(u,l,h,p,r[d+9],4,-640364487),p=y(p,u,l,h,r[d+12],11,-421815835),h=y(h,p,u,l,r[d+15],16,530742520),u=m(u,l=y(l,h,p,u,r[d+2],23,-995338651),h,p,r[d+0],6,-198630844),p=m(p,u,l,h,r[d+7],10,1126891415),h=m(h,p,u,l,r[d+14],15,-1416354905),l=m(l,h,p,u,r[d+5],21,-57434055),u=m(u,l,h,p,r[d+12],6,1700485571),p=m(p,u,l,h,r[d+3],10,-1894986606),h=m(h,p,u,l,r[d+10],15,-1051523),l=m(l,h,p,u,r[d+1],21,-2054922799),u=m(u,l,h,p,r[d+8],6,1873313359),p=m(p,u,l,h,r[d+15],10,-30611744),h=m(h,p,u,l,r[d+6],15,-1560198380),l=m(l,h,p,u,r[d+13],21,1309151649),u=m(u,l,h,p,r[d+4],6,-145523070),p=m(p,u,l,h,r[d+11],10,-1120210379),h=m(h,p,u,l,r[d+2],15,718787259),l=m(l,h,p,u,r[d+9],21,-343485551),u=u+g>>>0,l=l+b>>>0,h=h+_>>>0,p=p+E>>>0}return n.endian([u,l,h,p])})._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?s.bytesToString(r):n.bytesToHex(r)}},68696:e=>{const t="object"==typeof process&&process&&"win32"===process.platform;e.exports=t?{sep:"\\"}:{sep:"/"}},91171:(e,t,r)=>{const n=e.exports=(e,t,r={})=>(y(t),!(!r.nocomment&&"#"===t.charAt(0))&&new g(t,r).match(e));e.exports=n;const i=r(68696);n.sep=i.sep;const o=Symbol("globstar **");n.GLOBSTAR=o;const s=r(15282),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",u="[^/]*?",l=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),h=l("().*{}+?[]^$\\!"),p=l("[.("),d=/\/+/;n.filter=(e,t={})=>(r,i,o)=>n(r,e,t);const f=(e,t={})=>{const r={};return Object.keys(e).forEach((t=>r[t]=e[t])),Object.keys(t).forEach((e=>r[e]=t[e])),r};n.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return n;const t=n,r=(r,n,i)=>t(r,n,f(e,i));return(r.Minimatch=class extends t.Minimatch{constructor(t,r){super(t,f(e,r))}}).defaults=r=>t.defaults(f(e,r)).Minimatch,r.filter=(r,n)=>t.filter(r,f(e,n)),r.defaults=r=>t.defaults(f(e,r)),r.makeRe=(r,n)=>t.makeRe(r,f(e,n)),r.braceExpand=(r,n)=>t.braceExpand(r,f(e,n)),r.match=(r,n,i)=>t.match(r,n,f(e,i)),r},n.braceExpand=(e,t)=>v(e,t);const v=(e,t={})=>(y(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s(e)),y=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},m=Symbol("subparse");n.makeRe=(e,t)=>new g(e,t||{}).makeRe(),n.match=(e,t,r={})=>{const n=new g(t,r);return e=e.filter((e=>n.match(e))),n.options.nonull&&!e.length&&e.push(t),e};class g{constructor(e,t){y(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let r=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,r),r=this.globParts=r.map((e=>e.split(d))),this.debug(this.pattern,r),r=r.map(((e,t,r)=>e.map(this.parse,this))),this.debug(this.pattern,r),r=r.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,r=0;for(let n=0;n<e.length&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}matchOne(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,c=t.length;i<a&&s<c;i++,s++){this.debug("matchOne loop");var u,l=t[s],h=e[i];if(this.debug(t,l,h),!1===l)return!1;if(l===o){this.debug("GLOBSTAR",[t,l,h]);var p=i,d=s+1;if(d===c){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),r))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(i===a&&s===c)return!0;if(i===a)return r;if(s===c)return i===a-1&&""===e[i];throw new Error("wtf?")}braceExpand(){return v(this.pattern,this.options)}parse(e,t){y(e);const r=this.options;if("**"===e){if(!r.noglobstar)return o;e="*"}if(""===e)return"";let n="",i=!!r.nocase,s=!1;const l=[],d=[];let f,v,g,b,_=!1,E=-1,S=-1;const w="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",T=()=>{if(f){switch(f){case"*":n+=u,i=!0;break;case"?":n+=c,i=!0;break;default:n+="\\"+f}this.debug("clearStateChar %j %j",f,n),f=!1}};for(let t,o=0;o<e.length&&(t=e.charAt(o));o++)if(this.debug("%s\t%s %s %j",e,o,n,t),s){if("/"===t)return!1;h[t]&&(n+="\\"),n+=t,s=!1}else switch(t){case"/":return!1;case"\\":T(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,o,n,t),_){this.debug("  in class"),"!"===t&&o===S+1&&(t="^"),n+=t;continue}this.debug("call clearStateChar %j",f),T(),f=t,r.noext&&T();continue;case"(":if(_){n+="(";continue}if(!f){n+="\\(";continue}l.push({type:f,start:o-1,reStart:n.length,open:a[f].open,close:a[f].close}),n+="!"===f?"(?:(?!(?:":"(?:",this.debug("plType %j %j",f,n),f=!1;continue;case")":if(_||!l.length){n+="\\)";continue}T(),i=!0,g=l.pop(),n+=g.close,"!"===g.type&&d.push(g),g.reEnd=n.length;continue;case"|":if(_||!l.length){n+="\\|";continue}T(),n+="|";continue;case"[":if(T(),_){n+="\\"+t;continue}_=!0,S=o,E=n.length,n+=t;continue;case"]":if(o===S+1||!_){n+="\\"+t;continue}v=e.substring(S+1,o);try{RegExp("["+v+"]")}catch(e){b=this.parse(v,m),n=n.substr(0,E)+"\\["+b[0]+"\\]",i=i||b[1],_=!1;continue}i=!0,_=!1,n+=t;continue;default:T(),!h[t]||"^"===t&&_||(n+="\\"),n+=t}for(_&&(v=e.substr(S+1),b=this.parse(v,m),n=n.substr(0,E)+"\\["+b[0],i=i||b[1]),g=l.pop();g;g=l.pop()){let e;e=n.slice(g.reStart+g.open.length),this.debug("setting tail",n,g),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,r)=>(r||(r="\\"),t+t+r+"|"))),this.debug("tail=%j\n   %s",e,e,g,n);const t="*"===g.type?u:"?"===g.type?c:"\\"+g.type;i=!0,n=n.slice(0,g.reStart)+t+"\\("+e}T(),s&&(n+="\\\\");const P=p[n.charAt(0)];for(let e=d.length-1;e>-1;e--){const r=d[e],i=n.slice(0,r.reStart),o=n.slice(r.reStart,r.reEnd-8);let s=n.slice(r.reEnd);const a=n.slice(r.reEnd-8,r.reEnd)+s,c=i.split("(").length-1;let u=s;for(let e=0;e<c;e++)u=u.replace(/\)[+*?]?/,"");s=u,n=i+o+s+(""===s&&t!==m?"$":"")+a}if(""!==n&&i&&(n="(?=.)"+n),P&&(n=w+n),t===m)return[n,i];if(!i)return e.replace(/\\(.)/g,"$1");const I=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",I),{_glob:e,_src:n})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,r=t.noglobstar?u:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"";let i=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===o?o:e._src)).reduce(((e,t)=>(e[e.length-1]===o&&t===o||e.push(t),e)),[]),e.forEach(((t,n)=>{t===o&&e[n-1]!==o&&(0===n?e.length>1?e[n+1]="(?:\\/|"+r+"\\/)?"+e[n+1]:e[n]=r:n===e.length-1?e[n-1]+="(?:\\/|"+r+")?":(e[n-1]+="(?:\\/|\\/"+r+"\\/)"+e[n+1],e[n+1]=o))})),e.filter((e=>e!==o)).join("/")))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const r=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(d),this.debug(this.pattern,"split",e);const n=this.set;let o;this.debug(this.pattern,"set",n);for(let t=e.length-1;t>=0&&(o=e[t],!o);t--);for(let i=0;i<n.length;i++){const s=n[i];let a=e;if(r.matchBase&&1===s.length&&(a=[o]),this.matchOne(a,s,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return n.defaults(e).Minimatch}}n.Minimatch=g},15282:(e,t,r)=>{var n=r(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),y(function(e){return e.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(s).split("\\,").join(a).split("\\.").join(c)}(e),!0).map(l)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function l(e){return e.split(i).join("\\").split(o).join("{").split(s).join("}").split(a).join(",").split(c).join(".")}function h(e){if(!e)return[""];var t=[],r=n("{","}",e);if(!r)return e.split(",");var i=r.pre,o=r.body,s=r.post,a=i.split(",");a[a.length-1]+="{"+o+"}";var c=h(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function d(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function v(e,t){return e>=t}function y(e,t){var r=[],i=n("{","}",e);if(!i)return[e];var o=i.pre,a=i.post.length?y(i.post,!1):[""];if(/\$$/.test(i.pre))for(var c=0;c<a.length;c++){var l=o+"{"+i.body+"}"+a[c];r.push(l)}else{var m,g,b=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),_=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),E=b||_,S=i.body.indexOf(",")>=0;if(!E&&!S)return i.post.match(/,.*\}/)?y(e=i.pre+"{"+i.body+s+i.post):[e];if(E)m=i.body.split(/\.\./);else if(1===(m=h(i.body)).length&&1===(m=y(m[0],!1).map(p)).length)return a.map((function(e){return i.pre+m[0]+e}));if(E){var w=u(m[0]),T=u(m[1]),P=Math.max(m[0].length,m[1].length),I=3==m.length?Math.abs(u(m[2])):1,O=f;T<w&&(I*=-1,O=v);var C=m.some(d);g=[];for(var A=w;O(A,T);A+=I){var x;if(_)"\\"===(x=String.fromCharCode(A))&&(x="");else if(x=String(A),C){var R=P-x.length;if(R>0){var N=new Array(R+1).join("0");x=A<0?"-"+N+x.slice(1):N+x}}g.push(x)}}else{g=[];for(var k=0;k<m.length;k++)g.push.apply(g,y(m[k],!1))}for(k=0;k<g.length;k++)for(c=0;c<a.length;c++)l=o+g[k]+a[c],(!t||E||l)&&r.push(l)}return r}},35736:(e,t,r)=>{"use strict";const n="object"==typeof process&&process?process:{stdout:null,stderr:null},i=r(82361),o=r(12781),s=r(34411),a=r(71576).StringDecoder,c=Symbol("EOF"),u=Symbol("maybeEmitEnd"),l=Symbol("emittedEnd"),h=Symbol("emittingEnd"),p=Symbol("emittedError"),d=Symbol("closed"),f=Symbol("read"),v=Symbol("flush"),y=Symbol("flushChunk"),m=Symbol("encoding"),g=Symbol("decoder"),b=Symbol("flowing"),_=Symbol("paused"),E=Symbol("resume"),S=Symbol("bufferLength"),w=Symbol("bufferPush"),T=Symbol("bufferShift"),P=Symbol("objectMode"),I=Symbol("destroyed"),O="1"!==global._MP_NO_ITERATOR_SYMBOLS_,C=O&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),A=O&&Symbol.iterator||Symbol("iterator not implemented"),x=e=>"end"===e||"finish"===e||"prefinish"===e;e.exports=class e extends o{constructor(e){super(),this[b]=!1,this[_]=!1,this.pipes=new s,this.buffer=new s,this[P]=e&&e.objectMode||!1,this[P]?this[m]=null:this[m]=e&&e.encoding||null,"buffer"===this[m]&&(this[m]=null),this[g]=this[m]?new a(this[m]):null,this[c]=!1,this[l]=!1,this[h]=!1,this[d]=!1,this[p]=null,this.writable=!0,this.readable=!0,this[S]=0,this[I]=!1}get bufferLength(){return this[S]}get encoding(){return this[m]}set encoding(e){if(this[P])throw new Error("cannot set encoding in objectMode");if(this[m]&&e!==this[m]&&(this[g]&&this[g].lastNeed||this[S]))throw new Error("cannot change encoding");this[m]!==e&&(this[g]=e?new a(e):null,this.buffer.length&&(this.buffer=this.buffer.map((e=>this[g].write(e))))),this[m]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[P]}set objectMode(e){this[P]=this[P]||!!e}write(e,t,r){if(this[c])throw new Error("write after end");return this[I]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):("function"==typeof t&&(r=t,t="utf8"),t||(t="utf8"),this[P]||Buffer.isBuffer(e)||(n=e,!Buffer.isBuffer(n)&&ArrayBuffer.isView(n)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this.objectMode||e.length?("string"!=typeof e||this[P]||t===this[m]&&!this[g].lastNeed||(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[m]&&(e=this[g].write(e)),this.flowing?(0!==this[S]&&this[v](!0),this.flowing?this.emit("data",e):this[w](e)):this[w](e),0!==this[S]&&this.emit("readable"),r&&r(),this.flowing):(0!==this[S]&&this.emit("readable"),r&&r(),this.flowing));var n}read(e){if(this[I])return null;try{return 0===this[S]||0===e||e>this[S]?null:(this[P]&&(e=null),this.buffer.length>1&&!this[P]&&(this.encoding?this.buffer=new s([Array.from(this.buffer).join("")]):this.buffer=new s([Buffer.concat(Array.from(this.buffer),this[S])])),this[f](e||null,this.buffer.head.value))}finally{this[u]()}}[f](e,t){return e===t.length||null===e?this[T]():(this.buffer.head.value=t.slice(e),t=t.slice(0,e),this[S]-=e),this.emit("data",t),this.buffer.length||this[c]||this.emit("drain"),t}end(e,t,r){return"function"==typeof e&&(r=e,e=null),"function"==typeof t&&(r=t,t="utf8"),e&&this.write(e,t),r&&this.once("end",r),this[c]=!0,this.writable=!1,!this.flowing&&this[_]||this[u](),this}[E](){this[I]||(this[_]=!1,this[b]=!0,this.emit("resume"),this.buffer.length?this[v]():this[c]?this[u]():this.emit("drain"))}resume(){return this[E]()}pause(){this[b]=!1,this[_]=!0}get destroyed(){return this[I]}get flowing(){return this[b]}get paused(){return this[_]}[w](e){return this[P]?this[S]+=1:this[S]+=e.length,this.buffer.push(e)}[T](){return this.buffer.length&&(this[P]?this[S]-=1:this[S]-=this.buffer.head.value.length),this.buffer.shift()}[v](e){do{}while(this[y](this[T]()));e||this.buffer.length||this[c]||this.emit("drain")}[y](e){return!!e&&(this.emit("data",e),this.flowing)}pipe(e,t){if(this[I])return;const r=this[l];t=t||{},e===n.stdout||e===n.stderr?t.end=!1:t.end=!1!==t.end;const i={dest:e,opts:t,ondrain:e=>this[E]()};return this.pipes.push(i),e.on("drain",i.ondrain),this[E](),r&&i.opts.end&&i.dest.end(),e}addListener(e,t){return this.on(e,t)}on(e,t){try{return super.on(e,t)}finally{"data"!==e||this.pipes.length||this.flowing?x(e)&&this[l]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[p]&&t.call(this,this[p]):this[E]()}}get emittedEnd(){return this[l]}[u](){this[h]||this[l]||this[I]||0!==this.buffer.length||!this[c]||(this[h]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[h]=!1)}emit(e,t){if("error"!==e&&"close"!==e&&e!==I&&this[I])return;if("data"===e){if(!t)return;this.pipes.length&&this.pipes.forEach((e=>!1===e.dest.write(t)&&this.pause()))}else if("end"===e){if(!0===this[l])return;this[l]=!0,this.readable=!1,this[g]&&(t=this[g].end())&&(this.pipes.forEach((e=>e.dest.write(t))),super.emit("data",t)),this.pipes.forEach((e=>{e.dest.removeListener("drain",e.ondrain),e.opts.end&&e.dest.end()}))}else if("close"===e){if(this[d]=!0,!this[l]&&!this[I])return}else"error"===e&&(this[p]=t);const r=new Array(arguments.length);if(r[0]=e,r[1]=t,arguments.length>2)for(let e=2;e<arguments.length;e++)r[e]=arguments[e];try{return super.emit.apply(this,r)}finally{x(e)?this.removeAllListeners(e):this[u]()}}collect(){const e=[];this[P]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[P]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[P]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[P]?Promise.reject(new Error("cannot concat in objectMode")):this[m]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(I,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[C](){return{next:()=>{const e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[c])return Promise.resolve({done:!0});let t=null,r=null;const n=e=>{this.removeListener("data",i),this.removeListener("end",o),r(e)},i=e=>{this.removeListener("error",n),this.removeListener("end",o),this.pause(),t({value:e,done:!!this[c]})},o=()=>{this.removeListener("error",n),this.removeListener("data",i),t({done:!0})},s=()=>n(new Error("stream destroyed"));return new Promise(((e,a)=>{r=a,t=e,this.once(I,s),this.once("error",n),this.once("end",o),this.once("data",i)}))}}}[A](){return{next:()=>{const e=this.read();return{value:e,done:null===e}}}}destroy(e){return this[I]?(e?this.emit("error",e):this.emit(I),this):(this[I]=!0,this.buffer=new s,this[S]=0,"function"!=typeof this.close||this[d]||this.close(),e?this.emit("error",e):this.emit(I),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof o||t instanceof i&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}}},20883:(e,t,r)=>{const n=r(59796).constants||{ZLIB_VERNUM:4736};e.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},n))},31650:(e,t,r)=>{"use strict";const n=r(39491),i=r(14300).Buffer,o=r(59796),s=t.constants=r(20883),a=r(35736),c=i.concat,u=Symbol("_superWrite");class l extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const h=Symbol("opts"),p=Symbol("flushFlag"),d=Symbol("finishFlushFlag"),f=Symbol("fullFlushFlag"),v=Symbol("handle"),y=Symbol("onError"),m=Symbol("sawError"),g=Symbol("level"),b=Symbol("strategy"),_=Symbol("ended");Symbol("_defaultFullFlush");class E extends a{constructor(e,t){if(!e||"object"!=typeof e)throw new TypeError("invalid options for ZlibBase constructor");super(e),this[m]=!1,this[_]=!1,this[h]=e,this[p]=e.flush,this[d]=e.finishFlush;try{this[v]=new o[t](e)}catch(e){throw new l(e)}this[y]=e=>{this[m]||(this[m]=!0,this.close(),this.emit("error",e))},this[v].on("error",(e=>this[y](new l(e)))),this.once("end",(()=>this.close))}close(){this[v]&&(this[v].close(),this[v]=null,this.emit("close"))}reset(){if(!this[m])return n(this[v],"zlib binding closed"),this[v].reset()}flush(e){this.ended||("number"!=typeof e&&(e=this[f]),this.write(Object.assign(i.alloc(0),{[p]:e})))}end(e,t,r){return e&&this.write(e,t),this.flush(this[d]),this[_]=!0,super.end(null,null,r)}get ended(){return this[_]}write(e,t,r){if("function"==typeof t&&(r=t,t="utf8"),"string"==typeof e&&(e=i.from(e,t)),this[m])return;n(this[v],"zlib binding closed");const o=this[v]._handle,s=o.close;o.close=()=>{};const a=this[v].close;let h,d;this[v].close=()=>{},i.concat=e=>e;try{const t="number"==typeof e[p]?e[p]:this[p];h=this[v]._processChunk(e,t),i.concat=c}catch(e){i.concat=c,this[y](new l(e))}finally{this[v]&&(this[v]._handle=o,o.close=s,this[v].close=a,this[v].removeAllListeners("error"))}if(this[v]&&this[v].on("error",(e=>this[y](new l(e)))),h)if(Array.isArray(h)&&h.length>0){d=this[u](i.from(h[0]));for(let e=1;e<h.length;e++)d=this[u](h[e])}else d=this[u](i.from(h));return r&&r(),d}[u](e){return super.write(e)}}class S extends E{constructor(e,t){(e=e||{}).flush=e.flush||s.Z_NO_FLUSH,e.finishFlush=e.finishFlush||s.Z_FINISH,super(e,t),this[f]=s.Z_FULL_FLUSH,this[g]=e.level,this[b]=e.strategy}params(e,t){if(!this[m]){if(!this[v])throw new Error("cannot switch params when binding is closed");if(!this[v].params)throw new Error("not supported in this implementation");if(this[g]!==e||this[b]!==t){this.flush(s.Z_SYNC_FLUSH),n(this[v],"zlib binding closed");const r=this[v].flush;this[v].flush=(e,t)=>{this.flush(e),t()};try{this[v].params(e,t)}finally{this[v].flush=r}this[v]&&(this[g]=e,this[b]=t)}}}}const w=Symbol("_portable");class T extends E{constructor(e,t){(e=e||{}).flush=e.flush||s.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||s.BROTLI_OPERATION_FINISH,super(e,t),this[f]=s.BROTLI_OPERATION_FLUSH}}t.Deflate=class extends S{constructor(e){super(e,"Deflate")}},t.Inflate=class extends S{constructor(e){super(e,"Inflate")}},t.Gzip=class extends S{constructor(e){super(e,"Gzip"),this[w]=e&&!!e.portable}[u](e){return this[w]?(this[w]=!1,e[9]=255,super[u](e)):super[u](e)}},t.Gunzip=class extends S{constructor(e){super(e,"Gunzip")}},t.DeflateRaw=class extends S{constructor(e){super(e,"DeflateRaw")}},t.InflateRaw=class extends S{constructor(e){super(e,"InflateRaw")}},t.Unzip=class extends S{constructor(e){super(e,"Unzip")}},"function"==typeof o.BrotliCompress?(t.BrotliCompress=class extends T{constructor(e){super(e,"BrotliCompress")}},t.BrotliDecompress=class extends T{constructor(e){super(e,"BrotliDecompress")}}):t.BrotliCompress=t.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}},30778:(e,t,r)=>{var n=r(52479);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},55339:e=>{"use strict";var t="win32"===process.platform,r=t?/[^:]\\$/:/.\/$/;e.exports=function(){var e;return e=t?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",r.test(e)&&(e=e.slice(0,-1)),e}},64095:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function r(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||n)}e.exports="win32"===process.platform?r:t,e.exports.posix=t,e.exports.win32=r},28660:()=>{var e;!function(e){!function(t){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===r.Reflect?r.Reflect=e:n=i(r.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,c={create:o?function(){return M(Object.create(null))}:s?function(){return M({__proto__:null})}:function(){return M({})},has:a?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:a?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,o)},t.prototype.entries=function(){return new r(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function o(e,t){return t}function s(e,t){return[e,t]}}():Map,p=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,d=new(l||"function"!=typeof WeakMap?function(){var e=c.create(),r=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var t;do{t="@@WeakMap@@"+s()}while(c.has(e,t));return e[t]=!0,t}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<16;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function f(e,t,r){var n=d.get(e);if(w(n)){if(!r)return;n=new h,d.set(e,n)}var i=n.get(t);if(w(i)){if(!r)return;i=new h,n.set(t,i)}return i}function v(e,t,r){if(y(e,t,r))return!0;var n=D(t);return!T(n)&&v(e,n,r)}function y(e,t,r){var n=f(t,r,!1);return!w(n)&&!!n.has(e)}function m(e,t,r){if(y(e,t,r))return g(e,t,r);var n=D(t);return T(n)?void 0:m(e,n,r)}function g(e,t,r){var n=f(t,r,!1);if(!w(n))return n.get(e)}function b(e,t,r,n){f(r,n,!0).set(e,t)}function _(e,t){var r=E(e,t),n=D(e);if(null===n)return r;var i=_(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var o=new p,s=[],a=0,c=r;a<c.length;a++){var u=c[a];o.has(u)||(o.add(u),s.push(u))}for(var l=0,h=i;l<h.length;l++)u=h[l],o.has(u)||(o.add(u),s.push(u));return s}function E(e,t){var r=[],n=f(e,t,!1);if(w(n))return r;for(var o=function(e){var t=R(e,i);if(!A(t))throw new TypeError;var r=t.call(e);if(!P(r))throw new TypeError;return r}(n.keys()),s=0;;){var a=N(o);if(!a)return r.length=s,r;var c=a.value;try{r[s]=c}catch(e){try{k(o)}finally{throw e}}s++}}function S(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function T(e){return null===e}function P(e){return"object"==typeof e?null!==e:"function"==typeof e}function I(e,t){switch(S(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=R(e,n);if(void 0!==i){var o=i.call(e,r);if(P(o))throw new TypeError;return o}return function(e,t){if("string"===t){var r=e.toString;if(A(r)&&!P(i=r.call(e)))return i;if(A(n=e.valueOf)&&!P(i=n.call(e)))return i}else{var n;if(A(n=e.valueOf)&&!P(i=n.call(e)))return i;var i,o=e.toString;if(A(o)&&!P(i=o.call(e)))return i}throw new TypeError}(e,"default"===r?"number":r)}function O(e){var t=I(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function C(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function A(e){return"function"==typeof e}function x(e){return"function"==typeof e}function R(e,t){var r=e[t];if(null!=r){if(!A(r))throw new TypeError;return r}}function N(e){var t=e.next();return!t.done&&t}function k(e){var t=e.return;t&&t.call(e)}function D(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function M(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,r,n){if(w(r)){if(!C(e))throw new TypeError;if(!x(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!w(n)&&!T(n)){if(!x(n))throw new TypeError;t=n}}return t}(e,t)}if(!C(e))throw new TypeError;if(!P(t))throw new TypeError;if(!P(n)&&!w(n)&&!T(n))throw new TypeError;return T(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,r,n);if(!w(o)&&!T(o)){if(!P(o))throw new TypeError;n=o}}return n}(e,t,r=O(r),n)})),e("metadata",(function(e,t){return function(r,n){if(!P(r))throw new TypeError;if(!w(n)&&!function(e){switch(S(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;b(e,t,r,n)}})),e("defineMetadata",(function(e,t,r,n){if(!P(r))throw new TypeError;return w(n)||(n=O(n)),b(e,t,r,n)})),e("hasMetadata",(function(e,t,r){if(!P(t))throw new TypeError;return w(r)||(r=O(r)),v(e,t,r)})),e("hasOwnMetadata",(function(e,t,r){if(!P(t))throw new TypeError;return w(r)||(r=O(r)),y(e,t,r)})),e("getMetadata",(function(e,t,r){if(!P(t))throw new TypeError;return w(r)||(r=O(r)),m(e,t,r)})),e("getOwnMetadata",(function(e,t,r){if(!P(t))throw new TypeError;return w(r)||(r=O(r)),g(e,t,r)})),e("getMetadataKeys",(function(e,t){if(!P(e))throw new TypeError;return w(t)||(t=O(t)),_(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!P(e))throw new TypeError;return w(t)||(t=O(t)),E(e,t)})),e("deleteMetadata",(function(e,t,r){if(!P(t))throw new TypeError;w(r)||(r=O(r));var n=f(t,r,!1);if(w(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=d.get(t);return i.delete(r),i.size>0||d.delete(t),!0}))}(n)}()}(e||(e={}))},32099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(50417);t.Observable=n.Observable},95100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(32099))},50417:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ArgumentOutOfRangeError:()=>M.W,AsyncSubject:()=>m,BehaviorSubject:()=>v,ConnectableObservable:()=>l,EMPTY:()=>ve.E,EmptyError:()=>j.K,GroupedObservable:()=>p.T,NEVER:()=>Ne,Notification:()=>x.P,NotificationKind:()=>x.W,ObjectUnsubscribedError:()=>f.N,Observable:()=>n.y,ReplaySubject:()=>y.t,Scheduler:()=>A.b,Subject:()=>o.xQ,Subscriber:()=>s.L,Subscription:()=>a.w,TimeoutError:()=>F.W,UnsubscriptionError:()=>L.B,VirtualAction:()=>C,VirtualTimeScheduler:()=>O,animationFrame:()=>I,animationFrameScheduler:()=>P,asap:()=>g.e,asapScheduler:()=>g.E,async:()=>S,asyncScheduler:()=>E,bindCallback:()=>$,bindNodeCallback:()=>q,combineLatest:()=>X.aj,concat:()=>fe,config:()=>ot.v,defer:()=>ye,empty:()=>ve.c,forkJoin:()=>ge,from:()=>ae,fromEvent:()=>Ee,fromEventPattern:()=>we,generate:()=>Te,identity:()=>k.y,iif:()=>Ie,interval:()=>Ce,isObservable:()=>D,merge:()=>Re,never:()=>ke,noop:()=>N.Z,observable:()=>d.L,of:()=>Q.of,onErrorResumeNext:()=>De,pairs:()=>Me,partition:()=>Ue,pipe:()=>R.z,queue:()=>w.c,queueScheduler:()=>w.N,race:()=>He,range:()=>ze.w,scheduled:()=>se,throwError:()=>Ke._,timer:()=>Ye,using:()=>Qe,zip:()=>Ze});var n=r(61244),i=r(70655),o=r(70211),s=r(10979),a=r(98760),c=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new u(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),u=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return i.ZT(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(s.L),l=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return i.ZT(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.w).add(this.source.subscribe(new h(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.w.EMPTY)),e},t.prototype.refCount=function(){return(e=this).lift(new c(e));var e},t}(n.y),h=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return i.ZT(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.Yc),p=(s.L,r(11120)),d=r(15050),f=r(41016),v=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return i.ZT(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new f.N;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.xQ),y=r(32993),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.ZT(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),a.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),a.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(o.xQ),g=r(77681),b=r(96114),_=r(78399),E=new _.v(b.o),S=E,w=r(92546),T=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i.ZT(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(cancelAnimationFrame(r),t.scheduled=void 0)},t}(b.o),P=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(_.v))(T),I=P,O=function(e){function t(t,r){void 0===t&&(t=C),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this,t,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return i.ZT(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(_.v),C=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return i.ZT(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(b.o),A=r(38725),x=r(42632),R=r(62561),N=r(33306),k=r(43608);function D(e){return!!e&&(e instanceof n.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var M=r(76565),j=r(26929),L=r(28782),F=r(81462),V=r(55709),B=r(93642),U=r(59026),W=r(17507);function $(e,t,r){if(t){if(!(0,W.K)(t))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return $(e,r).apply(void 0,n).pipe((0,V.U)((function(e){return(0,U.k)(e)?t.apply(void 0,e):t(e)})))};r=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,s=this,a={context:s,subject:o,callbackFunc:e,scheduler:r};return new n.y((function(n){if(r){var i={args:t,subscriber:n,params:a};return r.schedule(H,0,i)}if(!o){o=new m;try{e.apply(s,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(e){(0,B._)(o)?o.error(e):console.warn(e)}}return o.subscribe(n)}))}}function H(e){var t=this,r=e.args,n=e.subscriber,i=e.params,o=i.callbackFunc,s=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new m;try{o.apply(s,r.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.length<=1?e[0]:e;t.add(a.schedule(G,0,{value:n,subject:c}))}]))}catch(e){c.error(e)}}this.add(c.subscribe(n))}function G(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function q(e,t,r){if(t){if(!(0,W.K)(t))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return q(e,r).apply(void 0,n).pipe((0,V.U)((function(e){return(0,U.k)(e)?t.apply(void 0,e):t(e)})))};r=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:r,context:this};return new n.y((function(n){var i=o.context,s=o.subject;if(r)return r.schedule(z,0,{params:o,subscriber:n,context:i});if(!s){s=o.subject=new m;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.shift();r?s.error(r):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){(0,B._)(s)?s.error(e):console.warn(e)}}return s.subscribe(n)}))}}function z(e){var t=this,r=e.params,n=e.subscriber,i=e.context,o=r.callbackFunc,s=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new m;try{o.apply(i,s.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.shift();if(n)t.add(a.schedule(Y,0,{err:n,subject:c}));else{var i=e.length<=1?e[0]:e;t.add(a.schedule(K,0,{value:i,subject:c}))}}]))}catch(e){this.add(a.schedule(Y,0,{err:e,subject:c}))}}this.add(c.subscribe(n))}function K(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function Y(e){var t=e.err;e.subject.error(t)}var X=r(75142),Q=r(18170),J=r(84551),Z=r(73049),ee=r(53109),te=r(91275),re=r(76208),ne=r(70336),ie=r(39217),oe=r(6727);function se(e,t){if(null!=e){if((0,re.c)(e))return function(e,t){return new n.y((function(r){var n=new a.w;return n.add(t.schedule((function(){var i=e[d.L]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}(e,t);if((0,ne.t)(e))return(0,Z.c)(e,t);if((0,ie.z)(e))return(0,ee.r)(e,t);if((0,oe.T)(e)||"string"==typeof e)return(0,te.Q)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function ae(e,t){return t?se(e,t):e instanceof n.y?e:new n.y((0,J.s)(e))}var ce=r(17604);function ue(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(ue((function(r,n){return ae(e(r,n)).pipe((0,V.U)((function(e,i){return t(r,e,n,i)})))}),r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new le(e,r))})}var le=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new he(e,this.project,this.concurrent))},e}(),he=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i.ZT(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new ce.IY(this),r=this.destination;r.add(t);var n=(0,ce.ft)(e,t);n!==t&&r.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(ce.Ds);function pe(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),ue(k.y,e)}function de(){return pe(1)}function fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return de()(Q.of.apply(void 0,e))}var ve=r(5631);function ye(e){return new n.y((function(t){var r;try{r=e()}catch(e){return void t.error(e)}return(r?ae(r):(0,ve.c)()).subscribe(t)}))}var me=r(92009);function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=e[0];if((0,U.k)(r))return be(r,null);if((0,me.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return be(n.map((function(e){return r[e]})),n)}}if("function"==typeof e[e.length-1]){var i=e.pop();return be(e=1===e.length&&(0,U.k)(e[0])?e[0]:e,null).pipe((0,V.U)((function(e){return i.apply(void 0,e)})))}return be(e,null)}function be(e,t){return new n.y((function(r){var n=e.length;if(0!==n)for(var i=new Array(n),o=0,s=0,a=function(a){var c=ae(e[a]),u=!1;r.add(c.subscribe({next:function(e){u||(u=!0,s++),i[a]=e},error:function(e){return r.error(e)},complete:function(){++o!==n&&u||(s===n&&r.next(t?t.reduce((function(e,t,r){return e[t]=i[r],e}),{}):i),r.complete())}}))},c=0;c<n;c++)a(c);else r.complete()}))}var _e=r(14156);function Ee(e,t,r,i){return(0,_e.m)(r)&&(i=r,r=void 0),i?Ee(e,t,r).pipe((0,V.U)((function(e){return(0,U.k)(e)?i.apply(void 0,e):i(e)}))):new n.y((function(n){Se(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,r)}))}function Se(e,t,r,n,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,r,i),o=function(){return s.removeEventListener(t,r,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,r),o=function(){return a.off(t,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,r),o=function(){return c.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,l=e.length;u<l;u++)Se(e[u],t,r,n,i)}n.add(o)}function we(e,t,r){return r?we(e,t).pipe((0,V.U)((function(e){return(0,U.k)(e)?r.apply(void 0,e):r(e)}))):new n.y((function(r){var n,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)};try{n=e(i)}catch(e){return void r.error(e)}if((0,_e.m)(t))return function(){return t(i,n)}}))}function Te(e,t,r,i,o){var s,a;if(1==arguments.length){var c=e;a=c.initialState,t=c.condition,r=c.iterate,s=c.resultSelector||k.y,o=c.scheduler}else void 0===i||(0,W.K)(i)?(a=e,s=k.y,o=i):(a=e,s=i);return new n.y((function(e){var n=a;if(o)return o.schedule(Pe,0,{subscriber:e,iterate:r,condition:t,resultSelector:s,state:n});for(;;){if(t){var i=void 0;try{i=t(n)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var c=void 0;try{c=s(n)}catch(t){return void e.error(t)}if(e.next(c),e.closed)break;try{n=r(n)}catch(t){return void e.error(t)}}}))}function Pe(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function Ie(e,t,r){return void 0===t&&(t=ve.E),void 0===r&&(r=ve.E),ye((function(){return e()?t:r}))}var Oe=r(35812);function Ce(e,t){return void 0===e&&(e=0),void 0===t&&(t=S),(!(0,Oe.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=S),new n.y((function(r){return r.add(t.schedule(Ae,e,{subscriber:r,counter:0,period:e})),r}))}function Ae(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}var xe=r(43375);function Re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return(0,W.K)(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof n.y?e[0]:pe(r)((0,xe.n)(e,i))}var Ne=new n.y(N.Z);function ke(){return Ne}function De(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return ve.E;var r=e[0],i=e.slice(1);return 1===e.length&&(0,U.k)(r)?De.apply(void 0,r):new n.y((function(e){var t=function(){return e.add(De.apply(void 0,i).subscribe(e))};return ae(r).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function Me(e,t){return t?new n.y((function(r){var n=Object.keys(e),i=new a.w;return i.add(t.schedule(je,0,{keys:n,index:0,subscriber:r,subscription:i,obj:e})),i})):new n.y((function(t){for(var r=Object.keys(e),n=0;n<r.length&&!t.closed;n++){var i=r[n];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function je(e){var t=e.keys,r=e.index,n=e.subscriber,i=e.subscription,o=e.obj;if(!n.closed)if(r<t.length){var s=t[r];n.next([s,o[s]]),i.add(this.schedule({keys:t,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}var Le=r(18463);function Fe(e,t){return function(r){return r.lift(new Ve(e,t))}}var Ve=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Be(e,this.predicate,this.thisArg))},e}(),Be=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return i.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(s.L);function Ue(e,t,r){return[Fe(t,r)(new n.y((0,J.s)(e))),Fe((0,Le.f)(t,r))(new n.y((0,J.s)(e)))]}var We=r(62039),$e=r(47407);function He(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,U.k)(e[0]))return e[0];e=e[0]}return(0,xe.n)(e,void 0).lift(new Ge)}var Ge=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new qe(e))},e}(),qe=function(e){function t(t){var r=e.call(this,t)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return i.ZT(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],i=(0,$e.D)(this,n,void 0,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==r){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(We.L),ze=r(31898),Ke=r(64944);function Ye(e,t,r){void 0===e&&(e=0);var i=-1;return(0,Oe.k)(t)?i=Number(t)<1?1:Number(t):(0,W.K)(t)&&(r=t),(0,W.K)(r)||(r=S),new n.y((function(t){var n=(0,Oe.k)(e)?e:+e-r.now();return r.schedule(Xe,n,{index:0,period:i,subscriber:t})}))}function Xe(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}}function Qe(e,t){return new n.y((function(r){var n,i;try{n=e()}catch(e){return void r.error(e)}try{i=t(n)}catch(e){return void r.error(e)}var o=(i?ae(i):ve.E).subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}}))}var Je=r(999);function Ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),(0,xe.n)(e,void 0).lift(new et(r))}var et=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new tt(e,this.resultSelector))},e}(),tt=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return i.ZT(t,e),t.prototype._next=function(e){var t=this.iterators;(0,U.k)(e)?t.push(new nt(e)):"function"==typeof e[Je.hZ]?t.push(new rt(e[Je.hZ]())):t.push(new it(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++)if("function"==typeof(s=e[n]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(n=0;n<t;n++){var s,a=(s=e[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L),rt=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),nt=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Je.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),it=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i.ZT(t,e),t.prototype[Je.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,ce.ft)(this.observable,new ce.IY(this))},t}(ce.Ds),ot=r(30150)},25472:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AjaxError:()=>N,AjaxObservable:()=>A,AjaxResponse:()=>R,AjaxSubscriber:()=>x,AjaxTimeoutError:()=>D,AnonymousSubject:()=>a.ug,ArgumentOutOfRangeError:()=>ee.W,CombineLatestOperator:()=>U.Ms,EmptyError:()=>te.K,GroupedObservable:()=>K.T,Immediate:()=>re.H,InnerSubscriber:()=>i.d,ObjectUnsubscribedError:()=>ne.N,OuterSubscriber:()=>o.L,Scheduler:()=>s.b,SubjectSubscription:()=>c.W,SubscribeOnObservable:()=>G,Subscriber:()=>u.L,TimeInterval:()=>z,TimeoutError:()=>ie.W,Timestamp:()=>q,UnsubscriptionError:()=>oe.B,WebSocketSubject:()=>V,ajax:()=>M,ajaxDelete:()=>T,ajaxGet:()=>S,ajaxGetJSON:()=>C,ajaxPatch:()=>I,ajaxPost:()=>w,ajaxPut:()=>P,applyMixins:()=>se,config:()=>n.v,defaultThrottleConfig:()=>X,dispatch:()=>W.W,errorObject:()=>ae,fromIterable:()=>y,fromPromise:()=>d,hostReportError:()=>ce.z,identity:()=>ue.y,isArray:()=>le.k,isArrayLike:()=>he.z,isDate:()=>pe,isFunction:()=>fe.m,isIterable:()=>ve.T,isNumeric:()=>H.k,isObject:()=>ye.K,isObservable:()=>me.c,isPromise:()=>ge.t,isScheduler:()=>be.K,iterator:()=>J.hZ,noop:()=>_e.Z,not:()=>Ee.f,observable:()=>Z.L,pipe:()=>Se.z,root:()=>E,rxSubscriber:()=>Q.b,subscribeTo:()=>we.s,subscribeToArray:()=>Te.V,subscribeToIterable:()=>f.u,subscribeToObservable:()=>Pe.h,subscribeToPromise:()=>h.A,subscribeToResult:()=>Ie.D,toSubscriber:()=>Oe.Y,tryCatch:()=>Ae,webSocket:()=>B});var n=r(30150),i=r(81112),o=r(62039),s=r(38725),a=r(70211),c=r(18253),u=r(10979),l=r(61244),h=r(51203),p=r(73049);function d(e,t){return t?(0,p.c)(e,t):new l.y((0,h.A)(e))}var f=r(52949),v=r(91275);function y(e,t){if(!e)throw new Error("Iterable cannot be null");return t?(0,v.Q)(e,t):new l.y((0,f.u)(e))}var m=r(70655),g="undefined"!=typeof window&&window,b="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_="undefined"!=typeof global&&global,E=g||_||b;function S(e,t){return void 0===t&&(t=null),new A({method:"GET",url:e,headers:t})}function w(e,t,r){return new A({method:"POST",url:e,body:t,headers:r})}function T(e,t){return new A({method:"DELETE",url:e,headers:t})}function P(e,t,r){return new A({method:"PUT",url:e,body:t,headers:r})}function I(e,t,r){return new A({method:"PATCH",url:e,body:t,headers:r})}var O=(0,r(55709).U)((function(e,t){return e.response}));function C(e,t){return O(new A({method:"GET",url:e,responseType:"json",headers:t}))}var A=function(e){function t(t){var r=e.call(this)||this,n={async:!0,createXHR:function(){return this.crossDomain?function(){if(E.XMLHttpRequest)return new E.XMLHttpRequest;if(E.XDomainRequest)return new E.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(E.XMLHttpRequest)return new E.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new E.ActiveXObject(e))break}catch(e){}return new E.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)n.url=t;else for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return r.request=n,r}var r;return m.ZT(t,e),t.prototype._subscribe=function(e){return new x(e,this.request)},t.create=((r=function(e){return new t(e)}).get=S,r.post=w,r.delete=T,r.put=P,r.patch=I,r.getJSON=C,r),t}(l.y),x=function(e){function t(t,r){var n=e.call(this,t)||this;n.request=r,n.done=!1;var i=r.headers=r.headers||{};return r.crossDomain||n.getHeader(i,"X-Requested-With")||(i["X-Requested-With"]="XMLHttpRequest"),n.getHeader(i,"Content-Type")||E.FormData&&r.body instanceof E.FormData||void 0===r.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=n.serializeBody(r.body,n.getHeader(r.headers,"Content-Type")),n.send(),n}return m.ZT(t,e),t.prototype.next=function(e){this.done=!0;var t,r=this,n=r.xhr,i=r.request,o=r.destination;try{t=new R(e,n,i)}catch(e){return o.error(e)}o.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,r=t.user,n=t.method,i=t.url,o=t.async,s=t.password,a=t.headers,c=t.body;try{var u=this.xhr=e.createXHR();this.setupEvents(u,e),r?u.open(n,i,o,r,s):u.open(n,i,o),o&&(u.timeout=e.timeout,u.responseType=e.responseType),"withCredentials"in u&&(u.withCredentials=!!e.withCredentials),this.setHeaders(u,a),c?u.send(c):u.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(E.FormData&&e instanceof E.FormData)return e;if(t){var r=t.indexOf(";");-1!==r&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.getHeader=function(e,t){for(var r in e)if(r.toLowerCase()===t.toLowerCase())return e[r]},t.prototype.setupEvents=function(e,t){var r,n,i=t.progressSubscriber;function o(e){var t,r=o,n=r.subscriber,i=r.progressSubscriber,s=r.request;i&&i.error(e);try{t=new D(this,s)}catch(e){t=e}n.error(t)}(e.ontimeout=o,o.request=t,o.subscriber=this,o.progressSubscriber=i,e.upload&&"withCredentials"in e)&&(i&&(r=function(e){r.progressSubscriber.next(e)},E.XDomainRequest?e.onprogress=r:e.upload.onprogress=r,r.progressSubscriber=i),n=function(e){var t,r=n,i=r.progressSubscriber,o=r.subscriber,s=r.request;i&&i.error(e);try{t=new N("ajax error",this,s)}catch(e){t=e}o.error(t)},e.onerror=n,n.request=t,n.subscriber=this,n.progressSubscriber=i);function s(e){}function a(e){var t=a,r=t.subscriber,n=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===o&&(o=s?200:0),o<400)n&&n.complete(),r.next(e),r.complete();else{n&&n.error(e);var c=void 0;try{c=new N("ajax error "+o,this,i)}catch(e){c=e}r.error(c)}}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=i,s.request=t,e.onload=a,a.subscriber=this,a.progressSubscriber=i,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,r=this.xhr;!t&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},t}(u.L),R=function(){return function(e,t,r){this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=k(this.responseType,t)}}(),N=function(){function e(e,t,r){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=k(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}();function k(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}var D=function(e,t){return N.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},M=function(){return A.create}(),j=r(98760),L=r(32993),F={url:"",deserializer:function(e){return JSON.parse(e.data)},serializer:function(e){return JSON.stringify(e)}},V=function(e){function t(t,r){var n=e.call(this)||this;if(t instanceof l.y)n.destination=r,n.source=t;else{var i=n._config=m.pi({},F);if(n._output=new a.xQ,"string"==typeof t)i.url=t;else for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");n.destination=new L.t}return n}return m.ZT(t,e),t.prototype.lift=function(e){var r=new t(this._config,this.destination);return r.operator=e,r.source=this,r},t.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new L.t),this._output=new a.xQ},t.prototype.multiplex=function(e,t,r){var n=this;return new l.y((function(i){try{n.next(e())}catch(e){i.error(e)}var o=n.subscribe((function(e){try{r(e)&&i.next(e)}catch(e){i.error(e)}}),(function(e){return i.error(e)}),(function(){return i.complete()}));return function(){try{n.next(t())}catch(e){i.error(e)}o.unsubscribe()}}))},t.prototype._connectSocket=function(){var e=this,t=this._config,r=t.WebSocketCtor,n=t.protocol,i=t.url,o=t.binaryType,s=this._output,a=null;try{a=n?new r(i,n):new r(i),this._socket=a,o&&(this._socket.binaryType=o)}catch(e){return void s.error(e)}var c=new j.w((function(){e._socket=null,a&&1===a.readyState&&a.close()}));a.onopen=function(t){if(!e._socket)return a.close(),void e._resetState();var r=e._config.openObserver;r&&r.next(t);var n=e.destination;e.destination=u.L.create((function(t){if(1===a.readyState)try{var r=e._config.serializer;a.send(r(t))}catch(t){e.destination.error(t)}}),(function(t){var r=e._config.closingObserver;r&&r.next(void 0),t&&t.code?a.close(t.code,t.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e._config.closingObserver;t&&t.next(void 0),a.close(),e._resetState()})),n&&n instanceof L.t&&c.add(n.subscribe(e.destination))},a.onerror=function(t){e._resetState(),s.error(t)},a.onclose=function(t){e._resetState();var r=e._config.closeObserver;r&&r.next(t),t.wasClean?s.complete():s.error(t)},a.onmessage=function(t){try{var r=e._config.deserializer;s.next(r(t))}catch(e){s.error(e)}}},t.prototype._subscribe=function(e){var t=this,r=this.source;return r?r.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add((function(){var e=t._socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())})),e)},t.prototype.unsubscribe=function(){var t=this._socket;t&&1===t.readyState&&t.close(),this._resetState(),e.prototype.unsubscribe.call(this)},t}(a.ug);function B(e){return new V(e)}var U=r(75142),W=r(31898),$=r(77681),H=r(35812),G=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=$.e);var i=e.call(this)||this;return i.source=t,i.delayTime=r,i.scheduler=n,(!(0,H.k)(r)||r<0)&&(i.delayTime=0),n&&"function"==typeof n.schedule||(i.scheduler=$.e),i}return m.ZT(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=$.e),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(l.y),q=function(){return function(e,t){this.value=e,this.timestamp=t}}(),z=function(){return function(e,t){this.value=e,this.interval=t}}(),K=r(11120),Y=r(17604),X={leading:!0,trailing:!1};Y.Ds;var Q=r(23142),J=r(999),Z=r(15050),ee=r(76565),te=r(26929),re=r(78147),ne=r(41016),ie=r(81462),oe=r(28782);function se(e,t){for(var r=0,n=t.length;r<n;r++)for(var i=t[r],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var c=o[s];e.prototype[c]=i.prototype[c]}}var ae={e:{}},ce=r(71644),ue=r(43608),le=r(59026),he=r(39217);function pe(e){return e instanceof Date&&!isNaN(+e)}var de,fe=r(14156),ve=r(6727),ye=r(92009),me=r(76208),ge=r(70336),be=r(17507),_e=r(33306),Ee=r(18463),Se=r(62561),we=r(84551),Te=r(56900),Pe=r(24105),Ie=r(47407),Oe=r(3680);function Ce(){ae.e=void 0;try{return de.apply(this,arguments)}catch(e){return ae.e=e,ae}finally{de=void 0}}function Ae(e){return de=e,Ce}},81112:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var n=r(70655),i=function(e){function t(t,r,n){var i=e.call(this)||this;return i.parent=t,i.outerValue=r,i.outerIndex=n,i.index=0,i}return n.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(r(10979).L)},42632:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,W:()=>n});var n,i=r(5631),o=r(18170),s=r(64944);n||(n={});var a=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},61244:(e,t,r)=>{"use strict";r.d(t,{y:()=>c});var n=r(93642),i=r(3680),o=r(15050),s=r(62561),a=r(30150),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,o=(0,i.Y)(e,t,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||a.v.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.v.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,n._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=u(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(e){n(e),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=u(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=a.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},32174:(e,t,r)=>{"use strict";r.d(t,{c:()=>o});var n=r(30150),i=r(71644),o={closed:!0,next:function(e){},error:function(e){if(n.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},62039:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(70655),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(r(10979).L)},32993:(e,t,r)=>{"use strict";r.d(t,{t:()=>d});var n=r(70655),i=r(70211),o=r(92546),s=r(98760),a=r(10979),c=r(42632),u=function(e){function t(t,r,n){void 0===n&&(n=0);var i=e.call(this,t)||this;return i.scheduler=r,i.delay=n,i}return n.ZT(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new l(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(c.P.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(c.P.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(c.P.createComplete()),this.unsubscribe()},t}(a.L),l=function(){return function(e,t){this.notification=e,this.destination=t}}(),h=r(41016),p=r(18253),d=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return n.ZT(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new h.N;if(this.isStopped||this.hasError?t=s.w.EMPTY:(this.observers.push(e),t=new p.W(this,e)),i&&e.add(e=new u(e,i)),r)for(var a=0;a<o&&!e.closed;a++)e.next(n[a]);else for(a=0;a<o&&!e.closed;a++)e.next(n[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.c).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},t}(i.xQ),f=function(){return function(e,t){this.time=e,this.value=t}}()},38725:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}()},70211:(e,t,r)=>{"use strict";r.d(t,{Yc:()=>l,ug:()=>p,xQ:()=>h});var n=r(70655),i=r(61244),o=r(10979),s=r(98760),a=r(41016),c=r(18253),u=r(23142),l=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return n.ZT(t,e),t}(o.L),h=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.ZT(t,e),t.prototype[u.b]=function(){return new l(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.N;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new c.W(this,e))},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(i.y),p=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return n.ZT(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.w.EMPTY},t}(h)},18253:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(70655),i=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return n.ZT(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(98760).w)},10979:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var n=r(70655),i=r(14156),o=r(32174),s=r(98760),a=r(23142),c=r(30150),u=r(71644),l=function(e){function t(r,n,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.c;break;case 1:if(!r){s.destination=o.c;break}if("object"==typeof r){r instanceof t?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,r,n,i)}return s}return n.ZT(t,e),t.prototype[a.b]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.w),h=function(e){function t(t,r,n,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return(0,i.m)(r)?a=r:r&&(a=r.next,n=r.error,s=r.complete,r!==o.c&&(u=Object.create(r),(0,i.m)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=n,c._complete=s,c}return n.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=c.v.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;(0,u.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.v.useDeprecatedSynchronousErrorHandling)throw e;(0,u.z)(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!c.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return c.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):((0,u.z)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},98760:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(59026),i=r(92009),o=r(14156),s=r(28782),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this,a=r._parentOrParents,u=r._ctorUnsubscribe,l=r._unsubscribe,h=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var p=0;p<a.length;++p)a[p].remove(this);if((0,o.m)(l)){u&&(this._unsubscribe=void 0);try{l.call(this)}catch(e){t=e instanceof s.B?c(e.errors):[e]}}if((0,n.k)(h)){p=-1;for(var d=h.length;++p<d;){var f=h[p];if((0,i.K)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof s.B?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new s.B(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s.B?t.errors:t)}),[])}},30150:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},17604:(e,t,r)=>{"use strict";r.d(t,{Ds:()=>c,IY:()=>a,ft:()=>u});var n=r(70655),i=r(10979),o=r(61244),s=r(84551),a=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,r}return n.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.L),c=(i.L,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.L));function u(e,t){if(!t.closed){if(e instanceof o.y)return e.subscribe(t);var r;try{r=(0,s.s)(e)(t)}catch(e){t.error(e)}return r}}i.L},75142:(e,t,r)=>{"use strict";r.d(t,{Ms:()=>h,aj:()=>l});var n=r(70655),i=r(17507),o=r(59026),s=r(62039),a=r(47407),c=r(43375),u={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=void 0,n=void 0;return(0,i.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,c.n)(e,n).lift(new h(r))}var h=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(e){function t(t,r){var n=e.call(this,t)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return n.ZT(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add((0,a.D)(this,n,void 0,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r){var n=this.values,i=n[r],o=this.toRespond?i===u?--this.toRespond:this.toRespond:0;n[r]=t,0===o&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L)},5631:(e,t,r)=>{"use strict";r.d(t,{E:()=>i,c:()=>o});var n=r(61244),i=new n.y((function(e){return e.complete()}));function o(e){return e?function(e){return new n.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},43375:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(61244),i=r(56900),o=r(53109);function s(e,t){return t?(0,o.r)(e,t):new n.y((0,i.V)(e))}},18170:(e,t,r)=>{"use strict";r.d(t,{of:()=>s});var n=r(17507),i=r(43375),o=r(53109);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return(0,n.K)(r)?(e.pop(),(0,o.r)(e,r)):(0,i.n)(e)}},31898:(e,t,r)=>{"use strict";r.d(t,{W:()=>o,w:()=>i});var n=r(61244);function i(e,t,r){return void 0===e&&(e=0),new n.y((function(n){void 0===t&&(t=e,e=0);var i=0,s=e;if(r)return r.schedule(o,0,{index:i,count:t,start:e,subscriber:n});for(;;){if(i++>=t){n.complete();break}if(n.next(s++),n.closed)break}}))}function o(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))}},64944:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(61244);function i(e,t){return t?new n.y((function(r){return t.schedule(o,0,{error:e,subscriber:r})})):new n.y((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},11120:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});var n=r(70655),i=r(10979),o=r(98760),s=r(61244);r(70211);i.L;i.L;var a=function(e){function t(t,r,n){var i=e.call(this)||this;return i.key=t,i.groupSubject=r,i.refCountSubscription=n,i}return n.ZT(t,e),t.prototype._subscribe=function(e){var t=new o.w,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new c(r)),t.add(n.subscribe(e)),t},t}(s.y),c=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,t.count++,r}return n.ZT(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.w)},55709:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(70655),i=r(10979);function o(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return n.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.L)},53109:(e,t,r)=>{"use strict";r.d(t,{r:()=>o});var n=r(61244),i=r(98760);function o(e,t){return new n.y((function(r){var n=new i.w,o=0;return n.add(t.schedule((function(){o!==e.length?(r.next(e[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},91275:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(61244),i=r(98760),o=r(999);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.y((function(r){var n,s=new i.w;return s.add((function(){n&&"function"==typeof n.return&&n.return()})),s.add(t.schedule((function(){n=e[o.hZ](),s.add(t.schedule((function(){if(!r.closed){var e,t;try{var i=n.next();e=i.value,t=i.done}catch(e){return void r.error(e)}t?r.complete():(r.next(e),this.schedule())}})))}))),s}))}},73049:(e,t,r)=>{"use strict";r.d(t,{c:()=>o});var n=r(61244),i=r(98760);function o(e,t){return new n.y((function(r){var n=new i.w;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}))}},96114:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var n=r(70655),i=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return n.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,r){return e.call(this)||this}return n.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(98760).w))},78399:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var n=r(70655),i=r(38725),o=function(e){function t(r,n){void 0===n&&(n=i.b.now);var o=e.call(this,r,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return n.ZT(t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(i.b)},77681:(e,t,r)=>{"use strict";r.d(t,{e:()=>a,E:()=>s});var n=r(70655),i=r(78147),o=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return n.ZT(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=i.H.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(i.H.clearImmediate(r),t.scheduled=void 0)},t}(r(96114).o),s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(78399).v))(o),a=s},92546:(e,t,r)=>{"use strict";r.d(t,{c:()=>s,N:()=>o});var n=r(70655),i=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return n.ZT(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(r(96114).o),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.ZT(t,e),t}(r(78399).v))(i),s=o},999:(e,t,r)=>{"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}r.d(t,{hZ:()=>i});var i=n()},15050:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});var n=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},23142:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},76565:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var n=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},26929:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},78147:(e,t,r)=>{"use strict";r.d(t,{H:()=>a});var n=1,i=function(){return Promise.resolve()}(),o={};function s(e){return e in o&&(delete o[e],!0)}var a={setImmediate:function(e){var t=n++;return o[t]=!0,i.then((function(){return s(t)&&e()})),t},clearImmediate:function(e){s(e)}}},41016:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var n=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},81462:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var n=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},28782:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},93642:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(10979);function i(e){for(;e;){var t=e,r=t.closed,i=t.destination,o=t.isStopped;if(r||o)return!1;e=i&&i instanceof n.L?i:null}return!0}},71644:(e,t,r)=>{"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,{z:()=>n})},43608:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{y:()=>n})},59026:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});var n=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},39217:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var n=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},14156:(e,t,r)=>{"use strict";function n(e){return"function"==typeof e}r.d(t,{m:()=>n})},76208:(e,t,r)=>{"use strict";r.d(t,{c:()=>i});var n=r(15050);function i(e){return e&&"function"==typeof e[n.L]}},6727:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(999);function i(e){return e&&"function"==typeof e[n.hZ]}},35812:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(59026);function i(e){return!(0,n.k)(e)&&e-parseFloat(e)+1>=0}},92009:(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e}r.d(t,{K:()=>n})},70336:(e,t,r)=>{"use strict";function n(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}r.d(t,{t:()=>n})},17507:(e,t,r)=>{"use strict";function n(e){return e&&"function"==typeof e.schedule}r.d(t,{K:()=>n})},33306:(e,t,r)=>{"use strict";function n(){}r.d(t,{Z:()=>n})},18463:(e,t,r)=>{"use strict";function n(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}r.d(t,{f:()=>n})},62561:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,z:()=>i});var n=r(43608);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?n.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},84551:(e,t,r)=>{"use strict";r.d(t,{s:()=>p});var n=r(56900),i=r(51203),o=r(52949),s=r(24105),a=r(39217),c=r(70336),u=r(92009),l=r(999),h=r(15050),p=function(e){if(e&&"function"==typeof e[h.L])return(0,s.h)(e);if((0,a.z)(e))return(0,n.V)(e);if((0,c.t)(e))return(0,i.A)(e);if(e&&"function"==typeof e[l.hZ])return(0,o.u)(e);var t=(0,u.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},56900:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}}},52949:(e,t,r)=>{"use strict";r.d(t,{u:()=>i});var n=r(999),i=function(e){return function(t){for(var r=e[n.hZ]();;){var i=void 0;try{i=r.next()}catch(e){return t.error(e),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t}}},24105:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(15050),i=function(e){return function(t){var r=e[n.L]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}}},51203:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(71644),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,n.z),t}}},47407:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var n=r(81112),i=r(84551),o=r(61244);function s(e,t,r,s,a){if(void 0===a&&(a=new n.d(e,r,s)),!a.closed)return t instanceof o.y?t.subscribe(a):(0,i.s)(t)(a)}},3680:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(10979),i=r(23142),o=r(32174);function s(e,t,r){if(e){if(e instanceof n.L)return e;if(e[i.b])return e[i.b]()}return e||t||r?new n.L(e,t,r):new n.L(o.c)}},2399:(e,t,r)=>{"use strict";var n,i=r(14300),o=i.Buffer,s={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=i[n]);var a=s.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=o[n]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},36625:(e,t)=>{var r;t=e.exports=q,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var h=s++;o[h]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var v=s++;o[v]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var y=s++;o[y]="[0-9A-Za-z-]+";var m=s++;o[m]="(?:\\+("+o[y]+"(?:\\."+o[y]+")*))";var g=s++,b="v?"+o[l]+o[f]+"?"+o[m]+"?";o[g]="^"+b+"$";var _="[v=\\s]*"+o[h]+o[v]+"?"+o[m]+"?",E=s++;o[E]="^"+_+"$";var S=s++;o[S]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var T=s++;o[T]=o[a]+"|x|X|\\*";var P=s++;o[P]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[f]+")?"+o[m]+"?)?)?";var I=s++;o[I]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[v]+")?"+o[m]+"?)?)?";var O=s++;o[O]="^"+o[S]+"\\s*"+o[P]+"$";var C=s++;o[C]="^"+o[S]+"\\s*"+o[I]+"$";var A=s++;o[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;o[x]="(?:~>?)";var R=s++;o[R]="(\\s*)"+o[x]+"\\s+",i[R]=new RegExp(o[R],"g");var N=s++;o[N]="^"+o[x]+o[P]+"$";var k=s++;o[k]="^"+o[x]+o[I]+"$";var D=s++;o[D]="(?:\\^)";var M=s++;o[M]="(\\s*)"+o[D]+"\\s+",i[M]=new RegExp(o[M],"g");var j=s++;o[j]="^"+o[D]+o[P]+"$";var L=s++;o[L]="^"+o[D]+o[I]+"$";var F=s++;o[F]="^"+o[S]+"\\s*("+_+")$|^$";var V=s++;o[V]="^"+o[S]+"\\s*("+b+")$|^$";var B=s++;o[B]="(\\s*)"+o[S]+"\\s*("+_+"|"+o[P]+")",i[B]=new RegExp(o[B],"g");var U=s++;o[U]="^\\s*("+o[P]+")\\s+-\\s+("+o[P]+")\\s*$";var W=s++;o[W]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var $=s++;o[$]="(<|>)?=?\\s*\\*";for(var H=0;H<35;H++)r(H,o[H]),i[H]||(i[H]=new RegExp(o[H]));function G(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof q)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[E]:i[g]).test(e))return null;try{return new q(e,t)}catch(e){return null}}function q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof q))return new q(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[E]:i[g]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=G,t.valid=function(e,t){var r=G(e,t);return r?r.version:null},t.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=q,q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof q||(e=new q(e,this.options)),this.compareMain(e)||this.comparePre(e)},q.prototype.compareMain=function(e){return e instanceof q||(e=new q(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},q.prototype.comparePre=function(e){if(e instanceof q||(e=new q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return K(n,i)}while(++t)},q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new q(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var r=G(e),n=G(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},t.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Y(e,t,r){return new q(e,r).compare(new q(t,r))}function X(e,t,r){return Y(e,t,r)>0}function Q(e,t,r){return Y(e,t,r)<0}function J(e,t,r){return 0===Y(e,t,r)}function Z(e,t,r){return 0!==Y(e,t,r)}function ee(e,t,r){return Y(e,t,r)>=0}function te(e,t,r){return Y(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return K(t,e)},t.major=function(e,t){return new q(e,t).major},t.minor=function(e,t){return new q(e,t).minor},t.patch=function(e,t){return new q(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,r){return Y(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=X,t.lt=Q,t.eq=J,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,l,h,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,o,s,a,c;switch(e=new q(e,n),t=new oe(t,n),r){case">":i=X,o=te,s=Q,a=">",c=">=";break;case"<":i=Q,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),h=h||e,p=p||e,i(e.semver,h.semver,n)?h=e:s(e.semver,p.semver,n)&&(p=e)})),h.operator===a||h.operator===c)return!1;if((!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[F]:i[V],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new q(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new q(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[W]:i[U];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[B],"$1$2$3"),r("comparator trim",e,i[B]),e=(e=(e=e.replace(i[R],"$1~")).replace(i[M],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[V],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[L]:i[j];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[k]:i[N];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[C]:i[O];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[$],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new q(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new q(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new q(n=e,r)))})),n},t.minVersion=function(e,t){e=new oe(e,t);var r=new q("0.0.0");if(e.test(r))return r;if(r=new q("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!X(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof q)return e;if("string"!=typeof e)return null;var t=e.match(i[A]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},97998:(e,t,r)=>{"use strict";t.c=t.create=r(74629),t.r=t.replace=r(71746),t.t=t.list=r(6473),t.u=t.update=r(45997),t.x=t.extract=r(30769),t.Pack=r(48042),t.Unpack=r(42699),t.Parse=r(26824),t.ReadEntry=r(16277),t.WriteEntry=r(17620),t.Header=r(37134),t.Pax=r(64747),t.types=r(84402)},74629:(e,t,r)=>{"use strict";const n=r(32093),i=r(48042),o=r(10292),s=r(6473),a=r(71017);e.exports=(e,t,r)=>{if("function"==typeof t&&(r=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);const i=n(e);if(i.sync&&"function"==typeof r)throw new TypeError("callback not supported for sync tar functions");if(!i.file&&"function"==typeof r)throw new TypeError("callback only supported with file option");return i.file&&i.sync?c(i,t):i.file?u(i,t,r):i.sync?p(i,t):d(i,t)};const c=(e,t)=>{const r=new i.Sync(e),n=new o.WriteStreamSync(e.file,{mode:e.mode||438});r.pipe(n),l(r,t)},u=(e,t,r)=>{const n=new i(e),s=new o.WriteStream(e.file,{mode:e.mode||438});n.pipe(s);const a=new Promise(((e,t)=>{s.on("error",t),s.on("close",e),n.on("error",t)}));return h(n,t),r?a.then(r,r):a},l=(e,t)=>{t.forEach((t=>{"@"===t.charAt(0)?s({file:a.resolve(e.cwd,t.substr(1)),sync:!0,noResume:!0,onentry:t=>e.add(t)}):e.add(t)})),e.end()},h=(e,t)=>{for(;t.length;){const r=t.shift();if("@"===r.charAt(0))return s({file:a.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:t=>e.add(t)}).then((r=>h(e,t)));e.add(r)}e.end()},p=(e,t)=>{const r=new i.Sync(e);return l(r,t),r},d=(e,t)=>{const r=new i(e);return h(r,t),r}},30769:(e,t,r)=>{"use strict";const n=r(32093),i=r(42699),o=r(57147),s=r(10292),a=r(71017),c=r(64922);e.exports=(e,t,r)=>{"function"==typeof e?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),"function"==typeof t&&(r=t,t=null),t=t?Array.from(t):[];const i=n(e);if(i.sync&&"function"==typeof r)throw new TypeError("callback not supported for sync tar functions");if(!i.file&&"function"==typeof r)throw new TypeError("callback only supported with file option");return t.length&&u(i,t),i.file&&i.sync?l(i):i.file?h(i,r):i.sync?p(i):d(i)};const u=(e,t)=>{const r=new Map(t.map((e=>[c(e),!0]))),n=e.filter,i=(e,t)=>{const n=t||a.parse(e).root||".",o=e!==n&&(r.has(e)?r.get(e):i(a.dirname(e),n));return r.set(e,o),o};e.filter=n?(e,t)=>n(e,t)&&i(c(e)):e=>i(c(e))},l=e=>{const t=new i.Sync(e),r=e.file,n=o.statSync(r),a=e.maxReadSize||16777216;new s.ReadStreamSync(r,{readSize:a,size:n.size}).pipe(t)},h=(e,t)=>{const r=new i(e),n=e.maxReadSize||16777216,a=e.file,c=new Promise(((e,t)=>{r.on("error",t),r.on("close",e),o.stat(a,((e,i)=>{if(e)t(e);else{const e=new s.ReadStream(a,{readSize:n,size:i.size});e.on("error",t),e.pipe(r)}}))}));return t?c.then(t,t):c},p=e=>new i.Sync(e),d=e=>new i(e)},35879:(e,t,r)=>{const n="win32"===(process.env.__FAKE_PLATFORM__||process.platform),i=global.__FAKE_TESTING_FS__||r(57147),{O_CREAT:o,O_TRUNC:s,O_WRONLY:a,UV_FS_O_FILEMAP:c=0}=i.constants,u=n&&!!c,l=c|s|o|a;e.exports=u?e=>e<524288?l:"w":()=>"w"},37134:(e,t,r)=>{"use strict";const n=r(84402),i=r(71017).posix,o=r(69678),s=Symbol("slurp"),a=Symbol("type"),c=(e,t,r)=>e.slice(t,t+r).toString("utf8").replace(/\0.*/,""),u=(e,t,r)=>l(h(e,t,r)),l=e=>null===e?null:new Date(1e3*e),h=(e,t,r)=>128&e[t]?o.parse(e.slice(t,t+r)):p(e,t,r),p=(e,t,r)=>{return n=parseInt(e.slice(t,t+r).toString("utf8").replace(/\0.*$/,"").trim(),8),isNaN(n)?null:n;var n},d={12:8589934591,8:2097151},f=(e,t,r,n)=>null!==n&&(n>d[r]||n<0?(o.encode(n,e.slice(t,t+r)),!0):(v(e,t,r,n),!1)),v=(e,t,r,n)=>e.write(y(n,r),t,r,"ascii"),y=(e,t)=>m(Math.floor(e).toString(8),t),m=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",g=(e,t,r,n)=>null!==n&&f(e,t,r,n.getTime()/1e3),b=new Array(156).join("\0"),_=(e,t,r,n)=>null!==n&&(e.write(n+b,t,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);e.exports=class{constructor(e,t,r,n){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[a]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,t||0,r,n):e&&this.set(e)}decode(e,t,r,n){if(t||(t=0),!(e&&e.length>=t+512))throw new Error("need 512 bytes for header");if(this.path=c(e,t,100),this.mode=h(e,t+100,8),this.uid=h(e,t+108,8),this.gid=h(e,t+116,8),this.size=h(e,t+124,12),this.mtime=u(e,t+136,12),this.cksum=h(e,t+148,12),this[s](r),this[s](n,!0),this[a]=c(e,t+156,1),""===this[a]&&(this[a]="0"),"0"===this[a]&&"/"===this.path.substr(-1)&&(this[a]="5"),"5"===this[a]&&(this.size=0),this.linkpath=c(e,t+157,100),"ustar\x0000"===e.slice(t+257,t+265).toString())if(this.uname=c(e,t+265,32),this.gname=c(e,t+297,32),this.devmaj=h(e,t+329,8),this.devmin=h(e,t+337,8),0!==e[t+475]){const r=c(e,t+345,155);this.path=r+"/"+this.path}else{const r=c(e,t+345,130);r&&(this.path=r+"/"+this.path),this.atime=u(e,t+476,12),this.ctime=u(e,t+488,12)}let i=256;for(let r=t;r<t+148;r++)i+=e[r];for(let r=t+156;r<t+512;r++)i+=e[r];this.cksumValid=i===this.cksum,null===this.cksum&&256===i&&(this.nullBlock=!0)}[s](e,t){for(const r in e)null===e[r]||void 0===e[r]||t&&"path"===r||(this[r]=e[r])}encode(e,t){if(e||(e=this.block=Buffer.alloc(512),t=0),t||(t=0),!(e.length>=t+512))throw new Error("need 512 bytes for header");const r=this.ctime||this.atime?130:155,n=((e,t)=>{let r,n=e,o="";const s=i.parse(e).root||".";if(Buffer.byteLength(n)<100)r=[n,o,!1];else{o=i.dirname(n),n=i.basename(n);do{Buffer.byteLength(n)<=100&&Buffer.byteLength(o)<=t?r=[n,o,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(o)<=t?r=[n.substr(0,99),o,!0]:(n=i.join(i.basename(o),n),o=i.dirname(o))}while(o!==s&&!r);r||(r=[e.substr(0,99),"",!0])}return r})(this.path||"",r),o=n[0],s=n[1];this.needPax=n[2],this.needPax=_(e,t,100,o)||this.needPax,this.needPax=f(e,t+100,8,this.mode)||this.needPax,this.needPax=f(e,t+108,8,this.uid)||this.needPax,this.needPax=f(e,t+116,8,this.gid)||this.needPax,this.needPax=f(e,t+124,12,this.size)||this.needPax,this.needPax=g(e,t+136,12,this.mtime)||this.needPax,e[t+156]=this[a].charCodeAt(0),this.needPax=_(e,t+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",t+257,8),this.needPax=_(e,t+265,32,this.uname)||this.needPax,this.needPax=_(e,t+297,32,this.gname)||this.needPax,this.needPax=f(e,t+329,8,this.devmaj)||this.needPax,this.needPax=f(e,t+337,8,this.devmin)||this.needPax,this.needPax=_(e,t+345,r,s)||this.needPax,0!==e[t+475]?this.needPax=_(e,t+345,155,s)||this.needPax:(this.needPax=_(e,t+345,130,s)||this.needPax,this.needPax=g(e,t+476,12,this.atime)||this.needPax,this.needPax=g(e,t+488,12,this.ctime)||this.needPax);let c=256;for(let r=t;r<t+148;r++)c+=e[r];for(let r=t+156;r<t+512;r++)c+=e[r];return this.cksum=c,f(e,t+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(const t in e)null!==e[t]&&void 0!==e[t]&&(this[t]=e[t])}get type(){return n.name.get(this[a])||this[a]}get typeKey(){return this[a]}set type(e){n.code.has(e)?this[a]=n.code.get(e):this[a]=e}}},32093:e=>{"use strict";const t=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);e.exports=e=>e?Object.keys(e).map((r=>[t.has(r)?t.get(r):r,e[r]])).reduce(((e,t)=>(e[t[0]]=t[1],e)),Object.create(null)):{}},69678:e=>{"use strict";const t=e=>255&(255^e),r=e=>1+(255^e)&255;e.exports={encode:(e,n)=>{if(!Number.isSafeInteger(e))throw Error("cannot encode number outside of javascript safe integer range");return e<0?((e,n)=>{n[0]=255;var i=!1;e*=-1;for(var o=n.length;o>1;o--){var s=255&e;e=Math.floor(e/256),i?n[o-1]=t(s):0===s?n[o-1]=0:(i=!0,n[o-1]=r(s))}})(e,n):((e,t)=>{t[0]=128;for(var r=t.length;r>1;r--)t[r-1]=255&e,e=Math.floor(e/256)})(e,n),n},parse:e=>{const n=e[0],i=128===n?(e=>{for(var t=e.length,r=0,n=t-1;n>-1;n--){var i=e[n];0!==i&&(r+=i*Math.pow(256,t-n-1))}return r})(e.slice(1,e.length)):255===n?(e=>{for(var n=e.length,i=0,o=!1,s=n-1;s>-1;s--){var a,c=e[s];o?a=t(c):0===c?a=c:(o=!0,a=r(c)),0!==a&&(i-=a*Math.pow(256,n-s-1))}return i})(e):null;if(null===i)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(i))throw Error("parsed number outside of javascript safe integer range");return i}}},6473:(e,t,r)=>{"use strict";const n=r(32093),i=r(26824),o=r(57147),s=r(10292),a=r(71017),c=r(64922);e.exports=(e,t,r)=>{"function"==typeof e?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),"function"==typeof t&&(r=t,t=null),t=t?Array.from(t):[];const i=n(e);if(i.sync&&"function"==typeof r)throw new TypeError("callback not supported for sync tar functions");if(!i.file&&"function"==typeof r)throw new TypeError("callback only supported with file option");return t.length&&l(i,t),i.noResume||u(i),i.file&&i.sync?h(i):i.file?p(i,r):d(i)};const u=e=>{const t=e.onentry;e.onentry=t?e=>{t(e),e.resume()}:e=>e.resume()},l=(e,t)=>{const r=new Map(t.map((e=>[c(e),!0]))),n=e.filter,i=(e,t)=>{const n=t||a.parse(e).root||".",o=e!==n&&(r.has(e)?r.get(e):i(a.dirname(e),n));return r.set(e,o),o};e.filter=n?(e,t)=>n(e,t)&&i(c(e)):e=>i(c(e))},h=e=>{const t=d(e),r=e.file;let n,i=!0;try{const s=o.statSync(r),a=e.maxReadSize||16777216;if(s.size<a)t.end(o.readFileSync(r));else{let e=0;const i=Buffer.allocUnsafe(a);for(n=o.openSync(r,"r");e<s.size;){const r=o.readSync(n,i,0,a,e);e+=r,t.write(i.slice(0,r))}t.end()}i=!1}finally{if(i&&n)try{o.closeSync(n)}catch(e){}}},p=(e,t)=>{const r=new i(e),n=e.maxReadSize||16777216,a=e.file,c=new Promise(((e,t)=>{r.on("error",t),r.on("end",e),o.stat(a,((e,i)=>{if(e)t(e);else{const e=new s.ReadStream(a,{readSize:n,size:i.size});e.on("error",t),e.pipe(r)}}))}));return t?c.then(t,t):c},d=e=>new i(e)},53248:(e,t,r)=>{"use strict";const n=r(76318),i=r(57147),o=r(71017),s=r(85608),a=r(22905);class c extends Error{constructor(e,t){super("Cannot extract through symbolic link"),this.path=t,this.symlink=e}get name(){return"SylinkError"}}class u extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'"),this.path=e,this.code=t}get name(){return"CwdError"}}const l=(e,t)=>e.get(a(t)),h=(e,t,r)=>e.set(a(t),r);e.exports=(e,t,r)=>{e=a(e);const c=t.umask,d=448|t.mode,f=0!=(d&c),v=t.uid,y=t.gid,m="number"==typeof v&&"number"==typeof y&&(v!==t.processUid||y!==t.processGid),g=t.preserve,b=t.unlink,_=t.cache,E=a(t.cwd),S=(t,n)=>{t?r(t):(h(_,e,!0),n&&m?s(n,v,y,(e=>S(e))):f?i.chmod(e,d,r):r())};if(_&&!0===l(_,e))return S();if(e===E)return((e,t)=>{i.stat(e,((r,n)=>{!r&&n.isDirectory()||(r=new u(e,r&&r.code||"ENOTDIR")),t(r)}))})(e,S);if(g)return n(e,{mode:d}).then((e=>S(null,e)),S);const w=a(o.relative(E,e)).split("/");p(E,w,d,_,b,E,null,S)};const p=(e,t,r,n,s,c,u,h)=>{if(!t.length)return h(null,u);const f=t.shift(),v=a(o.resolve(e+"/"+f));if(l(n,v))return p(v,t,r,n,s,c,u,h);i.mkdir(v,r,d(v,t,r,n,s,c,u,h))},d=(e,t,r,n,o,s,u,l)=>h=>{h?i.lstat(e,((f,v)=>{if(f)f.path=f.path&&a(f.path),l(f);else if(v.isDirectory())p(e,t,r,n,o,s,u,l);else if(o)i.unlink(e,(a=>{if(a)return l(a);i.mkdir(e,r,d(e,t,r,n,o,s,u,l))}));else{if(v.isSymbolicLink())return l(new c(e,e+"/"+t.join("/")));l(h)}})):p(e,t,r,n,o,s,u=u||e,l)};e.exports.sync=(e,t)=>{e=a(e);const r=t.umask,p=448|t.mode,d=0!=(p&r),f=t.uid,v=t.gid,y="number"==typeof f&&"number"==typeof v&&(f!==t.processUid||v!==t.processGid),m=t.preserve,g=t.unlink,b=t.cache,_=a(t.cwd),E=t=>{h(b,e,!0),t&&y&&s.sync(t,f,v),d&&i.chmodSync(e,p)};if(b&&!0===l(b,e))return E();if(e===_)return(e=>{let t=!1,r="ENOTDIR";try{t=i.statSync(e).isDirectory()}catch(e){r=e.code}finally{if(!t)throw new u(e,r)}})(_),E();if(m)return E(n.sync(e,p));const S=a(o.relative(_,e)).split("/");let w=null;for(let e=S.shift(),t=_;e&&(t+="/"+e);e=S.shift())if(t=a(o.resolve(t)),!l(b,t))try{i.mkdirSync(t,p),w=w||t,h(b,t,!0)}catch(e){const r=i.lstatSync(t);if(r.isDirectory()){h(b,t,!0);continue}if(g){i.unlinkSync(t),i.mkdirSync(t,p),w=w||t,h(b,t,!0);continue}if(r.isSymbolicLink())return new c(t,t+"/"+S.join("/"))}return E(w)}},27716:e=>{"use strict";e.exports=(e,t,r)=>(e&=4095,r&&(e=-19&(384|e)),t&&(256&e&&(e|=64),32&e&&(e|=8),4&e&&(e|=1)),e)},31946:e=>{const t=Object.create(null),{hasOwnProperty:r}=Object.prototype;e.exports=e=>(r.call(t,e)||(t[e]=e.normalize("NFKD")),t[e])},22905:e=>{const t=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;e.exports="win32"!==t?e=>e:e=>e&&e.replace(/\\/g,"/")},48042:(e,t,r)=>{"use strict";class n{constructor(e,t){this.path=e||"./",this.absolute=t,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}}const i=r(35736),o=r(31650),s=r(16277),a=r(17620),c=a.Sync,u=a.Tar,l=r(34411),h=Buffer.alloc(1024),p=Symbol("onStat"),d=Symbol("ended"),f=Symbol("queue"),v=Symbol("current"),y=Symbol("process"),m=Symbol("processing"),g=Symbol("processJob"),b=Symbol("jobs"),_=Symbol("jobDone"),E=Symbol("addFSEntry"),S=Symbol("addTarEntry"),w=Symbol("stat"),T=Symbol("readdir"),P=Symbol("onreaddir"),I=Symbol("pipe"),O=Symbol("entry"),C=Symbol("entryOpt"),A=Symbol("writeEntryClass"),x=Symbol("write"),R=Symbol("ondrain"),N=r(57147),k=r(71017),D=r(7902),M=r(22905),j=D(class extends i{constructor(e){super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=M(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[A]=a,"function"==typeof e.onwarn&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?("object"!=typeof e.gzip&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new o.Gzip(e.gzip),this.zip.on("data",(e=>super.write(e))),this.zip.on("end",(e=>super.end())),this.zip.on("drain",(e=>this[R]())),this.on("resume",(e=>this.zip.resume()))):this.on("drain",this[R]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter="function"==typeof e.filter?e.filter:e=>!0,this[f]=new l,this[b]=0,this.jobs=+e.jobs||4,this[m]=!1,this[d]=!1}[x](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[d]=!0,this[y](),this}write(e){if(this[d])throw new Error("write after end");return e instanceof s?this[S](e):this[E](e),this.flowing}[S](e){const t=M(k.resolve(this.cwd,e.path));if(this.filter(e.path,e)){const r=new n(e.path,t,!1);r.entry=new u(e,this[C](r)),r.entry.on("end",(e=>this[_](r))),this[b]+=1,this[f].push(r)}else e.resume();this[y]()}[E](e){const t=M(k.resolve(this.cwd,e));this[f].push(new n(e,t)),this[y]()}[w](e){e.pending=!0,this[b]+=1;const t=this.follow?"stat":"lstat";N[t](e.absolute,((t,r)=>{e.pending=!1,this[b]-=1,t?this.emit("error",t):this[p](e,r)}))}[p](e,t){this.statCache.set(e.absolute,t),e.stat=t,this.filter(e.path,t)||(e.ignore=!0),this[y]()}[T](e){e.pending=!0,this[b]+=1,N.readdir(e.absolute,((t,r)=>{if(e.pending=!1,this[b]-=1,t)return this.emit("error",t);this[P](e,r)}))}[P](e,t){this.readdirCache.set(e.absolute,t),e.readdir=t,this[y]()}[y](){if(!this[m]){this[m]=!0;for(let e=this[f].head;null!==e&&this[b]<this.jobs;e=e.next)if(this[g](e.value),e.value.ignore){const t=e.next;this[f].removeNode(e),e.next=t}this[m]=!1,this[d]&&!this[f].length&&0===this[b]&&(this.zip?this.zip.end(h):(super.write(h),super.end()))}}get[v](){return this[f]&&this[f].head&&this[f].head.value}[_](e){this[f].shift(),this[b]-=1,this[y]()}[g](e){e.pending||(e.entry?e!==this[v]||e.piped||this[I](e):(e.stat||(this.statCache.has(e.absolute)?this[p](e,this.statCache.get(e.absolute)):this[w](e)),e.stat&&(e.ignore||(this.noDirRecurse||!e.stat.isDirectory()||e.readdir||(this.readdirCache.has(e.absolute)?this[P](e,this.readdirCache.get(e.absolute)):this[T](e),e.readdir))&&(e.entry=this[O](e),e.entry?e!==this[v]||e.piped||this[I](e):e.ignore=!0))))}[C](e){return{onwarn:(e,t,r)=>this.warn(e,t,r),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[O](e){this[b]+=1;try{return new this[A](e.path,this[C](e)).on("end",(()=>this[_](e))).on("error",(e=>this.emit("error",e)))}catch(e){this.emit("error",e)}}[R](){this[v]&&this[v].entry&&this[v].entry.resume()}[I](e){e.piped=!0,e.readdir&&e.readdir.forEach((t=>{const r=e.path,n="./"===r?"":r.replace(/\/*$/,"/");this[E](n+t)}));const t=e.entry,r=this.zip;r?t.on("data",(e=>{r.write(e)||t.pause()})):t.on("data",(e=>{super.write(e)||t.pause()}))}pause(){return this.zip&&this.zip.pause(),super.pause()}});j.Sync=class extends j{constructor(e){super(e),this[A]=c}pause(){}resume(){}[w](e){const t=this.follow?"statSync":"lstatSync";this[p](e,N[t](e.absolute))}[T](e,t){this[P](e,N.readdirSync(e.absolute))}[I](e){const t=e.entry,r=this.zip;e.readdir&&e.readdir.forEach((t=>{const r=e.path,n="./"===r?"":r.replace(/\/*$/,"/");this[E](n+t)})),r?t.on("data",(e=>{r.write(e)})):t.on("data",(e=>{super[x](e)}))}},e.exports=j},26824:(e,t,r)=>{"use strict";const n=r(7902),i=r(37134),o=r(82361),s=r(34411),a=r(16277),c=r(64747),u=r(31650),l=Buffer.from([31,139]),h=Symbol("state"),p=Symbol("writeEntry"),d=Symbol("readEntry"),f=Symbol("nextEntry"),v=Symbol("processEntry"),y=Symbol("extendedHeader"),m=Symbol("globalExtendedHeader"),g=Symbol("meta"),b=Symbol("emitMeta"),_=Symbol("buffer"),E=Symbol("queue"),S=Symbol("ended"),w=Symbol("emittedEnd"),T=Symbol("emit"),P=Symbol("unzip"),I=Symbol("consumeChunk"),O=Symbol("consumeChunkSub"),C=Symbol("consumeBody"),A=Symbol("consumeMeta"),x=Symbol("consumeHeader"),R=Symbol("consuming"),N=Symbol("bufferConcat"),k=Symbol("maybeEnd"),D=Symbol("writing"),M=Symbol("aborted"),j=Symbol("onDone"),L=Symbol("sawValidEntry"),F=Symbol("sawNullBlock"),V=Symbol("sawEOF"),B=e=>!0;e.exports=n(class extends o{constructor(e){super(e=e||{}),this.file=e.file||"",this[L]=null,this.on(j,(e=>{"begin"!==this[h]&&!1!==this[L]||this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")})),e.ondone?this.on(j,e.ondone):this.on(j,(e=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")})),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||1048576,this.filter="function"==typeof e.filter?e.filter:B,this.writable=!0,this.readable=!1,this[E]=new s,this[_]=null,this[d]=null,this[p]=null,this[h]="begin",this[g]="",this[y]=null,this[m]=null,this[S]=!1,this[P]=null,this[M]=!1,this[F]=!1,this[V]=!1,"function"==typeof e.onwarn&&this.on("warn",e.onwarn),"function"==typeof e.onentry&&this.on("entry",e.onentry)}[x](e,t){let r;null===this[L]&&(this[L]=!1);try{r=new i(e,t,this[y],this[m])}catch(e){return this.warn("TAR_ENTRY_INVALID",e)}if(r.nullBlock)this[F]?(this[V]=!0,"begin"===this[h]&&(this[h]="header"),this[T]("eof")):(this[F]=!0,this[T]("nullBlock"));else if(this[F]=!1,r.cksumValid)if(r.path){const e=r.type;if(/^(Symbolic)?Link$/.test(e)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(e)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{const e=this[p]=new a(r,this[y],this[m]);if(!this[L])if(e.remain){const t=()=>{e.invalid||(this[L]=!0)};e.on("end",t)}else this[L]=!0;e.meta?e.size>this.maxMetaEntrySize?(e.ignore=!0,this[T]("ignoredEntry",e),this[h]="ignore",e.resume()):e.size>0&&(this[g]="",e.on("data",(e=>this[g]+=e)),this[h]="meta"):(this[y]=null,e.ignore=e.ignore||!this.filter(e.path,e),e.ignore?(this[T]("ignoredEntry",e),this[h]=e.remain?"ignore":"header",e.resume()):(e.remain?this[h]="body":(this[h]="header",e.end()),this[d]?this[E].push(e):(this[E].push(e),this[f]())))}}else this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r})}[v](e){let t=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[d]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",(e=>this[f]())),t=!1)):(this[d]=null,t=!1),t}[f](){do{}while(this[v](this[E].shift()));if(!this[E].length){const e=this[d];!e||e.flowing||e.size===e.remain?this[D]||this.emit("drain"):e.once("drain",(e=>this.emit("drain")))}}[C](e,t){const r=this[p],n=r.blockRemain,i=n>=e.length&&0===t?e:e.slice(t,t+n);return r.write(i),r.blockRemain||(this[h]="header",this[p]=null,r.end()),i.length}[A](e,t){const r=this[p],n=this[C](e,t);return this[p]||this[b](r),n}[T](e,t,r){this[E].length||this[d]?this[E].push([e,t,r]):this.emit(e,t,r)}[b](e){switch(this[T]("meta",this[g]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[y]=c.parse(this[g],this[y],!1);break;case"GlobalExtendedHeader":this[m]=c.parse(this[g],this[m],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[y]=this[y]||Object.create(null),this[y].path=this[g].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[y]=this[y]||Object.create(null),this[y].linkpath=this[g].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[M]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[M])return;if(null===this[P]&&e){if(this[_]&&(e=Buffer.concat([this[_],e]),this[_]=null),e.length<l.length)return this[_]=e,!0;for(let t=0;null===this[P]&&t<l.length;t++)e[t]!==l[t]&&(this[P]=!1);if(null===this[P]){const t=this[S];this[S]=!1,this[P]=new u.Unzip,this[P].on("data",(e=>this[I](e))),this[P].on("error",(e=>this.abort(e))),this[P].on("end",(e=>{this[S]=!0,this[I]()})),this[D]=!0;const r=this[P][t?"end":"write"](e);return this[D]=!1,r}}this[D]=!0,this[P]?this[P].write(e):this[I](e),this[D]=!1;const t=!this[E].length&&(!this[d]||this[d].flowing);return t||this[E].length||this[d].once("drain",(e=>this.emit("drain"))),t}[N](e){e&&!this[M]&&(this[_]=this[_]?Buffer.concat([this[_],e]):e)}[k](){if(this[S]&&!this[w]&&!this[M]&&!this[R]){this[w]=!0;const e=this[p];if(e&&e.blockRemain){const t=this[_]?this[_].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e}),this[_]&&e.write(this[_]),e.end()}this[T](j)}}[I](e){if(this[R])this[N](e);else if(e||this[_]){if(this[R]=!0,this[_]){this[N](e);const t=this[_];this[_]=null,this[O](t)}else this[O](e);for(;this[_]&&this[_].length>=512&&!this[M]&&!this[V];){const e=this[_];this[_]=null,this[O](e)}this[R]=!1}else this[k]();this[_]&&!this[S]||this[k]()}[O](e){let t=0;const r=e.length;for(;t+512<=r&&!this[M]&&!this[V];)switch(this[h]){case"begin":case"header":this[x](e,t),t+=512;break;case"ignore":case"body":t+=this[C](e,t);break;case"meta":t+=this[A](e,t);break;default:throw new Error("invalid state: "+this[h])}t<r&&(this[_]?this[_]=Buffer.concat([e.slice(t),this[_]]):this[_]=e.slice(t))}end(e){this[M]||(this[P]?this[P].end(e):(this[S]=!0,this.write(e)))}})},10:(e,t,r)=>{const n=r(39491),i=r(31946),o=r(64922),{join:s}=r(71017),a="win32"===(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform);e.exports=()=>{const e=new Map,t=new Map,r=new Set,c=r=>{const{paths:n,dirs:i}=(r=>{const n=t.get(r);if(!n)throw new Error("function does not have any path reservations");return{paths:n.paths.map((t=>e.get(t))),dirs:[...n.dirs].map((t=>e.get(t)))}})(r);return n.every((e=>e[0]===r))&&i.every((e=>e[0]instanceof Set&&e[0].has(r)))},u=e=>!(r.has(e)||!c(e)||(r.add(e),e((()=>l(e))),0)),l=i=>{if(!r.has(i))return!1;const{paths:o,dirs:s}=t.get(i),a=new Set;return o.forEach((t=>{const r=e.get(t);n.equal(r[0],i),1===r.length?e.delete(t):(r.shift(),"function"==typeof r[0]?a.add(r[0]):r[0].forEach((e=>a.add(e))))})),s.forEach((t=>{const r=e.get(t);n(r[0]instanceof Set),1===r[0].size&&1===r.length?e.delete(t):1===r[0].size?(r.shift(),a.add(r[0])):r[0].delete(i)})),r.delete(i),a.forEach((e=>u(e))),!0};return{check:c,reserve:(r,n)=>{r=a?["win32 parallelization disabled"]:r.map((e=>i(o(s(e))).toLowerCase()));const c=new Set(r.map((e=>(e=>{const t=e.split("/").slice(0,-1).reduce(((e,t)=>(e.length&&(t=s(e[e.length-1],t)),e.push(t||"/"),e)),[]);return t})(e))).reduce(((e,t)=>e.concat(t))));return t.set(n,{dirs:c,paths:r}),r.forEach((t=>{const r=e.get(t);r?r.push(n):e.set(t,[n])})),c.forEach((t=>{const r=e.get(t);r?r[r.length-1]instanceof Set?r[r.length-1].add(n):r.push(new Set([n])):e.set(t,[new Set([n])])})),u(n)}}}},64747:(e,t,r)=>{"use strict";const n=r(37134),i=r(71017);class o{constructor(e,t){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=t||!1}encode(){const e=this.encodeBody();if(""===e)return null;const t=Buffer.byteLength(e),r=512*Math.ceil(1+t/512),o=Buffer.allocUnsafe(r);for(let e=0;e<512;e++)o[e]=0;new n({path:("PaxHeader/"+i.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(o),o.write(e,512,t,"utf8");for(let e=t+512;e<o.length;e++)o[e]=0;return o}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(null===this[e]||void 0===this[e])return"";const t=" "+("dev"===e||"ino"===e||"nlink"===e?"SCHILY.":"")+e+"="+(this[e]instanceof Date?this[e].getTime()/1e3:this[e])+"\n",r=Buffer.byteLength(t);let n=Math.floor(Math.log(r)/Math.log(10))+1;return r+n>=Math.pow(10,n)&&(n+=1),n+r+t}}o.parse=(e,t,r)=>new o(s(a(e),t),r);const s=(e,t)=>t?Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),t):e,a=e=>e.replace(/\n$/,"").split("\n").reduce(c,Object.create(null)),c=(e,t)=>{const r=parseInt(t,10);if(r!==Buffer.byteLength(t)+1)return e;const n=(t=t.substr((r+" ").length)).split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return e;const o=n.join("=");return e[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(1e3*o):/^[0-9]+$/.test(o)?+o:o,e};e.exports=o},16277:(e,t,r)=>{"use strict";const n=r(35736),i=r(22905),o=Symbol("slurp");e.exports=class extends n{constructor(e,t,r){switch(super(),this.pause(),this.extended=t,this.globalExtended=r,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=i(e.path),this.mode=e.mode,this.mode&&(this.mode=4095&this.mode),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=i(e.linkpath),this.uname=e.uname,this.gname=e.gname,t&&this[o](t),r&&this[o](r,!0)}write(e){const t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");const r=this.remain,n=this.blockRemain;return this.remain=Math.max(0,r-t),this.blockRemain=Math.max(0,n-t),!!this.ignore||(r>=t?super.write(e):super.write(e.slice(0,r)))}[o](e,t){for(const r in e)null===e[r]||void 0===e[r]||t&&"path"===r||(this[r]="path"===r||"linkpath"===r?i(e[r]):e[r])}}},71746:(e,t,r)=>{"use strict";const n=r(32093),i=r(48042),o=r(57147),s=r(10292),a=r(6473),c=r(71017),u=r(37134);e.exports=(e,t,r)=>{const i=n(e);if(!i.file)throw new TypeError("file is required");if(i.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),i.sync?l(i,t):p(i,t,r)};const l=(e,t)=>{const r=new i.Sync(e);let n,s,a=!0;try{try{n=o.openSync(e.file,"r+")}catch(t){if("ENOENT"!==t.code)throw t;n=o.openSync(e.file,"w+")}const i=o.fstatSync(n),c=Buffer.alloc(512);e:for(s=0;s<i.size;s+=512){for(let e=0,t=0;e<512;e+=t){if(t=o.readSync(n,c,e,c.length-e,s+e),0===s&&31===c[0]&&139===c[1])throw new Error("cannot append to compressed archives");if(!t)break e}const t=new u(c);if(!t.cksumValid)break;const r=512*Math.ceil(t.size/512);if(s+r+512>i.size)break;s+=r,e.mtimeCache&&e.mtimeCache.set(t.path,t.mtime)}a=!1,h(e,r,s,n,t)}finally{if(a)try{o.closeSync(n)}catch(e){}}},h=(e,t,r,n,i)=>{const o=new s.WriteStreamSync(e.file,{fd:n,start:r});t.pipe(o),d(t,i)},p=(e,t,r)=>{t=Array.from(t);const n=new i(e),a=new Promise(((r,i)=>{n.on("error",i);let a="r+";const c=(l,h)=>l&&"ENOENT"===l.code&&"r+"===a?(a="w+",o.open(e.file,a,c)):l?i(l):void o.fstat(h,((a,c)=>{if(a)return o.close(h,(()=>i(a)));((t,r,n)=>{const i=(e,r)=>{e?o.close(t,(t=>n(e))):n(null,r)};let s=0;if(0===r)return i(null,0);let a=0;const c=Buffer.alloc(512),l=(n,h)=>{if(n)return i(n);if(a+=h,a<512&&h)return o.read(t,c,a,c.length-a,s+a,l);if(0===s&&31===c[0]&&139===c[1])return i(new Error("cannot append to compressed archives"));if(a<512)return i(null,s);const p=new u(c);if(!p.cksumValid)return i(null,s);const d=512*Math.ceil(p.size/512);return s+d+512>r?i(null,s):(s+=d+512,s>=r?i(null,s):(e.mtimeCache&&e.mtimeCache.set(p.path,p.mtime),a=0,void o.read(t,c,0,512,s,l)))};o.read(t,c,0,512,s,l)})(h,c.size,((o,a)=>{if(o)return i(o);const c=new s.WriteStream(e.file,{fd:h,start:a});n.pipe(c),c.on("error",i),c.on("close",r),f(n,t)}))}));o.open(e.file,a,c)}));return r?a.then(r,r):a},d=(e,t)=>{t.forEach((t=>{"@"===t.charAt(0)?a({file:c.resolve(e.cwd,t.substr(1)),sync:!0,noResume:!0,onentry:t=>e.add(t)}):e.add(t)})),e.end()},f=(e,t)=>{for(;t.length;){const r=t.shift();if("@"===r.charAt(0))return a({file:c.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:t=>e.add(t)}).then((r=>f(e,t)));e.add(r)}e.end()}},2214:(e,t,r)=>{const{isAbsolute:n,parse:i}=r(71017).win32;e.exports=e=>{let t="",r=i(e);for(;n(e)||r.root;){const n="/"===e.charAt(0)&&"//?/"!==e.slice(0,4)?"/":r.root;e=e.substr(n.length),t+=n,r=i(e)}return[t,e]}},64922:e=>{e.exports=e=>{let t=e.length-1,r=-1;for(;t>-1&&"/"===e.charAt(t);)r=t,t--;return-1===r?e:e.slice(0,r)}},84402:(e,t)=>{"use strict";t.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),t.code=new Map(Array.from(t.name).map((e=>[e[1],e[0]])))},42699:(e,t,r)=>{"use strict";const n=r(39491),i=r(26824),o=r(57147),s=r(10292),a=r(71017),c=r(53248),u=r(30619),l=r(10),h=r(2214),p=r(22905),d=r(64922),f=r(31946),v=Symbol("onEntry"),y=Symbol("checkFs"),m=Symbol("checkFs2"),g=Symbol("pruneCache"),b=Symbol("isReusable"),_=Symbol("makeFs"),E=Symbol("file"),S=Symbol("directory"),w=Symbol("link"),T=Symbol("symlink"),P=Symbol("hardlink"),I=Symbol("unsupported"),O=Symbol("checkPath"),C=Symbol("mkdir"),A=Symbol("onError"),x=Symbol("pending"),R=Symbol("pend"),N=Symbol("unpend"),k=Symbol("ended"),D=Symbol("maybeClose"),M=Symbol("skip"),j=Symbol("doChown"),L=Symbol("uid"),F=Symbol("gid"),V=Symbol("checkedCwd"),B=r(6113),U=r(35879),W="win32"===(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform),$=(e,t,r)=>e===e>>>0?e:t===t>>>0?t:r,H=e=>f(d(p(e))).toLowerCase();class G extends i{constructor(e){if(e||(e={}),e.ondone=e=>{this[k]=!0,this[D]()},super(e),this[V]=!1,this.reservations=l(),this.transform="function"==typeof e.transform?e.transform:null,this.writable=!0,this.readable=!1,this[x]=0,this[k]=!1,this.dirCache=e.dirCache||new Map,"number"==typeof e.uid||"number"==typeof e.gid){if("number"!=typeof e.uid||"number"!=typeof e.gid)throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;void 0===e.preserveOwner&&"number"!=typeof e.uid?this.preserveOwner=process.getuid&&0===process.getuid():this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=!0===e.forceChown,this.win32=!!e.win32||W,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=p(a.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask="number"==typeof e.umask?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",(e=>this[v](e)))}warn(e,t,r={}){return"TAR_BAD_ARCHIVE"!==e&&"TAR_ABORT"!==e||(r.recoverable=!1),super.warn(e,t,r)}[D](){this[k]&&0===this[x]&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[O](e){if(this.strip){const t=p(e.path).split("/");if(t.length<this.strip)return!1;if(e.path=t.slice(this.strip).join("/"),"Link"===e.type){const t=p(e.linkpath).split("/");if(!(t.length>=this.strip))return!1;e.linkpath=t.slice(this.strip).join("/")}}if(!this.preservePaths){const t=p(e.path),r=t.split("/");if(r.includes("..")||W&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:t}),!1;const[n,i]=h(t);n&&(e.path=i,this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:e,path:t}))}if(a.isAbsolute(e.path)?e.absolute=p(a.resolve(e.path)):e.absolute=p(a.resolve(this.cwd,e.path)),!this.preservePaths&&0!==e.absolute.indexOf(this.cwd+"/")&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:p(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&"Directory"!==e.type&&"GNUDumpDir"!==e.type)return!1;if(this.win32){const{root:t}=a.win32.parse(e.absolute);e.absolute=t+u.encode(e.absolute.substr(t.length));const{root:r}=a.win32.parse(e.path);e.path=r+u.encode(e.path.substr(r.length))}return!0}[v](e){if(!this[O](e))return e.resume();switch(n.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=448|e.mode);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[y](e);default:return this[I](e)}}[A](e,t){"CwdError"===e.name?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:t}),this[N](),t.resume())}[C](e,t,r){c(p(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},r)}[j](e){return this.forceChown||this.preserveOwner&&("number"==typeof e.uid&&e.uid!==this.processUid||"number"==typeof e.gid&&e.gid!==this.processGid)||"number"==typeof this.uid&&this.uid!==this.processUid||"number"==typeof this.gid&&this.gid!==this.processGid}[L](e){return $(this.uid,e.uid,this.processUid)}[F](e){return $(this.gid,e.gid,this.processGid)}[E](e,t){const r=4095&e.mode||this.fmode,n=new s.WriteStream(e.absolute,{flags:U(e.size),mode:r,autoClose:!1});n.on("error",(r=>{n.fd&&o.close(n.fd,(()=>{})),n.write=()=>!0,this[A](r,e),t()}));let i=1;const a=r=>{if(r)return n.fd&&o.close(n.fd,(()=>{})),this[A](r,e),void t();0==--i&&o.close(n.fd,(r=>{r?this[A](r,e):this[N](),t()}))};n.on("finish",(t=>{const r=e.absolute,s=n.fd;if(e.mtime&&!this.noMtime){i++;const t=e.atime||new Date,n=e.mtime;o.futimes(s,t,n,(e=>e?o.utimes(r,t,n,(t=>a(t&&e))):a()))}if(this[j](e)){i++;const t=this[L](e),n=this[F](e);o.fchown(s,t,n,(e=>e?o.chown(r,t,n,(t=>a(t&&e))):a()))}a()}));const c=this.transform&&this.transform(e)||e;c!==e&&(c.on("error",(r=>{this[A](r,e),t()})),e.pipe(c)),c.pipe(n)}[S](e,t){const r=4095&e.mode||this.dmode;this[C](e.absolute,r,(r=>{if(r)return this[A](r,e),void t();let n=1;const i=r=>{0==--n&&(t(),this[N](),e.resume())};e.mtime&&!this.noMtime&&(n++,o.utimes(e.absolute,e.atime||new Date,e.mtime,i)),this[j](e)&&(n++,o.chown(e.absolute,this[L](e),this[F](e),i)),i()}))}[I](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[T](e,t){this[w](e,e.linkpath,"symlink",t)}[P](e,t){const r=p(a.resolve(this.cwd,e.linkpath));this[w](e,r,"link",t)}[R](){this[x]++}[N](){this[x]--,this[D]()}[M](e){this[N](),e.resume()}[b](e,t){return"File"===e.type&&!this.unlink&&t.isFile()&&t.nlink<=1&&!W}[y](e){this[R]();const t=[e.path];e.linkpath&&t.push(e.linkpath),this.reservations.reserve(t,(t=>this[m](e,t)))}[g](e){"SymbolicLink"===e.type?(e=>{for(const t of e.keys())e.delete(t)})(this.dirCache):"Directory"!==e.type&&((e,t)=>{t=H(t);for(const r of e.keys()){const n=H(r);n!==t&&0!==n.indexOf(t+"/")||e.delete(r)}})(this.dirCache,e.absolute)}[m](e,t){this[g](e);const r=r=>{this[g](e),t(r)},n=()=>{if(e.absolute!==this.cwd){const t=p(a.dirname(e.absolute));if(t!==this.cwd)return this[C](t,this.dmode,(t=>{if(t)return this[A](t,e),void r();i()}))}i()},i=()=>{o.lstat(e.absolute,((t,n)=>{if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[M](e),void r();if(t||this[b](e,n))return this[_](null,e,r);if(n.isDirectory()){if("Directory"===e.type){const t=t=>this[_](t,e,r);return!this.noChmod&&e.mode&&(4095&n.mode)!==e.mode?o.chmod(e.absolute,e.mode,t):t()}if(e.absolute!==this.cwd)return o.rmdir(e.absolute,(t=>this[_](t,e,r)))}if(e.absolute===this.cwd)return this[_](null,e,r);((e,t)=>{if(!W)return o.unlink(e,t);const r=e+".DELETE."+B.randomBytes(16).toString("hex");o.rename(e,r,(e=>{if(e)return t(e);o.unlink(r,t)}))})(e.absolute,(t=>this[_](t,e,r)))}))};this[V]?n():(()=>{this[C](this.cwd,this.dmode,(t=>{if(t)return this[A](t,e),void r();this[V]=!0,n()}))})()}[_](e,t,r){if(e)return this[A](e,t),void r();switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[E](t,r);case"Link":return this[P](t,r);case"SymbolicLink":return this[T](t,r);case"Directory":case"GNUDumpDir":return this[S](t,r)}}[w](e,t,r,n){o[r](t,e.absolute,(t=>{t?this[A](t,e):(this[N](),e.resume()),n()}))}}const q=e=>{try{return[null,e()]}catch(e){return[e,null]}};G.Sync=class extends G{[_](e,t){return super[_](e,t,(()=>{}))}[y](e){if(this[g](e),!this[V]){const t=this[C](this.cwd,this.dmode);if(t)return this[A](t,e);this[V]=!0}if(e.absolute!==this.cwd){const t=p(a.dirname(e.absolute));if(t!==this.cwd){const r=this[C](t,this.dmode);if(r)return this[A](r,e)}}const[t,r]=q((()=>o.lstatSync(e.absolute)));if(r&&(this.keep||this.newer&&r.mtime>e.mtime))return this[M](e);if(t||this[b](e,r))return this[_](null,e);if(r.isDirectory()){if("Directory"===e.type){const t=!this.noChmod&&e.mode&&(4095&r.mode)!==e.mode,[n]=t?q((()=>{o.chmodSync(e.absolute,e.mode)})):[];return this[_](n,e)}const[t]=q((()=>o.rmdirSync(e.absolute)));this[_](t,e)}const[n]=e.absolute===this.cwd?[]:q((()=>(e=>{if(!W)return o.unlinkSync(e);const t=e+".DELETE."+B.randomBytes(16).toString("hex");o.renameSync(e,t),o.unlinkSync(t)})(e.absolute)));this[_](n,e)}[E](e,t){const r=4095&e.mode||this.fmode,n=r=>{let n;try{o.closeSync(i)}catch(e){n=e}(r||n)&&this[A](r||n,e),t()};let i;try{i=o.openSync(e.absolute,U(e.size),r)}catch(e){return n(e)}const s=this.transform&&this.transform(e)||e;s!==e&&(s.on("error",(t=>this[A](t,e))),e.pipe(s)),s.on("data",(e=>{try{o.writeSync(i,e,0,e.length)}catch(e){n(e)}})),s.on("end",(t=>{let r=null;if(e.mtime&&!this.noMtime){const t=e.atime||new Date,n=e.mtime;try{o.futimesSync(i,t,n)}catch(i){try{o.utimesSync(e.absolute,t,n)}catch(e){r=i}}}if(this[j](e)){const t=this[L](e),n=this[F](e);try{o.fchownSync(i,t,n)}catch(i){try{o.chownSync(e.absolute,t,n)}catch(e){r=r||i}}}n(r)}))}[S](e,t){const r=4095&e.mode||this.dmode,n=this[C](e.absolute,r);if(n)return this[A](n,e),void t();if(e.mtime&&!this.noMtime)try{o.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch(n){}if(this[j](e))try{o.chownSync(e.absolute,this[L](e),this[F](e))}catch(n){}t(),e.resume()}[C](e,t){try{return c.sync(p(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(e){return e}}[w](e,t,r,n){try{o[r+"Sync"](t,e.absolute),n(),e.resume()}catch(t){return this[A](t,e)}}},e.exports=G},45997:(e,t,r)=>{"use strict";const n=r(32093),i=r(71746);e.exports=(e,t,r)=>{const s=n(e);if(!s.file)throw new TypeError("file is required");if(s.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),o(s),i(s,t,r)};const o=e=>{const t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(r,n)=>t(r,n)&&!(e.mtimeCache.get(r)>n.mtime):(t,r)=>!(e.mtimeCache.get(t)>r.mtime)}},7902:e=>{"use strict";e.exports=e=>class extends e{warn(e,t,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=t instanceof Error&&t.code||e,r.tarCode=e,this.strict||!1===r.recoverable?t instanceof Error?this.emit("error",Object.assign(t,r)):this.emit("error",Object.assign(new Error(`${e}: ${t}`),r)):(t instanceof Error&&(r=Object.assign(t,r),t=t.message),this.emit("warn",r.tarCode,t,r))}}},30619:e=>{"use strict";const t=["|","<",">","?",":"],r=t.map((e=>String.fromCharCode(61440+e.charCodeAt(0)))),n=new Map(t.map(((e,t)=>[e,r[t]]))),i=new Map(r.map(((e,r)=>[e,t[r]])));e.exports={encode:e=>t.reduce(((e,t)=>e.split(t).join(n.get(t))),e),decode:e=>r.reduce(((e,t)=>e.split(t).join(i.get(t))),e)}},17620:(e,t,r)=>{"use strict";const n=r(35736),i=r(64747),o=r(37134),s=r(57147),a=r(71017),c=r(22905),u=r(64922),l=(e,t)=>t?(e=c(e).replace(/^\.(\/|$)/,""),u(t)+"/"+e):c(e),h=Symbol("process"),p=Symbol("file"),d=Symbol("directory"),f=Symbol("symlink"),v=Symbol("hardlink"),y=Symbol("header"),m=Symbol("read"),g=Symbol("lstat"),b=Symbol("onlstat"),_=Symbol("onread"),E=Symbol("onreadlink"),S=Symbol("openfile"),w=Symbol("onopenfile"),T=Symbol("close"),P=Symbol("mode"),I=Symbol("awaitDrain"),O=Symbol("ondrain"),C=Symbol("prefix"),A=Symbol("hadError"),x=r(7902),R=r(30619),N=r(2214),k=r(27716),D=x(class extends n{constructor(e,t){if(super(t=t||{}),"string"!=typeof e)throw new TypeError("path is required");this.path=c(e),this.portable=!!t.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=t.maxReadSize||16777216,this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.preservePaths=!!t.preservePaths,this.cwd=c(t.cwd||process.cwd()),this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.prefix=t.prefix?c(t.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,"function"==typeof t.onwarn&&this.on("warn",t.onwarn);let r=!1;if(!this.preservePaths){const[e,t]=N(this.path);e&&(this.path=t,r=e)}this.win32=!!t.win32||"win32"===process.platform,this.win32&&(this.path=R.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=c(t.absolute||a.resolve(this.cwd,e)),""===this.path&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[b](this.statCache.get(this.absolute)):this[g]()}emit(e,...t){return"error"===e&&(this[A]=!0),super.emit(e,...t)}[g](){s.lstat(this.absolute,((e,t)=>{if(e)return this.emit("error",e);this[b](t)}))}[b](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=j(e),this.emit("stat",e),this[h]()}[h](){switch(this.type){case"File":return this[p]();case"Directory":return this[d]();case"SymbolicLink":return this[f]();default:return this.end()}}[P](e){return k(e,"Directory"===this.type,this.portable)}[C](e){return l(e,this.prefix)}[y](){"Directory"===this.type&&this.portable&&(this.noMtime=!0),this.header=new o({path:this[C](this.path),linkpath:"Link"===this.type?this[C](this.linkpath):this.linkpath,mode:this[P](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new i({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[C](this.path),linkpath:"Link"===this.type?this[C](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[d](){"/"!==this.path.substr(-1)&&(this.path+="/"),this.stat.size=0,this[y](),this.end()}[f](){s.readlink(this.absolute,((e,t)=>{if(e)return this.emit("error",e);this[E](t)}))}[E](e){this.linkpath=c(e),this[y](),this.end()}[v](e){this.type="Link",this.linkpath=c(a.relative(this.cwd,e)),this.stat.size=0,this[y](),this.end()}[p](){if(this.stat.nlink>1){const e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){const t=this.linkCache.get(e);if(0===t.indexOf(this.cwd))return this[v](t)}this.linkCache.set(e,this.absolute)}if(this[y](),0===this.stat.size)return this.end();this[S]()}[S](){s.open(this.absolute,"r",((e,t)=>{if(e)return this.emit("error",e);this[w](t)}))}[w](e){if(this.fd=e,this[A])return this[T]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;const t=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(t),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[m]()}[m](){const{fd:e,buf:t,offset:r,length:n,pos:i}=this;s.read(e,t,r,n,i,((e,t)=>{if(e)return this[T]((()=>this.emit("error",e)));this[_](t)}))}[T](e){s.close(this.fd,e)}[_](e){if(e<=0&&this.remain>0){const e=new Error("encountered unexpected EOF");return e.path=this.absolute,e.syscall="read",e.code="EOF",this[T]((()=>this.emit("error",e)))}if(e>this.remain){const e=new Error("did not encounter expected EOF");return e.path=this.absolute,e.syscall="read",e.code="EOF",this[T]((()=>this.emit("error",e)))}if(e===this.remain)for(let t=e;t<this.length&&e<this.blockRemain;t++)this.buf[t+this.offset]=0,e++,this.remain++;const t=0===this.offset&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(t)?this[O]():this[I]((()=>this[O]()))}[I](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){const e=new Error("writing more data than expected");return e.path=this.absolute,this.emit("error",e)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[O](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[T]((e=>e?this.emit("error",e):this.end()));this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[m]()}}),M=x(class extends n{constructor(e,t){super(t=t||{}),this.preservePaths=!!t.preservePaths,this.portable=!!t.portable,this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.readEntry=e,this.type=e.type,"Directory"===this.type&&this.portable&&(this.noMtime=!0),this.prefix=t.prefix||null,this.path=c(e.path),this.mode=this[P](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:t.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=c(e.linkpath),"function"==typeof t.onwarn&&this.on("warn",t.onwarn);let r=!1;if(!this.preservePaths){const[e,t]=N(this.path);e&&(this.path=t,r=e)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new o({path:this[C](this.path),linkpath:"Link"===this.type?this[C](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new i({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[C](this.path),linkpath:"Link"===this.type?this[C](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[C](e){return l(e,this.prefix)}[P](e){return k(e,"Directory"===this.type,this.portable)}write(e){const t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=t,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});D.Sync=class extends D{[g](){this[b](s.lstatSync(this.absolute))}[f](){this[E](s.readlinkSync(this.absolute))}[S](){this[w](s.openSync(this.absolute,"r"))}[m](){let e=!0;try{const{fd:t,buf:r,offset:n,length:i,pos:o}=this,a=s.readSync(t,r,n,i,o);this[_](a),e=!1}finally{if(e)try{this[T]((()=>{}))}catch(e){}}}[I](e){e()}[T](e){s.closeSync(this.fd),e()}},D.Tar=M;const j=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";e.exports=D},85608:(e,t,r)=>{"use strict";const n=r(57147),i=r(71017),o=n.lchown?"lchown":"chown",s=n.lchownSync?"lchownSync":"chownSync",a=n.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),c=(e,t,r)=>{try{return n[s](e,t,r)}catch(e){if("ENOENT"!==e.code)throw e}},u=a?(e,t,r,i)=>o=>{o&&"EISDIR"===o.code?n.chown(e,t,r,i):i(o)}:(e,t,r,n)=>n,l=a?(e,t,r)=>{try{return c(e,t,r)}catch(i){if("EISDIR"!==i.code)throw i;((e,t,r)=>{try{n.chownSync(e,t,r)}catch(e){if("ENOENT"!==e.code)throw e}})(e,t,r)}}:(e,t,r)=>c(e,t,r),h=process.version;let p=(e,t,r)=>n.readdir(e,t,r);/^v4\./.test(h)&&(p=(e,t,r)=>n.readdir(e,r));const d=(e,t,r,i)=>{n[o](e,t,r,u(e,t,r,(e=>{i(e&&"ENOENT"!==e.code?e:null)})))},f=(e,t,r,o,s)=>{if("string"==typeof t)return n.lstat(i.resolve(e,t),((n,i)=>{if(n)return s("ENOENT"!==n.code?n:null);i.name=t,f(e,i,r,o,s)}));if(t.isDirectory())v(i.resolve(e,t.name),r,o,(n=>{if(n)return s(n);const a=i.resolve(e,t.name);d(a,r,o,s)}));else{const n=i.resolve(e,t.name);d(n,r,o,s)}},v=(e,t,r,n)=>{p(e,{withFileTypes:!0},((i,o)=>{if(i){if("ENOENT"===i.code)return n();if("ENOTDIR"!==i.code&&"ENOTSUP"!==i.code)return n(i)}if(i||!o.length)return d(e,t,r,n);let s=o.length,a=null;const c=i=>{if(!a)return i?n(a=i):0==--s?d(e,t,r,n):void 0};o.forEach((n=>f(e,n,t,r,c)))}))},y=(e,t,r)=>{let o;try{o=((e,t)=>n.readdirSync(e,{withFileTypes:!0}))(e)}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code||"ENOTSUP"===n.code)return l(e,t,r);throw n}return o&&o.length&&o.forEach((o=>((e,t,r,o)=>{if("string"==typeof t)try{const r=n.lstatSync(i.resolve(e,t));r.name=t,t=r}catch(e){if("ENOENT"===e.code)return;throw e}t.isDirectory()&&y(i.resolve(e,t.name),r,o),l(i.resolve(e,t.name),r,o)})(e,o,t,r))),l(e,t,r)};e.exports=v,v.sync=y},76318:(e,t,r)=>{const n=r(2736),i=r(7543),{mkdirpNative:o,mkdirpNativeSync:s}=r(15612),{mkdirpManual:a,mkdirpManualSync:c}=r(1175),{useNative:u,useNativeSync:l}=r(52589),h=(e,t)=>(e=i(e),t=n(t),u(t)?o(e,t):a(e,t));h.sync=(e,t)=>(e=i(e),t=n(t),l(t)?s(e,t):c(e,t)),h.native=(e,t)=>o(i(e),n(t)),h.manual=(e,t)=>a(i(e),n(t)),h.nativeSync=(e,t)=>s(i(e),n(t)),h.manualSync=(e,t)=>c(i(e),n(t)),e.exports=h},31139:(e,t,r)=>{const{dirname:n}=r(71017),i=(e,t,r)=>r===t?Promise.resolve():e.statAsync(t).then((e=>e.isDirectory()?r:void 0),(r=>"ENOENT"===r.code?i(e,n(t),t):void 0)),o=(e,t,r)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(r){return"ENOENT"===r.code?o(e,n(t),t):void 0}};e.exports={findMade:i,findMadeSync:o}},1175:(e,t,r)=>{const{dirname:n}=r(71017),i=(e,t,r)=>{t.recursive=!1;const o=n(e);return o===e?t.mkdirAsync(e,t).catch((e=>{if("EISDIR"!==e.code)throw e})):t.mkdirAsync(e,t).then((()=>r||e),(n=>{if("ENOENT"===n.code)return i(o,t).then((r=>i(e,t,r)));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;return t.statAsync(e).then((e=>{if(e.isDirectory())return r;throw n}),(()=>{throw n}))}))},o=(e,t,r)=>{const i=n(e);if(t.recursive=!1,i===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),r||e}catch(n){if("ENOENT"===n.code)return o(e,t,o(i,t,r));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;try{if(!t.statSync(e).isDirectory())throw n}catch(e){throw n}}};e.exports={mkdirpManual:i,mkdirpManualSync:o}},15612:(e,t,r)=>{const{dirname:n}=r(71017),{findMade:i,findMadeSync:o}=r(31139),{mkdirpManual:s,mkdirpManualSync:a}=r(1175);e.exports={mkdirpNative:(e,t)=>(t.recursive=!0,n(e)===e?t.mkdirAsync(e,t):i(t,e).then((r=>t.mkdirAsync(e,t).then((()=>r)).catch((r=>{if("ENOENT"===r.code)return s(e,t);throw r}))))),mkdirpNativeSync:(e,t)=>{if(t.recursive=!0,n(e)===e)return t.mkdirSync(e,t);const r=o(t,e);try{return t.mkdirSync(e,t),r}catch(r){if("ENOENT"===r.code)return a(e,t);throw r}}}},2736:(e,t,r)=>{const{promisify:n}=r(73837),i=r(57147);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:i,...e};else if("number"==typeof e)e={mode:e,fs:i};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:i}}else e={mode:511,fs:i};return e.mkdir=e.mkdir||e.fs.mkdir||i.mkdir,e.mkdirAsync=n(e.mkdir),e.stat=e.stat||e.fs.stat||i.stat,e.statAsync=n(e.stat),e.statSync=e.statSync||e.fs.statSync||i.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||i.mkdirSync,e}},7543:(e,t,r)=>{const n=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:i,parse:o}=r(71017);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=i(e),"win32"===n){const t=/[*|"<>?:]/,{root:r}=o(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},52589:(e,t,r)=>{const n=r(57147),i=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),o=+i[0]>10||10==+i[0]&&+i[1]>=12,s=o?e=>e.mkdir===n.mkdir:()=>!1,a=o?e=>e.mkdirSync===n.mkdirSync:()=>!1;e.exports={useNative:s,useNativeSync:a}},26547:(e,t,r)=>{var n=r(12781);function i(e,t,r){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var i=!1,o=!1,s=[],a=!1,c=new n;function u(){for(;s.length&&!c.paused;){var e=s.shift();if(null===e)return c.emit("end");c.emit("data",e)}}function l(){c.writable=!1,t.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(r&&!1===r.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return a||(null===e&&(a=!0),s.push(e),u()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&process.nextTick((function(){c.destroy()}))})),c.end=function(e){if(!i)return i=!0,arguments.length&&c.write(e),l(),c},c.destroy=function(){if(!o)return o=!0,i=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),u(),c.paused||c.emit("drain"),c},c}e.exports=i,i.through=i},36276:(e,t,r)=>{const n=r(57147),i=r(71017),o=r(6113),s=r(55339),a=process.binding("constants"),c=s(),u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",l=/XXXXXX/,h=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),p=a.EBADF||a.os.errno.EBADF,d=a.ENOENT||a.os.errno.ENOENT,f=[];var v=!1,y=!1;function m(e){var t=[],r=null;try{r=o.randomBytes(e)}catch(t){r=o.pseudoRandomBytes(e)}for(var n=0;n<e;n++)t.push(u[r[n]%u.length]);return t.join("")}function g(e){return void 0===e}function b(e,t){return"function"==typeof e?[t||{},e]:g(e)?[{},t]:[e,t]}function _(e){if(e.name)return i.join(e.dir||c,e.name);if(e.template)return e.template.replace(l,m(6));const t=[e.prefix||"tmp-",process.pid,m(12),e.postfix||""].join("");return i.join(e.dir||c,t)}function E(e,t){var r=b(e,t),i=r[0],o=r[1],s=i.name?1:i.tries||3;return isNaN(s)||s<0?o(new Error("Invalid tries")):i.template&&!i.template.match(l)?o(new Error("Invalid template provided")):void function e(){const t=_(i);n.stat(t,(function(r){if(!r)return s-- >0?e():o(new Error("Could not get a unique tmp filename, max tries reached "+t));o(null,t)}))}()}function S(e){var t=b(e)[0],r=t.name?1:t.tries||3;if(isNaN(r)||r<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(l))throw new Error("Invalid template provided");do{const e=_(t);try{n.statSync(e)}catch(t){return e}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function w(e){const t=[e];do{for(var r=t.pop(),o=!1,s=n.readdirSync(r),a=0,c=s.length;a<c;a++){var u=i.join(r,s[a]);n.lstatSync(u).isDirectory()?(o||(o=!0,t.push(r)),t.push(u)):n.unlinkSync(u)}o||n.rmdirSync(r)}while(0!==t.length)}function T(e,t,r){const i=I((function(e){try{0<=e[0]&&n.closeSync(e[0])}catch(e){if(!A(e,-p,"EBADF")&&!C(e))throw e}try{n.unlinkSync(e[1])}catch(e){if(!C(e))throw e}}),[t,e]);return r.keep||f.unshift(i),i}function P(e,t){const r=I(t.unsafeCleanup?w:n.rmdirSync.bind(n),e);return t.keep||f.unshift(r),r}function I(e,t){var r=!1;return function n(i){if(!r){const i=f.indexOf(n);i>=0&&f.splice(i,1),r=!0,e(t)}i&&i(null)}}function O(){if(!y||v)for(;f.length;)try{f[0].call(null)}catch(e){}}function C(e){return A(e,-d,"ENOENT")}function A(e,t,r){return e.code==t||e.code==r}const x=process.versions.node.split(".").map((function(e){return parseInt(e,10)}));0===x[0]&&(x[1]<9||9===x[1]&&x[2]<5)&&process.addListener("uncaughtException",(function(e){throw y=!0,O(),e})),process.addListener("exit",(function(e){e&&(y=!0),O()})),e.exports.tmpdir=c,e.exports.dir=function(e,t){var r=b(e,t),i=r[0],o=r[1];E(i,(function(e,t){if(e)return o(e);n.mkdir(t,i.mode||448,(function(e){if(e)return o(e);o(null,t,P(t,i))}))}))},e.exports.dirSync=function(e){var t=b(e)[0];const r=S(t);return n.mkdirSync(r,t.mode||448),{name:r,removeCallback:P(r,t)}},e.exports.file=function(e,t){var r=b(e,t),i=r[0],o=r[1];i.postfix=g(i.postfix)?".tmp":i.postfix,E(i,(function(e,t){if(e)return o(e);n.open(t,h,i.mode||384,(function(e,r){return e?o(e):i.discardDescriptor?n.close(r,(function(e){if(e){try{n.unlinkSync(t)}catch(t){C(t)||(e=t)}return o(e)}o(null,t,void 0,T(t,-1,i))})):i.detachDescriptor?o(null,t,r,T(t,-1,i)):void o(null,t,r,T(t,r,i))}))}))},e.exports.fileSync=function(e){var t=b(e)[0];t.postfix=t.postfix||".tmp";const r=t.discardDescriptor||t.detachDescriptor,i=S(t);var o=n.openSync(i,h,t.mode||384);return t.discardDescriptor&&(n.closeSync(o),o=void 0),{name:i,fd:o,removeCallback:T(i,r?-1:o,t)}},e.exports.tmpName=E,e.exports.tmpNameSync=S,e.exports.setGracefulCleanup=function(){v=!0}},70655:(e,t,r)=>{"use strict";r.d(t,{ZT:()=>i,pi:()=>o});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)}},38218:(e,t,r)=>{var n=r(26547),i=r(69257),o=r(88647);e.exports=function(){var e=[],t=0,r=0,s=!1,a=null,c=null;function u(e){if(!s)try{return function(t){if(r){var n=1e5*r,o=new Int32Array(n),s=[];return null===(c=i.decompress(a,(function(e){s.push(e)}),o,n,c))?(r=0,!1):(u=Buffer.from(s),e.queue(u),null!==u&&u.length,!0)}var u;return r=i.header(a),c=0,!0}()}catch(t){return e.emit("error",t),s=!0,!1}}return n((function(n){for(e.push(n),t+=n.length,null===a&&(a=o((function(){return e.shift()})));!s&&t-a.bytesRead+1>=(25e3+1e5*r||4);)u(this)}),(function(e){for(;!s&&a&&t>a.bytesRead;)u(this);s||(null!==c&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))}))}},88647:e=>{var t=[0,1,3,7,15,31,63,127,255];e.exports=function(e){var r=0,n=0,i=e(),o=function(s){if(null===s&&0!=r)return r=0,void n++;for(var a=0;s>0;){n>=i.length&&(n=0,i=e());var c=8-r;0===r&&s>0&&o.bytesRead++,s>=c?(a<<=c,a|=t[c]&i[n++],r=0,s-=c):(a<<=s,a|=(i[n]&t[s]<<8-s-r)>>8-s-r,r+=s,s=0)}return a};return o.bytesRead=0,o}},69257:e=>{function t(e){this.name="Bzip2Error",this.message=e,this.stack=(new Error).stack}t.prototype=new Error;var r=function(e){throw new t(e)},n={};n.Bzip2Error=t,n.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],n.array=function(e){var t=0,r=0,n=[0,1,3,7,15,31,63,127,255];return function(i){for(var o=0;i>0;){var s=8-t;i>=s?(o<<=s,o|=n[s]&e[r++],t=0,i-=s):(o<<=i,o|=(e[r]&n[i]<<8-i-t)>>8-i-t,t+=i,i=0)}return o}},n.simple=function(e,t){var r=n.array(e),i=!1,o=1e5*n.header(r),s=new Int32Array(o);do{i=n.decompress(r,t,s,o)}while(!i)},n.header=function(e){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),4348520!=e(24)&&r("No magic number found");var t=e(8)-48;return(t<1||t>9)&&r("Not a BZIP archive"),t},n.decompress=function(e,t,n,i,o){for(var s=-1,a="",c=0;c<6;c++)a+=e(8).toString(16);if("177245385090"==a)return(0|e(32))!==o&&r("Error in bzip2: crc32 do not match"),e(null),null;"314159265359"!=a&&r("eek not valid bzip data");var u=0|e(32);e(1)&&r("unsupported obsolete version");var l=e(24);l>i&&r("Initial position larger than buffer size");var h=e(16),p=0;for(c=0;c<16;c++)if(h&1<<15-c){var d=e(16);for(y=0;y<16;y++)d&1<<15-y&&(this.symToByte[p++]=16*c+y)}var f=e(3);(f<2||f>6)&&r("another error");var v=e(15);for(0==v&&r("meh"),c=0;c<f;c++)this.mtfSymbol[c]=c;for(c=0;c<v;c++){for(var y=0;e(1);y++)y>=f&&r("whoops another error");var m=this.mtfSymbol[y];for(d=y-1;d>=0;d--)this.mtfSymbol[d+1]=this.mtfSymbol[d];this.mtfSymbol[0]=m,this.selectors[c]=m}var g,b,_,E,S=p+2,w=[],T=new Uint8Array(258),P=new Uint16Array(21);for(y=0;y<f;y++){for(h=e(5),c=0;c<S;c++){for(;(h<1||h>20)&&r("I gave up a while ago on writing error messages"),e(1);)e(1)?h--:h++;T[c]=h}var I,O;for(I=O=T[0],c=1;c<S;c++)T[c]>O?O=T[c]:T[c]<I&&(I=T[c]);(g=w[y]={}).permute=new Int32Array(258),g.limit=new Int32Array(21),g.base=new Int32Array(21),g.minLen=I,g.maxLen=O;var C=g.base,A=g.limit,x=0;for(c=I;c<=O;c++)for(h=0;h<S;h++)T[h]==c&&(g.permute[x++]=h);for(c=I;c<=O;c++)P[c]=A[c]=0;for(c=0;c<S;c++)P[T[c]]++;for(x=h=0,c=I;c<O;c++)x+=P[c],A[c]=x-1,x<<=1,C[c+1]=x-(h+=P[c]);A[O]=x+P[O]-1,C[I]=0}for(c=0;c<256;c++)this.mtfSymbol[c]=c,this.byteCount[c]=0;for(b=_=S=E=0;;){for(S--||(S=49,E>=v&&r("meow i'm a kitty, that's an error"),C=(g=w[this.selectors[E++]]).base,A=g.limit),y=e(c=g.minLen);c>g.maxLen&&r("rawr i'm a dinosaur"),!(y<=A[c]);)c++,y=y<<1|e(1);((y-=C[c])<0||y>=258)&&r("moo i'm a cow");var R=g.permute[y];if(0!=R&&1!=R){if(b)for(b=0,_+h>i&&r("Boom."),m=this.symToByte[this.mtfSymbol[0]],this.byteCount[m]+=h;h--;)n[_++]=m;if(R>p)break;for(_>=i&&r("I can't think of anything. Error"),c=R-1,m=this.mtfSymbol[c],d=c-1;d>=0;d--)this.mtfSymbol[d+1]=this.mtfSymbol[d];this.mtfSymbol[0]=m,m=this.symToByte[m],this.byteCount[m]++,n[_++]=m}else b||(b=1,h=0),h+=0==R?b:2*b,b<<=1}for((l<0||l>=_)&&r("I'm a monkey and I'm throwing something at someone, namely you"),y=0,c=0;c<256;c++)d=y+this.byteCount[c],this.byteCount[c]=y,y=d;for(c=0;c<_;c++)m=255&n[c],n[this.byteCount[m]]|=c<<8,this.byteCount[m]++;var N,k,D,M=0,j=0,L=0;for(_&&(j=255&(M=n[l]),M>>=8,L=-1),_=_;_;){for(_--,k=j,j=255&(M=n[M]),M>>=8,3==L++?(N=j,D=k,j=-1):(N=1,D=j);N--;)s=4294967295&(s<<8^this.crcTable[255&(s>>24^D)]),t(D);j!=k&&(L=0)}return(0|(s=(-1^s)>>>0))!=(0|u)&&r("Error in bzip2: crc32 do not match"),4294967295&(s^(o<<1|o>>>31))},e.exports=n},58967:(e,t,r)=>{"use strict";const n=r(22037).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return n?e.replace(/^~(?=$|\/|\\)/,n):e}},88361:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&h(e,r,t[r]);if(a)for(var r of a(t))l.call(t,r)&&h(e,r,t[r]);return e},d=e=>i(e,"__esModule",{value:!0}),f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),v=e=>((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))!u.call(e,n)&&"default"!==n&&i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(d(i(null!=e?n(c(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),y=f(((e,t)=>{"use strict";var r=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&&console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();t.exports=r})),m=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var n=dn(),i=r(82361),o=function(){function e(){}return e.prototype.active=function(){var e=this,r=n.CorrelationContextManager.getCurrentContext();return t(t({},r),{getValue:function(t){return e._activeSymbol?t===e._activeSymbol&&r:(e._activeSymbol=t,r)},setValue:function(){}})},e.prototype.with=function(t,r){var i=t.parentSpanId,o=t.name,s=e._spanToContext(t,i,o);return n.CorrelationContextManager.runWithContext(s,r)()},e.prototype.bind=function(e){return"function"==typeof e?n.CorrelationContextManager.wrapCallback(e):(e instanceof i.EventEmitter&&n.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return n.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return n.CorrelationContextManager.disable(),this},e._spanToContext=function(e,r,i){var o=r?"|"+e.spanContext().traceId+"."+r+".":e.spanContext().traceId,s=t(t({},e.spanContext()),{traceFlags:e.spanContext().traceFlags});return n.CorrelationContextManager.spanToContextObject(s,o,i)},e}();e.OpenTelemetryScopeManagerWrapper=o,e.AsyncScopeManager=new o})),g=f(((e,t)=>{var r;e=t.exports=q,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var h=s++;o[h]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var v=s++;o[v]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var y=s++;o[y]="[0-9A-Za-z-]+";var m=s++;o[m]="(?:\\+("+o[y]+"(?:\\."+o[y]+")*))";var g=s++,b="v?"+o[l]+o[f]+"?"+o[m]+"?";o[g]="^"+b+"$";var _="[v=\\s]*"+o[h]+o[v]+"?"+o[m]+"?",E=s++;o[E]="^"+_+"$";var S=s++;o[S]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var T=s++;o[T]=o[a]+"|x|X|\\*";var P=s++;o[P]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[f]+")?"+o[m]+"?)?)?";var I=s++;o[I]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[v]+")?"+o[m]+"?)?)?";var O=s++;o[O]="^"+o[S]+"\\s*"+o[P]+"$";var C=s++;o[C]="^"+o[S]+"\\s*"+o[I]+"$";var A=s++;o[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;o[x]="(?:~>?)";var R=s++;o[R]="(\\s*)"+o[x]+"\\s+",i[R]=new RegExp(o[R],"g");var N=s++;o[N]="^"+o[x]+o[P]+"$";var k=s++;o[k]="^"+o[x]+o[I]+"$";var D=s++;o[D]="(?:\\^)";var M=s++;o[M]="(\\s*)"+o[D]+"\\s+",i[M]=new RegExp(o[M],"g");var j=s++;o[j]="^"+o[D]+o[P]+"$";var L=s++;o[L]="^"+o[D]+o[I]+"$";var F=s++;o[F]="^"+o[S]+"\\s*("+_+")$|^$";var V=s++;o[V]="^"+o[S]+"\\s*("+b+")$|^$";var B=s++;o[B]="(\\s*)"+o[S]+"\\s*("+_+"|"+o[P]+")",i[B]=new RegExp(o[B],"g");var U=s++;o[U]="^\\s*("+o[P]+")\\s+-\\s+("+o[P]+")\\s*$";var W=s++;o[W]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var $,H=s++;for(o[H]="(<|>)?=?\\s*\\*",$=0;$<35;$++)r($,o[$]),i[$]||(i[$]=new RegExp(o[$]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof q)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?i[E]:i[g]).test(e))return null;try{return new q(e,t)}catch(e){return null}}function q(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof q))return new q(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[E]:i[g]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var r=G(e,t);return r?r.version:null},e.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=q,q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof q||(e=new q(e,this.options)),this.compareMain(e)||this.comparePre(e)},q.prototype.compareMain=function(e){return e instanceof q||(e=new q(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},q.prototype.comparePre=function(e){if(e instanceof q||(e=new q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return K(n,i)}while(++t)},q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new q(e,r).inc(t,n).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var r=G(e),n=G(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Y(e,t,r){return new q(e,r).compare(new q(t,r))}function X(e,t,r){return Y(e,t,r)>0}function Q(e,t,r){return Y(e,t,r)<0}function J(e,t,r){return 0===Y(e,t,r)}function Z(e,t,r){return 0!==Y(e,t,r)}function ee(e,t,r){return Y(e,t,r)>=0}function te(e,t,r){return Y(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new q(e,t).major},e.minor=function(e,t){return new q(e,t).minor},e.patch=function(e,t){return new q(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,r){return Y(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=X,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var ie={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,l,h,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,o,s,a,c;switch(e=new q(e,n),t=new oe(t,n),r){case">":i=X,o=te,s=Q,a=">",c=">=";break;case"<":i=Q,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),h=h||e,p=p||e,i(e.semver,h.semver,n)?h=e:s(e.semver,p.semver,n)&&(p=e)})),h.operator===a||h.operator===c||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[F]:i[V],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new q(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new q(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[W]:i[U];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[B],"$1$2$3"),r("comparator trim",e,i[B]),e=(e=(e=e.replace(i[R],"$1~")).replace(i[M],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[V],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[L]:i[j];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[k]:i[N];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[C]:i[O];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new q(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!n||-1===i.compare(e))&&(i=new q(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!n||1===i.compare(e))&&(i=new q(n=e,r))})),n},e.minVersion=function(e,t){e=new oe(e,t);var r=new q("0.0.0");if(e.test(r)||(r=new q("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||X(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,r){return le(e,t,"<",r)},e.gtr=function(e,t,r){return le(e,t,">",r)},e.outside=le,e.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof q)return e;if("string"!=typeof e)return null;var t=e.match(i[A]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),b=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=r(71017),n=g(),i=r(98188),o=Object.keys(process.binding("natives")),s=i.prototype.require;e.makePatchingRequire=function(e){var r={};return function(a){var c=s.apply(this,arguments);if(e[a]){var u=i._resolveFilename(a,this);if(r.hasOwnProperty(u))return r[u];var l=void 0;if(o.indexOf(a)<0)try{l=s.call(this,t.join(a,"package.json")).version}catch(e){return c}else l=process.version.substring(1);var h=l.indexOf("-");h>=0&&(l=l.substring(0,h));for(var p=c,d=0,f=e[a];d<f.length;d++){var v=f[d];n.satisfies(l,v.versionSpecifier)&&(p=v.patch(p,u))}return r[u]=p}return c}}})),_=f(((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}})),E=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=b(),n=b();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return n.makePatchingRequire}});var i=function(e){return!0},o=function(){function e(){this.version=_().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var n={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,r.forEach((function(e){var t=e.listener,r=e.filter;try{r&&r(!0)&&t(n)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=i),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:r})},e.prototype.unsubscribe=function(e,t,r){void 0===r&&(r=i);var n=this.subscribers[e];if(n)for(var o=0;o<n.length;++o)if(n[o].listener===t&&n[o].filter===r)return n.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(t(r))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new o,r(98188).prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),e.channel=global.diagnosticsSource})),S=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),w=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis="object"==typeof globalThis?globalThis:global})),T=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(w(),e)})),P=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(T(),e)})),I=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"})),O=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=I(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(e){var t=new Set([e]),n=new Set,i=e.match(r);if(!i)return function(){return!1};var o=+i[1],s=+i[2],a=+i[3];if(null!=i[4])return function(t){return t===e};function c(e){return n.add(e),!1}function u(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var i=e.match(r);if(!i)return c(e);var l=+i[1],h=+i[2],p=+i[3];return null!=i[4]||o!==l?c(e):0===o?s===h&&a<=p?u(e):c(e):s<=h?u(e):c(e)}}e._makeCompatibilityCheck=n,e.isCompatible=n(t.VERSION)})),C=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=P(),r=I(),n=O(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=t._globalThis;e.registerGlobal=function(e,t,n,i){var a;void 0===i&&(i=!1);var c=s[o]=null!==(a=s[o])&&void 0!==a?a:{version:r.VERSION};if(!i&&c[e]){var u=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(u.stack||u.message),!1}return c.version!==r.VERSION?(u=new Error("@opentelemetry/api: All API registration versions must match"),n.error(u.stack||u.message),!1):(c[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+r.VERSION+"."),!0)},e.getGlobal=function(e){var t,r,i=null===(t=s[o])||void 0===t?void 0:t.version;if(i&&n.isCompatible(i))return null===(r=s[o])||void 0===r?void 0:r[e]},e.unregisterGlobal=function(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+r.VERSION+".");var n=s[o];n&&delete n[e]}})),A=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=C(),r=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n("verbose",this._namespace,e)},e}();function n(e,r,n){var i=t.getGlobal("diag");if(i)return n.unshift(r),i[e].apply(i,n)}e.DiagComponentLogger=r})),x=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})),R=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=x();e.createLogLevelDiagLogger=function(e,r){function n(t,n){var i=r[t];return"function"==typeof i&&e>=n?i.bind(r):function(){}}return e<t.DiagLogLevel.NONE?e=t.DiagLogLevel.NONE:e>t.DiagLogLevel.ALL&&(e=t.DiagLogLevel.ALL),r=r||{},{error:n("error",t.DiagLogLevel.ERROR),warn:n("warn",t.DiagLogLevel.WARN),info:n("info",t.DiagLogLevel.INFO),debug:n("debug",t.DiagLogLevel.DEBUG),verbose:n("verbose",t.DiagLogLevel.VERBOSE)}}})),N=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=A(),r=R(),n=x(),i=C(),o=function(){function e(){function e(e){return function(){var t=i.getGlobal("diag");if(t)return t[e].apply(t,arguments)}}var o=this;o.setLogger=function(e,t){var s,a;if(void 0===t&&(t=n.DiagLogLevel.INFO),e===o){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return o.error(null!==(s=c.stack)&&void 0!==s?s:c.message),!1}var u=i.getGlobal("diag"),l=r.createLogLevelDiagLogger(t,e);if(u){var h=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+h),l.warn("Current logger will overwrite one already registered from "+h)}return i.registerGlobal("diag",l,o,!0)},o.disable=function(){i.unregisterGlobal("diag",o)},o.createComponentLogger=function(e){return new t.DiagComponentLogger(e)},o.verbose=e("verbose"),o.debug=e("debug"),o.info=e("info"),o.warn=e("warn"),o.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.DiagAPI=o})),k=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,o=t;i<o.length;i++){var s=o[i];n._entries.delete(s)}return n},e.prototype.clear=function(){return new e},e}();e.BaggageImpl=t})),D=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")})),M=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=N(),r=k(),n=D(),i=t.DiagAPI.instance();e.createBaggage=function(e){return void 0===e&&(e={}),new r.BaggageImpl(new Map(Object.entries(e)))},e.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(i.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return e}}}})),j=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),L=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),F=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];e.DiagConsoleLogger=function(){function e(e){return function(){var t=arguments;if(console){var r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(var r=0;r<t.length;r++)this[t[r].n]=e(t[r].c)}})),V=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(F(),e),r(x(),e)})),B=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},e.defaultTextMapSetter={set:function(e,t,r){null!=e&&(e[t]=r)}}})),U=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),W=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0,e.createContextKey=function(e){return Symbol.for(e)};e.ROOT_CONTEXT=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var i=new e(r._currentContext);return i._currentContext.set(t,n),i},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}})),H=f((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var r=$(),n=function(){function e(){}return e.prototype.active=function(){return r.ROOT_CONTEXT},e.prototype.with=function(e,r,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return r.call.apply(r,t([n],i))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();e.NoopContextManager=n})),G=f((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var r=H(),n=C(),i=N(),o="context",s=new r.NoopContextManager,a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return n.registerGlobal(o,e,i.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,r,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,t([e,r,n],o))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return n.getGlobal(o)||s},e.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},e}();e.ContextAPI=a})),q=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})),z=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=q();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}})),K=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=z(),r=function(){function e(e){void 0===e&&(e=t.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();e.NonRecordingSpan=r})),Y=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=$(),r=K(),n=t.createContextKey("OpenTelemetry Context Key SPAN");function i(e){return e.getValue(n)||void 0}function o(e,t){return e.setValue(n,t)}e.getSpan=i,e.setSpan=o,e.deleteSpan=function(e){return e.deleteValue(n)},e.setSpanContext=function(e,t){return o(e,new r.NonRecordingSpan(t))},e.getSpanContext=function(e){var t;return null===(t=i(e))||void 0===t?void 0:t.spanContext()}})),X=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=z(),r=K(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(e){return n.test(e)&&e!==t.INVALID_TRACEID}function s(e){return i.test(e)&&e!==t.INVALID_SPANID}e.isValidTraceId=o,e.isValidSpanId=s,e.isSpanContextValid=function(e){return o(e.traceId)&&s(e.spanId)},e.wrapSpanContext=function(e){return new r.NonRecordingSpan(e)}})),Q=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=G(),r=Y(),n=K(),i=X(),o=t.ContextAPI.getInstance(),s=function(){function e(){}return e.prototype.startSpan=function(e,t,o){if(Boolean(null==t?void 0:t.root))return new n.NonRecordingSpan;var s=o&&r.getSpanContext(o);return function(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(s)&&i.isSpanContextValid(s)?new n.NonRecordingSpan(s):new n.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,n,i){var s,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=n):(s=t,a=n,c=i);var u=null!=a?a:o.active(),l=this.startSpan(e,s,u),h=r.setSpan(u,l);return o.with(h,c,void 0,l)}},e}();e.NoopTracer=s})),J=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=new(Q().NoopTracer),r=function(){function e(e,t,r){this._provider=e,this.name=t,this.version=r}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):t},e}();e.ProxyTracer=r})),Z=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=Q(),r=function(){function e(){}return e.prototype.getTracer=function(e,r){return new t.NoopTracer},e}();e.NoopTracerProvider=r})),ee=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=J(),r=new(Z().NoopTracerProvider),n=function(){function e(){}return e.prototype.getTracer=function(e,r){var n;return null!==(n=this.getDelegateTracer(e,r))&&void 0!==n?n:new t.ProxyTracer(this,e,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:r},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t)},e}();e.ProxyTracerProvider=n})),te=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),re=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})),ne=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ie=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})),oe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),se=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ae=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})),ce=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ue=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),le=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),he=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),pe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=C(),r=ee(),n=X(),i=Y(),o=N(),s="trace",a=function(){function e(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var r=t.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},e.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){t.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},e}();e.TraceAPI=a})),de=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}();e.NoopTextMapPropagator=t})),fe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=$().createContextKey("OpenTelemetry Baggage Key");e.getBaggage=function(e){return e.getValue(t)||void 0},e.setBaggage=function(e,r){return e.setValue(t,r)},e.deleteBaggage=function(e){return e.deleteValue(t)}})),ve=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=C(),r=de(),n=B(),i=fe(),o=M(),s=N(),a="propagation",c=new r.NoopTextMapPropagator,u=function(){function e(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return t.registerGlobal(a,e,s.DiagAPI.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=n.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=n.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||c},e}();e.PropagationAPI=u})),ye=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,r(S(),e);var n=M();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(j(),e),r(L(),e),r(V(),e),r(B(),e),r(U(),e),r(W(),e),r(J(),e),r(ee(),e),r(te(),e),r(re(),e),r(ne(),e),r(ie(),e),r(oe(),e),r(se(),e),r(ae(),e),r(q(),e),r(ce(),e),r(ue(),e),r(le(),e);var i=X();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=z();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r($(),e),r(he(),e);var s=G();e.context=s.ContextAPI.getInstance();var a=pe();e.trace=a.TraceAPI.getInstance();var c=ve();e.propagation=c.PropagationAPI.getInstance();var u=N();e.diag=u.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}})),me=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=ye().createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");e.suppressTracing=function(e){return e.setValue(t,!0)},e.unsuppressTracing=function(e){return e.deleteValue(t)},e.isTracingSuppressed=function(e){return!0===e.getValue(t)}})),ge=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192})),be=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=ye(),r=ge();e.serializeKeyPairs=e=>e.reduce(((e,t)=>{let n=`${e}${""!==e?r.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>r.BAGGAGE_MAX_TOTAL_LENGTH?e:n}),""),e.getKeyPairs=e=>e.getAllEntries().map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`)),e.parsePairKeyValue=e=>{let n=e.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(n.length<=0)return;let i=n.shift();if(!i)return;let o=i.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==o.length)return;let s,a=decodeURIComponent(o[0].trim()),c=decodeURIComponent(o[1].trim());return n.length>0&&(s=t.baggageEntryMetadataFromString(n.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:c,metadata:s}},e.parseKeyPairsIntoRecord=t=>"string"!=typeof t||0===t.length?{}:t.split(r.BAGGAGE_ITEMS_SEPARATOR).map((t=>e.parsePairKeyValue(t))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})})),_e=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=ye(),r=me(),n=ge(),i=be();e.HttpBaggagePropagator=class{inject(e,o,s){let a=t.propagation.getBaggage(e);if(!a||r.isTracingSuppressed(e))return;let c=i.getKeyPairs(a).filter((e=>e.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),u=i.serializeKeyPairs(c);u.length>0&&s.set(o,n.BAGGAGE_HEADER,u)}extract(e,r,o){let s=o.get(r,n.BAGGAGE_HEADER);if(!s)return e;let a={};return 0===s.length||(s.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{let t=i.parsePairKeyValue(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),a[t.key]=e}})),0===Object.entries(a).length)?e:t.propagation.setBaggage(e,t.propagation.createBaggage(a))}fields(){return[n.BAGGAGE_HEADER]}}})),Ee=f((e=>{"use strict";function t(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e)if(null!=n){if(!t){if(r(n)){t=typeof n;continue}return!1}if(typeof n!==t)return!1}return!0}(e):r(e))}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0,e.sanitizeAttributes=function(e){let r={};if(null==e||"object"!=typeof e)return r;for(let[n,i]of Object.entries(e))t(i)&&(Array.isArray(i)?r[n]=i.slice():r[n]=i);return r},e.isAttributeValue=t})),Se=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=ye();e.loggingErrorHandler=function(){return e=>{t.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){let t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;let n=r[e];n&&(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}})),we=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=Se().loggingErrorHandler();e.setGlobalErrorHandler=function(e){t=e},e.globalErrorHandler=e=>{try{t(e)}catch(e){}}})),Te=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})),Pe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=ye(),r=Te(),n=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function i(e){return n.indexOf(e)>-1}var o=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function s(e){return o.indexOf(e)>-1}function a(e,t,r,n=-1/0,i=1/0){if(void 0!==r[e]){let o=Number(r[e]);isNaN(o)||(t[e]=o<n?n:o>i?i:o)}}function c(e,t,r,n=","){let i=r[e];"string"==typeof i&&(t[e]=i.split(n).map((e=>e.trim())))}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};var u={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function l(e,t,r){let n=r[e];if("string"==typeof n){let r=u[n.toUpperCase()];null!=r&&(t[e]=r)}}e.parseEnvironment=function(t){let r={};for(let n in e.DEFAULT_ENVIRONMENT){let e=n;if("OTEL_LOG_LEVEL"===e)l(e,r,t);else if(i(e))a(e,r,t);else if(s(e))c(e,r,t);else{let n=t[e];null!=n&&(r[e]=String(n))}}return r}})),Ie=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=r(22037),n=Pe();e.getEnv=function(){let e=n.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},n.DEFAULT_ENVIRONMENT,e)}})),Oe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0,e.hexToBase64=function(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let t=e.substring(n,n+2),i=parseInt(t,16);r+=String.fromCharCode(i)}return Buffer.from(r,"ascii").toString("base64")}})),Ce=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0,e.RandomIdGenerator=class{constructor(){this.generateTraceId=r(16),this.generateSpanId=r(8)}};var t=Buffer.allocUnsafe(16);function r(e){return function(){for(let r=0;r<e/4;r++)t.writeUInt32BE(Math.random()*2**32>>>0,4*r);for(let r=0;r<e&&!(t[r]>0);r++)r===e-1&&(t[e-1]=1);return t.toString("hex",0,e)}}})),Ae=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=r(4074);e.otperformance=t.performance})),xe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"})),Re=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"},(t=e.DbSystemValues||(e.DbSystemValues={})).OTHER_SQL="other_sql",t.MSSQL="mssql",t.MYSQL="mysql",t.ORACLE="oracle",t.DB2="db2",t.POSTGRESQL="postgresql",t.REDSHIFT="redshift",t.HIVE="hive",t.CLOUDSCAPE="cloudscape",t.HSQLDB="hsqldb",t.PROGRESS="progress",t.MAXDB="maxdb",t.HANADB="hanadb",t.INGRES="ingres",t.FIRSTSQL="firstsql",t.EDB="edb",t.CACHE="cache",t.ADABAS="adabas",t.FIREBIRD="firebird",t.DERBY="derby",t.FILEMAKER="filemaker",t.INFORMIX="informix",t.INSTANTDB="instantdb",t.INTERBASE="interbase",t.MARIADB="mariadb",t.NETEZZA="netezza",t.PERVASIVE="pervasive",t.POINTBASE="pointbase",t.SQLITE="sqlite",t.SYBASE="sybase",t.TERADATA="teradata",t.VERTICA="vertica",t.H2="h2",t.COLDFUSION="coldfusion",t.CASSANDRA="cassandra",t.HBASE="hbase",t.MONGODB="mongodb",t.REDIS="redis",t.COUCHBASE="couchbase",t.COUCHDB="couchdb",t.COSMOSDB="cosmosdb",t.DYNAMODB="dynamodb",t.NEO4J="neo4j",t.GEODE="geode",t.ELASTICSEARCH="elasticsearch",t.MEMCACHED="memcached",t.COCKROACHDB="cockroachdb",function(e){e.ALL="all",e.EACH_QUORUM="each_quorum",e.QUORUM="quorum",e.LOCAL_QUORUM="local_quorum",e.ONE="one",e.TWO="two",e.THREE="three",e.LOCAL_ONE="local_one",e.ANY="any",e.SERIAL="serial",e.LOCAL_SERIAL="local_serial"}(e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={})),function(e){e.DATASOURCE="datasource",e.HTTP="http",e.PUBSUB="pubsub",e.TIMER="timer",e.OTHER="other"}(e.FaasTriggerValues||(e.FaasTriggerValues={})),function(e){e.INSERT="insert",e.EDIT="edit",e.DELETE="delete"}(e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={})),function(e){e.AWS="aws",e.AZURE="azure",e.GCP="gcp"}(e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={})),function(e){e.IP_TCP="ip_tcp",e.IP_UDP="ip_udp",e.IP="ip",e.UNIX="unix",e.PIPE="pipe",e.INPROC="inproc",e.OTHER="other"}(e.NetTransportValues||(e.NetTransportValues={})),function(e){e.HTTP_1_0="1.0",e.HTTP_1_1="1.1",e.HTTP_2_0="2.0",e.SPDY="SPDY",e.QUIC="QUIC"}(e.HttpFlavorValues||(e.HttpFlavorValues={})),function(e){e.QUEUE="queue",e.TOPIC="topic"}(e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={})),function(e){e.RECEIVE="receive",e.PROCESS="process"}(e.MessagingOperationValues||(e.MessagingOperationValues={})),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))})),Ne=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Re(),e)})),ke=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},(t=e.CloudProviderValues||(e.CloudProviderValues={})).AWS="aws",t.AZURE="azure",t.GCP="gcp",function(e){e.AWS_EC2="aws_ec2",e.AWS_ECS="aws_ecs",e.AWS_EKS="aws_eks",e.AWS_LAMBDA="aws_lambda",e.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",e.AZURE_VM="azure_vm",e.AZURE_CONTAINER_INSTANCES="azure_container_instances",e.AZURE_AKS="azure_aks",e.AZURE_FUNCTIONS="azure_functions",e.AZURE_APP_SERVICE="azure_app_service",e.GCP_COMPUTE_ENGINE="gcp_compute_engine",e.GCP_CLOUD_RUN="gcp_cloud_run",e.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",e.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",e.GCP_APP_ENGINE="gcp_app_engine"}(e.CloudPlatformValues||(e.CloudPlatformValues={})),function(e){e.EC2="ec2",e.FARGATE="fargate"}(e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={})),function(e){e.AMD64="amd64",e.ARM32="arm32",e.ARM64="arm64",e.IA64="ia64",e.PPC32="ppc32",e.PPC64="ppc64",e.X86="x86"}(e.HostArchValues||(e.HostArchValues={})),function(e){e.WINDOWS="windows",e.LINUX="linux",e.DARWIN="darwin",e.FREEBSD="freebsd",e.NETBSD="netbsd",e.OPENBSD="openbsd",e.DRAGONFLYBSD="dragonflybsd",e.HPUX="hpux",e.AIX="aix",e.SOLARIS="solaris",e.Z_OS="z_os"}(e.OsTypeValues||(e.OsTypeValues={})),function(e){e.CPP="cpp",e.DOTNET="dotnet",e.ERLANG="erlang",e.GO="go",e.JAVA="java",e.NODEJS="nodejs",e.PHP="php",e.PYTHON="python",e.RUBY="ruby",e.WEBJS="webjs"}(e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))})),De=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(ke(),e)})),Me=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ne(),e),r(De(),e)})),je=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=xe(),r=Me();e.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}})),Le=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0,e.unrefTimer=function(e){e.unref()}})),Fe=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ie(),e),r(Oe(),e),r(Ce(),e),r(Ae(),e),r(je(),e),r(Le(),e)})),Ve=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fe(),e)})),Be=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=Ve(),r=Math.pow(10,9);function n(e){let t=e/1e3,n=Math.trunc(t);return[n,Number((t-n).toFixed(9))*r]}function i(){let e=t.otperformance.timeOrigin;if("number"!=typeof e){let r=t.otperformance;e=r.timing&&r.timing.fetchStart}return e}function o(e){let o=n(i()),s=n("number"==typeof e?e:t.otperformance.now()),a=o[0]+s[0],c=o[1]+s[1];return c>r&&(c-=r,a+=1),[a,c]}function s(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}e.hrTime=o,e.timeInputToHrTime=function(e){if(s(e))return e;if("number"==typeof e)return e<i()?o(e):n(e);if(e instanceof Date)return n(e.getTime());throw TypeError("Invalid input type")},e.hrTimeDuration=function(e,t){let n=t[0]-e[0],i=t[1]-e[1];return i<0&&(n-=1,i+=r),[n,i]},e.hrTimeToTimeStamp=function(e){let t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},e.hrTimeToNanoseconds=function(e){return e[0]*r+e[1]},e.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},e.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},e.isTimeInputHrTime=s,e.isTimeInput=function(e){return s(e)||"number"==typeof e||e instanceof Date}})),Ue=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),We=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})),$e=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=ye();e.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,r,n){for(let i of this._propagators)try{i.inject(e,r,n)}catch(e){t.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}}extract(e,r,n){return this._propagators.reduce(((e,i)=>{try{return i.extract(e,r,n)}catch(e){t.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}})),He=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",r=new RegExp(`^(?:[a-z]${t}{0,255}|[a-z0-9]${t}{0,240}@[a-z]${t}{0,13})$`),n=/^[ -~]{0,255}[!-~]$/,i=/,|=/;e.validateKey=function(e){return r.test(e)},e.validateValue=function(e){return n.test(e)&&!i.test(e)}})),Ge=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=He(),r=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,r)=>{let n=r.trim(),i=n.indexOf("=");if(-1!==i){let o=n.slice(0,i),s=n.slice(i+1,r.length);t.validateKey(o)&&t.validateValue(s)&&e.set(o,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}};e.TraceState=r})),qe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=ye(),r=me(),n=Ge();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var i=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function o(e){let t=i.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}e.parseTraceParent=o,e.HttpTraceContextPropagator=class{inject(n,i,o){let s=t.trace.getSpanContext(n);if(!s||r.isTracingSuppressed(n)||!t.isSpanContextValid(s))return;let a=`00-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||t.TraceFlags.NONE).toString(16)}`;o.set(i,e.TRACE_PARENT_HEADER,a),s.traceState&&o.set(i,e.TRACE_STATE_HEADER,s.traceState.serialize())}extract(r,i,s){let a=s.get(i,e.TRACE_PARENT_HEADER);if(!a)return r;let c=Array.isArray(a)?a[0]:a;if("string"!=typeof c)return r;let u=o(c);if(!u)return r;u.isRemote=!0;let l=s.get(i,e.TRACE_STATE_HEADER);if(l){let e=Array.isArray(l)?l.join(","):l;u.traceState=new n.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(r,u)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}})),ze=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ke=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=ye().createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,r){return e.setValue(t,r)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}})),Ye=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=ye();e.AlwaysOffSampler=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}})),Xe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=ye();e.AlwaysOnSampler=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}})),Qe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=ye(),r=we(),n=Ye(),i=Xe();e.ParentBasedSampler=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new i.AlwaysOnSampler,this._remoteParentNotSampled=null!==(o=e.remoteParentNotSampled)&&void 0!==o?o:new n.AlwaysOffSampler,this._localParentSampled=null!==(s=e.localParentSampled)&&void 0!==s?s:new i.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new n.AlwaysOffSampler}shouldSample(e,r,n,i,o,s){let a=t.trace.getSpanContext(e);return a&&t.isSpanContextValid(a)?a.isRemote?a.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,i,o,s):this._remoteParentNotSampled.shouldSample(e,r,n,i,o,s):a.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,r,n,i,o,s):this._localParentNotSampled.shouldSample(e,r,n,i,o,s):this._root.shouldSample(e,r,n,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}})),Je=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=ye();e.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,r){return{decision:t.isValidTraceId(r)&&this._accumulate(r)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){let n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}}})),Ze=f((e=>{"use strict";function t(e,t){return"string"==typeof t?e===t:t.test(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0,e.urlMatches=t,e.isUrlIgnored=function(e,r){if(!r)return!1;for(let n of r)if(t(e,n))return!0;return!1}})),et=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0,e.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}})),tt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,r(_e(),e),r(Ee(),e),r(we(),e),r(Se(),e),r(Be(),e),r(Ue(),e),r(We(),e),r(xe(),e),e.baggageUtils=be(),r(Ve(),e),r($e(),e),r(qe(),e),r(ze(),e),r(Ke(),e),r(Ye(),e),r(Xe(),e),r(Qe(),e),r(Je(),e),r(me(),e),r(Ge(),e),r(Pe(),e),r(Te(),e),r(Ze(),e),r(et(),e),r(xe(),e)})),rt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"})),nt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=ye(),r=tt(),n=Me(),i=rt();e.Span=class{constructor(e,n,i,o,s,a,c=[],u=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=i,this._spanContext=o,this.parentSpanId=a,this.kind=s,this.links=c,this.startTime=r.timeInputToHrTime(u),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}spanContext(){return this._spanContext}setAttribute(e,n){return null==n||this._isSpanEnded()?this:0===e.length?(t.diag.warn(`Invalid attribute key: ${e}`),this):r.isAttributeValue(n)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=n),this):(t.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,r]of Object.entries(e))this.setAttribute(t,r);return this}addEvent(e,n,i){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(n)&&(void 0===i&&(i=n),n=void 0),void 0===i&&(i=r.hrTime()),this.events.push({name:e,attributes:n,time:r.timeInputToHrTime(i)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=r.hrTime()){this._isSpanEnded()?t.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=r.timeInputToHrTime(e),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(e,o=r.hrTime()){let s={};"string"==typeof e?s[n.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?s[n.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(s[n.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(s[n.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(s[n.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),s[n.SemanticAttributes.EXCEPTION_TYPE]||s[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,s,o):t.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}}})),it=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=ye(),r=tt(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;function o(e=r.getEnv()){switch(e.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(s(e));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(s(e))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}function s(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return t.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;let r=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(r)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):r<0||r>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):r}e.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},e.buildSamplerFromEnv=o})),ot=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=it();e.mergeConfig=function(e){let r={sampler:t.buildSamplerFromEnv()},n=Object.assign({},t.DEFAULT_CONFIG,r,e);return n.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),n}})),st=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=ye(),r=tt(),n=nt(),i=ot();e.Tracer=class{constructor(e,t,n){this._tracerProvider=n;let o=i.mergeConfig(t);this._sampler=o.sampler,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new r.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=e}startSpan(e,i={},o=t.context.active()){var s,a;if(r.isTracingSuppressed(o))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let c,u,l,h=function(e,r){if(!e.root)return t.trace.getSpanContext(r)}(i,o),p=this._idGenerator.generateSpanId();h&&t.trace.isSpanContextValid(h)?(c=h.traceId,u=h.traceState,l=h.spanId):c=this._idGenerator.generateTraceId();let d=null!==(s=i.kind)&&void 0!==s?s:t.SpanKind.INTERNAL,f=null!==(a=i.links)&&void 0!==a?a:[],v=r.sanitizeAttributes(i.attributes),y=this._sampler.shouldSample(i.root?t.trace.setSpanContext(o,t.INVALID_SPAN_CONTEXT):o,c,e,d,v,f),m={traceId:c,spanId:p,traceFlags:y.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,traceState:u};if(y.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(m);let g=new n.Span(this,o,e,m,d,l,f,i.startTime);return g.setAttributes(Object.assign(v,y.attributes)),g}startActiveSpan(e,r,n,i){let o,s,a;if(arguments.length<2)return;2===arguments.length?a=r:3===arguments.length?(o=r,a=n):(o=r,s=n,a=i);let c=null!=s?s:t.context.active(),u=this.startSpan(e,o,c),l=t.trace.setSpan(c,u);return t.context.with(l,a,void 0,u)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}})),at=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0,e.defaultServiceName=function(){return`unknown_service:${process.argv0}`}})),ct=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=ft(),n=ye(),i=r(73837);e.detectResources=async(e={})=>{let r=Object.assign(e),i=await Promise.all((r.detectors||[]).map((async e=>{try{let t=await e.detect(r);return n.diag.debug(`${e.constructor.name} found resource.`,t),t}catch(r){return n.diag.debug(`${e.constructor.name} failed: ${r.message}`),t.Resource.empty()}})));return o(i),i.reduce(((e,t)=>e.merge(t)),t.Resource.empty())};var o=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){let t=i.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});n.diag.verbose(t)}}))}})),ut=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=ye(),r=tt(),n=Me(),i=mt();e.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let o={},s=r.getEnv(),a=s.OTEL_RESOURCE_ATTRIBUTES,c=s.OTEL_SERVICE_NAME;if(a)try{let e=this._parseResourceAttributes(a);Object.assign(o,e)}catch(e){t.diag.debug(`EnvDetector failed: ${e.message}`)}return c&&(o[n.ResourceAttributes.SERVICE_NAME]=c),new i.Resource(o)}_parseResourceAttributes(e){if(!e)return{};let t={},r=e.split(this._COMMA_SEPARATOR,-1);for(let e of r){let r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==r.length)continue;let[n,i]=r;if(n=n.trim(),i=i.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(i))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=i}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t<e.length;t++){let r=e.charAt(t);if(r<=" "||r>="~")return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}})),lt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=ye(),r=Me(),n=mt();e.processDetector=new class{async detect(e){let t={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,i){return""===e[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[r.ResourceAttributes.PROCESS_COMMAND]||""===e[r.ResourceAttributes.PROCESS_COMMAND_LINE]?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},e))}}})),ht=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(ut(),e),r(lt(),e)})),pt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(at(),e),r(ct(),e),r(ht(),e)})),dt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(pt(),e)})),ft=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=Me(),r=tt(),n=dt(),i=class{constructor(e){this.attributes=e}static empty(){return i.EMPTY}static default(){return new i({[t.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new i(t)}};e.Resource=i,i.EMPTY=new i({})})),vt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),yt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),mt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(ft(),e),r(dt(),e),r(vt(),e),r(yt(),e)})),gt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=tt();e.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise((r=>{Promise.all(e).then((()=>{r()})).catch((e=>{t.globalErrorHandler(e||new Error("MultiSpanProcessor: forceFlush failed")),r()}))}))}onStart(e,t){for(let r of this._spanProcessors)r.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,r)=>{Promise.all(e).then((()=>{t()}),r)}))}}})),bt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0,e.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}})),_t=f(((e,t)=>{var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Function]",s="[object Object]",a=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[o]=u["[object Map]"]=u["[object Number]"]=u[s]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var l="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,p=l||h||Function("return this")(),d="object"==typeof e&&e&&!e.nodeType&&e,f=d&&"object"==typeof t&&t&&!t.nodeType&&t,v=f&&f.exports===d,y=v&&l.process,m=function(){try{return f&&f.require&&f.require("util").types||y&&y.binding&&y.binding("util")}catch(e){}}(),g=m&&m.isTypedArray;function b(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _,E=Array.prototype,S=Function.prototype,w=Object.prototype,T=p["__core-js_shared__"],P=S.toString,I=w.hasOwnProperty,O=(_=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",C=w.toString,A=P.call(Object),x=RegExp("^"+P.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=v?p.Buffer:void 0,N=p.Symbol,k=p.Uint8Array,D=(R&&R.allocUnsafe,function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object)),M=Object.create,j=w.propertyIsEnumerable,L=E.splice,F=N?N.toStringTag:void 0,V=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),B=R?R.isBuffer:void 0,U=Math.max,W=Date.now,$=se(p,"Map"),H=se(Object,"create"),G=function(){function e(){}return function(t){if(!ge(t))return{};if(M)return M(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function q(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Y(e){var t=this.__data__=new z(e);this.size=t.size}function X(e,t,r){(void 0!==r&&!he(e[t],r)||void 0===r&&!(t in e))&&Z(e,t,r)}function Q(e,t,r){var n=e[t];(!I.call(e,t)||!he(n,r)||void 0===r&&!(t in e))&&Z(e,t,r)}function J(e,t){for(var r=e.length;r--;)if(he(e[r][0],t))return r;return-1}function Z(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}q.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},q.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},q.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return n===r?void 0:n}return I.call(t,e)?t[e]:void 0},q.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:I.call(t,e)},q.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?r:t,this},z.prototype.clear=function(){this.__data__=[],this.size=0},z.prototype.delete=function(e){var t=this.__data__,r=J(t,e);return!(r<0||(r==t.length-1?t.pop():L.call(t,r,1),--this.size,0))},z.prototype.get=function(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]},z.prototype.has=function(e){return J(this.__data__,e)>-1},z.prototype.set=function(e,t){var r=this.__data__,n=J(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new q,map:new($||z),string:new q}},K.prototype.delete=function(e){var t=oe(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return oe(this,e).get(e)},K.prototype.has=function(e){return oe(this,e).has(e)},K.prototype.set=function(e,t){var r=oe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Y.prototype.clear=function(){this.__data__=new z,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var r=this.__data__;if(r instanceof z){var n=r.__data__;if(!$||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new K(n)}return r.set(e,t),this.size=r.size,this};var ee=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),s=o.length;s--;){var a=o[++n];if(!1===t(i[a],a,i))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=I.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch(e){}var i=C.call(e);return n&&(t?e[F]=r:delete e[F]),i}(e):function(e){return C.call(e)}(e)}function re(e){return be(e)&&te(e)==i}function ne(e,t,r,n,i){e!==t&&ee(t,(function(o,a){if(i||(i=new Y),ge(o))!function(e,t,r,n,i,o,a){var c=ue(e,r),u=ue(t,r),l=a.get(u);if(l)X(e,r,l);else{var h=o?o(c,u,r+"",e,t,a):void 0,p=void 0===h;if(p){var d=de(u),f=!d&&ve(u),v=!d&&!f&&_e(u);h=u,d||f||v?de(c)?h=c:function(e){return be(e)&&fe(e)}(c)?h=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(c):f?(p=!1,h=function(e,t){return e.slice()}(u)):v?(p=!1,h=function(e,t){var r=function(e){var t=new e.constructor(e.byteLength);return new k(t).set(new k(e)),t}(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}(u)):h=[]:function(e){if(!be(e)||te(e)!=s)return!1;var t=D(e);if(null===t)return!0;var r=I.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&P.call(r)==A}(u)||pe(u)?(h=c,pe(c)?h=function(e){return function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=void 0;void 0===c&&(c=e[a]),i?Z(r,a,c):Q(r,a,c)}return r}(e,Ee(e))}(c):(!ge(c)||ye(c))&&(h=function(e){return"function"!=typeof e.constructor||ce(e)?{}:G(D(e))}(u))):p=!1}p&&(a.set(u,h),i(h,u,n,o,a),a.delete(u)),X(e,r,h)}}(e,t,a,r,ne,n,i);else{var c=n?n(ue(e,a),o,a+"",e,t,i):void 0;void 0===c&&(c=o),X(e,a,c)}}),Ee)}var ie=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:we(t),writable:!0})}:Te;function oe(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function se(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ge(e)||function(e){return!!O&&O in e}(e))&&(ye(e)?x:a).test(function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function ae(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&c.test(e))&&e>-1&&e%1==0&&e<t}function ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||w)}function ue(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var le=function(e){var t=0,r=0;return function(){var n=W(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ie);function he(e,t){return e===t||e!=e&&t!=t}var pe=re(function(){return arguments}())?re:function(e){return be(e)&&I.call(e,"callee")&&!j.call(e,"callee")},de=Array.isArray;function fe(e){return null!=e&&me(e.length)&&!ye(e)}var ve=B||function(){return!1};function ye(e){if(!ge(e))return!1;var t=te(e);return t==o||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==typeof e}var _e=g?function(e){return function(t){return e(t)}}(g):function(e){return be(e)&&me(e.length)&&!!u[te(e)]};function Ee(e){return fe(e)?function(e,t){var r=de(e),n=!r&&pe(e),i=!r&&!n&&ve(e),o=!r&&!n&&!i&&_e(e),s=r||n||i||o,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=a.length;for(var u in e)(t||I.call(e,u))&&(!s||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ae(u,c)))&&a.push(u);return a}(e,!0):function(e){if(!ge(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ce(e),r=[];for(var n in e)"constructor"==n&&(t||!I.call(e,n))||r.push(n);return r}(e)}var Se=function(e){return function(e,t){return le(function(e,t,r){return t=U(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=U(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),b(e,this,a)}}(e,t,Te),e+"")}((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&function(e,t,r){if(!ge(r))return!1;var n=typeof t;return!!("number"==n?fe(r)&&ae(t,r.length):"string"==n&&t in r)&&he(r[t],e)}(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n)}return t}))}((function(e,t,r){ne(e,t,r)}));function we(e){return function(){return e}}function Te(e){return e}t.exports=Se})),Et=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=ye(),r=tt();e.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let n=r.getEnv();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise(((e,t)=>{let r=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e<t;e++)r.push(this._flushOneBatch());Promise.all(r).then((()=>{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,n)=>{let i=setTimeout((()=>{n(new Error("Timeout"))}),this._exportTimeoutMillis);t.context.with(r.suppressTracing(t.context.active()),(()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(t=>{var o;clearTimeout(i),t.code===r.ExportResultCode.SUCCESS?e():n(null!==(o=t.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))}))}))}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flushOneBatch().then((()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((e=>{r.globalErrorHandler(e)}))}),this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}})),St=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=Et(),r=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=r})),wt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(St(),e)})),Tt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(wt(),e)})),Pt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t,r,n=ye(),i=tt(),o=mt(),s=Dt(),a=it(),c=gt(),u=bt(),l=_t(),h=Tt();(r=t=e.ForceFlushState||(e.ForceFlushState={}))[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved";var p=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let r=l({},a.DEFAULT_CONFIG,e);this.resource=null!==(t=r.resource)&&void 0!==t?t:o.Resource.empty(),this.resource=o.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});let n=this._buildExporterFromEnv();if(void 0!==n){let e=new h.BatchSpanProcessor(n);this.activeSpanProcessor=e}else this.activeSpanProcessor=new u.NoopSpanProcessor}getTracer(e,t){let r=`${e}@${t||""}`;return this._tracers.has(r)||this._tracers.set(r,new s.Tracer({name:e,version:t},this._config,this)),this._tracers.get(r)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((e=>n.diag.error("Error while trying to shutdown current span processor",e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){n.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&n.context.setGlobalContextManager(e.contextManager),e.propagator&&n.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map((r=>new Promise((n=>{let i,o=setTimeout((()=>{n(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=t.timeout}),e);r.forceFlush().then((()=>{clearTimeout(o),i!==t.timeout&&(i=t.resolved,n(i))})).catch((e=>{clearTimeout(o),i=t.error,n(e)}))}))));return new Promise(((e,n)=>{Promise.all(r).then((r=>{let i=r.filter((e=>e!==t.resolved));i.length>0?n(i):e()})).catch((e=>n([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=p._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=p._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(i.getEnv().OTEL_PROPAGATORS)),t=e.map((e=>{let t=this._getPropagator(e);return t||n.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`),t})).reduce(((e,t)=>(t&&e.push(t),e)),[]);if(0!==t.length)return 1===e.length?t[0]:new i.CompositePropagator({propagators:t})}_buildExporterFromEnv(){let e=i.getEnv().OTEL_TRACES_EXPORTER;if("none"===e)return;let t=this._getSpanExporter(e);return t||n.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};e.BasicTracerProvider=p,p._registeredPropagators=new Map([["tracecontext",()=>new i.HttpTraceContextPropagator],["baggage",()=>new i.HttpBaggagePropagator]]),p._registeredExporters=new Map})),It=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=tt();e.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:t.hrTimeToMicroseconds(e.startTime),duration:t.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,r){for(let t of e)console.log(this._exportInfo(t));if(r)return r({code:t.ExportResultCode.SUCCESS})}}})),Ot=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=tt();e.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,r){if(this._stopped)return r({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout((()=>r({code:t.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}})),Ct=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),At=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=ye(),r=tt();e.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(e){}onEnd(e){this._isShutdown||t.context.with(r.suppressTracing(t.context.active()),(()=>{this._exporter.export([e],(e=>{var t;e.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler(null!==(t=e.error)&&void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))}))}))}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}}})),xt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Rt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Nt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),kt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Dt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(st(),e),r(Pt(),e),r(Tt(),e),r(It(),e),r(Ot(),e),r(Ct(),e),r(At(),e),r(xt(),e),r(bt(),e),r(nt(),e),r(Rt(),e),r(Nt(),e),r(kt(),e)})),Mt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=E();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1;e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(n){if(r)return n;try{var i=Dt(),o=ye(),s=(new i.BasicTracerProvider).getTracer("applicationinsights tracer"),a=n.setTracer;n.setTracer=function(r){var n=r.startSpan;r.startSpan=function(e,r,i){var o=n.call(this,e,r,i),s=o.end;return o.end=function(){var e=s.apply(this,arguments);return t.channel.publish("azure-coretracing",o),e},o},r[e.AzureMonitorSymbol]=!0,a.call(this,r)},o.trace.getSpan(o.context.active()),n.setTracer(s),r=!0}catch(e){}return n}},e.enable=function(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}})),jt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=E();e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var r=e.prototype._emit;return e.prototype._emit=function(e,n){var i=r.apply(this,arguments);if(!n){var o=i;o||(o=r.call(this,e,!0)),t.channel.publish("bunyan",{level:e.level,result:o})}return i},e}},e.enable=function(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}})),Lt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=E(),n=r(12781);e.console={versionSpecifier:">= 4.0.0",patch:function(e){var r=new n.Writable,i=new n.Writable;r.write=function(e){if(!e)return!0;var r=e.toString();return t.channel.publish("console",{message:r}),!0},i.write=function(e){if(!e)return!0;var r=e.toString();return t.channel.publish("console",{message:r,stderr:!0}),!0};for(var o=new e.Console(r,i),s=function(t){var r=e[t];r&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch(e){}return r.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)s(c[a]);return e}},e.enable=function(){t.channel.registerMonkeyPatch("console",e.console),r(96206)}})),Ft=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=E();e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var r=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=r.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=t.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=t.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},e.enable=function(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}})),Vt=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var r=E();e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var n=e.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext((function(e){return e()}))}}}),i={};return n.on("started",(function(e){i[e.requestId]||(i[e.requestId]=t(t({},e),{time:new Date}))})),n.on("succeeded",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),n.on("failed",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var n=e.instrument(),i={},o={};return n.on("started",(function(e){i[e.requestId]||(o[e.requestId]=r.channel.bindToContext((function(e){return e()})),i[e.requestId]=t(t({},e),{time:new Date}))})),n.on("succeeded",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),n.on("failed",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e}}(e);var t=e.instrument(),n={},i={};return t.on("started",(function(e){n[e.requestId]||(i[e.requestId]=r.channel.bindToContext((function(e){return e()})),n[e.requestId]=e)})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},e.enable=function(){r.channel.registerMonkeyPatch("mongodb",e.mongo2),r.channel.registerMonkeyPatch("mongodb",e.mongo3),r.channel.registerMonkeyPatch("mongodb",e.mongo330)}})),Bt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=E(),n=r(71017);e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,i){var o=function(e,r){return function(r,n){var i=e[r];i&&(e[r]=function(){for(var e=arguments.length-1,r=arguments.length-1;r>=0;--r){if("function"==typeof arguments[r]){e=r;break}if(void 0!==arguments[r])break}var o=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof o&&(n?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=t.channel.bindToContext(n(s,o))):arguments[e]=t.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=r(73255)(n.dirname(i)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,r){return function(n){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;t.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:o,time:e.startDate}),r.apply(this,arguments)}}));var c=r(9118)(n.dirname(i)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},e.enable=function(){t.channel.registerMonkeyPatch("mysql",e.mysql)}})),Ut=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=E();e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var r=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=t.channel.bindToContext(e)),r.apply(this,arguments)},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}})),Wt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=E(),n=r(82361);e.postgres6={versionSpecifier:"6.*",patch:function(e,r){var i=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,r,s){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function l(e){e&&e[o]&&(e=e[o]);var r=t.channel.bindToContext((function(r,i){var o=process.hrtime(u);if(c.result=i&&{rowCount:i.rowCount,command:i.command},c.error=r,c.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish("postgres",c),r){if(e)return e.apply(this,arguments);a&&a instanceof n.EventEmitter&&a.emit("error",r)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(r,o,{value:e}),r}catch(t){return e}}try{"string"==typeof e?r instanceof Array?(c.query.preparable={text:e,args:r},s=l(s)):(c.query.text=e,s?s=l(s):r=l(r)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,s?s=l(s):r?r=l(r):e.callback=l(e.callback))}catch(e){return i.apply(this,arguments)}return arguments[0]=e,arguments[1]=r,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=i.apply(this,arguments)},e}},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,r){var i=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,r,s){var a,c=this,u=!!s,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},h=process.hrtime();function p(e){e&&e[o]&&(e=e[o]);var r=t.channel.bindToContext((function(r,i){var o=process.hrtime(h);if(l.result=i&&{rowCount:i.rowCount,command:i.command},l.error=r,l.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish("postgres",l),r){if(e)return e.apply(this,arguments);a&&a instanceof n.EventEmitter&&a.emit("error",r)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(r,o,{value:e}),r}catch(t){return e}}try{"string"==typeof e?r instanceof Array?(l.query.preparable={text:e,args:r},s=(u="function"==typeof s)?p(s):s):(l.query.text=e,s?s=(u="function"==typeof s)?p(s):s:r=(u="function"==typeof r)?p(r):r):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,s?(u="function"==typeof s,s=p(s)):r?r=(u="function"==typeof r)?p(r):r:(u="function"==typeof e.callback,e.callback=u?p(e.callback):e.callback))}catch(e){return i.apply(this,arguments)}return arguments[0]=e,arguments[1]=r,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=i.apply(this,arguments),u?a:a.then((function(e){return p()(void 0,e),new c._Promise((function(t,r){t(e)}))})).catch((function(e){return p()(e,void 0),new c._Promise((function(t,r){r(e)}))}))},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}})),$t=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=E();e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var r=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;e.callback=t.channel.bindToContext((function(r,a){var c=process.hrtime(o),u=1e3*c[0]+c[1]/1e6|0;t.channel.publish("redis",{duration:u,address:i,commandObj:e,err:r,result:a,time:s}),"function"==typeof n&&n.apply(this,arguments)})),e.callback.pubsubBound=!0}}return r.call(this,e)},e}},e.enable=function(){t.channel.registerMonkeyPatch("redis",e.redis)}})),Ht=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var r=E();e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var n=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var n=process.hrtime(),i={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext((function(o,s,a){var c=process.hrtime(n);i=t(t({},i),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!o&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:o,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),r.channel.publish("tedious",i),e.call(this,o,s,a)}))}var i=arguments[0];arguments[0].callback=e(i.callback),n.apply(this,arguments)},e}},e.enable=function(){r.channel.registerMonkeyPatch("tedious",e.tedious)}})),Gt=f((e=>{"use strict";var t,r=e&&e.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,r)},function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),n=e&&e.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var i=E();e.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,r){var n=e.call(this,r)||this;return n.winston=t,n}return r(t,e),t.prototype.log=function(e,t){var r=e.message,o=e.level,s=e.meta,a=n(e,["message","level","meta"]);o="function"==typeof Symbol.for?e[Symbol.for("level")]:o,r=e instanceof Error?e:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,o);for(var u in s=s||{},a)a.hasOwnProperty(u)&&(s[u]=a[u]);i.channel.publish("winston",{message:r,level:o,levelKind:c,meta:s}),t()},t}(e.Transport);function o(){var r,n=arguments[0].levels||e.config.npm.levels;for(var i in n)n.hasOwnProperty(i)&&(r=void 0===r||n[i]>n[r]?i:r);this.add(new t(e,{level:r}))}var s=e.createLogger;e.createLogger=function(){var r,n=arguments[0].levels||e.config.npm.levels;for(var i in n)n.hasOwnProperty(i)&&(r=void 0===r||n[i]>n[r]?i:r);var a=s.apply(this,arguments);a.add(new t(e,{level:r}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),o.apply(this,arguments)},a};var a=e.configure;return e.configure=function(){a.apply(this,arguments),o.apply(this,arguments)},e.add(new t(e)),e}},e.winston2={versionSpecifier:"2.x",patch:function(e){var t,r=e.Logger.prototype.log,n=function(r,n,o){var s;return s=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",i.channel.publish("winston",{level:r,message:n,meta:o,levelKind:s}),n};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter((function(e){return e!==n})),this.filters.push(n)):this.filters=[n],r.apply(this,arguments)},e}},e.enable=function(){i.channel.registerMonkeyPatch("winston",e.winston2),i.channel.registerMonkeyPatch("winston",e.winston3)}})),qt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=Mt();e.azuresdk=t;var r=jt();e.bunyan=r;var n=Lt();e.console=n;var i=Ft();e.mongodbCore=i;var o=Vt();e.mongodb=o;var s=Bt();e.mysql=s;var a=Ut();e.pgPool=a;var c=Wt();e.pg=c;var u=$t();e.redis=u;var l=Ht();e.tedious=l;var h=Gt();e.winston=h,e.enable=function(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),u.enable(),h.enable(),t.enable(),l.enable()}})),zt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=m(),r=y();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n,i,o,s,a="DiagnosticChannel";if(e.IsInitialized){for(s in n=qt(),i=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),o={bunyan:n.bunyan,console:n.console,mongodb:n.mongodb,mongodbCore:n.mongodbCore,mysql:n.mysql,redis:n.redis,pg:n.pg,pgPool:n.pgPool,winston:n.winston,azuresdk:n.azuresdk})-1===i.indexOf(s)&&(o[s].enable(),r.info(a,"Subscribed to "+s+" events"));i.length>0&&r.info(a,"Some modules will not be patched",i)}else r.info(a,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");e.registerContextPreservation=function(r){if(e.IsInitialized){var n=E();n.channel.addContextPreservation(r),n.channel.spanContextPropagator=t.AsyncScopeManager}}})),Kt=f(((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}})),Yt=f(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=r(13685),o=r(95687),s=r(57310),a=r(22057),c=y(),u=Kt(),l=function(){function e(){}return e.getCookie=function(t,r){var n="";if(t&&t.length&&"string"==typeof r)for(var i=t+"=",o=r.split(";"),s=0;s<o.length;s++)if(r=o[s],(r=e.trim(r))&&0===r.indexOf(i)){n=r.substring(i.length,o[s].length);break}return n},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},r=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),n=(Buffer.from?Buffer.from(r,"binary"):new Buffer(r,"binary")).toString("base64");return n.substr(0,n.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=r[15&(t=e.random32())]+r[t>>4&15]+r[t>>8&15]+r[t>>12&15]+r[t>>16&15]+r[t>>20&15]+r[t>>24&15]+r[t>>28&15];var o=r[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(e/6e4)%60,n=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,r=r.length<2?"0"+r:r,(i>0?i+".":"")+(n=n.length<2?"0"+n:n)+":"+r+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var r={};for(var n in t){var i="",o=t[n],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===s)i="";else{if("function"===s){c.info("key: "+n+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+n+", could not be serialized")}}r[n]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return r}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var r=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!t)return!0;for(var n=0;n<r.length;n++)if(new RegExp(r[n].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var r=e.headers&&e.headers[u.requestContextHeader];if(r)for(var n=r.split(","),i=0;i<n.length;++i){var o=n[i].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,r,a,u){r&&0===r.indexOf("//")&&(r="https:"+r);var l=s.parse(r),h=n(n({},a),{host:l.hostname,port:l.port,path:l.pathname}),p=void 0;if("https:"===l.protocol&&(p=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(p=t.proxyHttpUrl||void 0),p){0===p.indexOf("//")&&(p="http:"+p);var d=s.parse(p);"https:"===d.protocol?(c.info("Proxies that use HTTPS are not supported"),p=void 0):h=n(n({},h),{host:d.hostname,port:d.port||"80",path:r,headers:n(n({},h.headers),{Host:l.hostname})})}var f="https:"===l.protocol&&!p;return f&&void 0!==t.httpsAgent?h.agent=t.httpsAgent:f||void 0===t.httpAgent?f&&(h.agent=e.tlsRestrictedAgent):h.agent=t.httpAgent,f?o.request(h,u):i.request(h,u)},e.safeIncludeCorrelationHeader=function(t,r,n){var i;if("string"==typeof n)i=n;else if(n instanceof Array)i=n.join(",");else if(n&&"function"==typeof n.toString)try{i=n.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,n)}i?e.addCorrelationIdHeaderFromString(t,r,i):r.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(e){var t=Object.prototype.toString.call(e);return t+("[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":JSON.stringify(e))},e.addCorrelationIdHeaderFromString=function(e,t,r){var n=r.split(","),i=u.requestContextSourceKey+"=";n.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(u.requestContextHeader,r+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({keepAlive:!0,maxSockets:25,secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();t.exports=l})),Xt=f(((e,t)=>{"use strict";var r=Yt(),n=y(),i=function(){function e(){}return e.queryCorrelationId=function(t,i){var o=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(o))i(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(i);else{e.pendingLookups[o]=[i];var s=function(){if(e.pendingLookups[o]){var i={method:"GET",disableAppInsightsAutoCollection:!0};n.info(e.TAG,i);var a=r.makeRequest(t,o,i,(function(r){if(200===r.statusCode){var i="";r.setEncoding("utf-8"),r.on("data",(function(e){i+=e})),r.on("end",(function(){n.info(e.TAG,i);var t=e.correlationIdPrefix+i;e.completedLookups[o]=t,e.pendingLookups[o]&&e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else r.statusCode>=400&&r.statusCode<500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){n.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,r){var n=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[n];i&&(e.pendingLookups[n]=i.filter((function(e){return e!=r})),0==e.pendingLookups[n].length&&delete e.pendingLookups[n])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var r="|"===e[0]?1:0;return e.substring(r,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,i){if(t.length+n.length<e.requestIdMaxLength)return t+n+i;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,o)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();t.exports=i})),Qt=f(((e,t)=>{"use strict";var r=Yt(),n=Xt(),i=function(){function e(t,i){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(i){this.parentId=i.slice();var a=n.getRootId(i);e.isValidTraceId(a)||(this.legacyRootId=a,a=r.w3cTraceId()),-1!==i.indexOf("|")&&(i=i.substring(1+i.substring(0,i.length-1).lastIndexOf("."),i.length-1)),this.traceId=a,this.spanId=i}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.formatOpenTelemetryTraceFlags=function(e){var t="0"+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();t.exports=i})),Jt=f(((e,t)=>{"use strict";var r=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var r=t[0].trim(),n=t[1].trim(),i=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var r=[],n={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length||!e.validateKeyChars(c[0])||n[c[0]])return null;n[c[0]]=!0,r.push(a)}}return r},e.strict=!0,e}();t.exports=r})),Zt=f(((e,t)=>{"use strict";t.exports=function(){}})),er=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),tr=f(((e,t)=>{"use strict";t.exports=function(){}})),rr=f(((e,t)=>{"use strict";t.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}})),nr=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){return e.call(this)||this}return n(t,e),t}(tr());t.exports=i})),ir=f(((e,t)=>{"use strict";var r,n;(n=r||(r={}))[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation",t.exports=r})),or=f(((e,t)=>{"use strict";var r=ir();t.exports=function(){this.kind=r.Measurement}})),sr=f(((e,t)=>{"use strict";t.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),ar=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),cr=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),ur=f(((e,t)=>{"use strict";t.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}})),lr=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return n(t,e),t}(Zt());t.exports=i})),hr=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return n(t,e),t}(Zt());t.exports=i})),pr=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(ar());t.exports=i})),dr=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),fr=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return n(t,e),t}(Zt());t.exports=i})),vr=f(((e,t)=>{"use strict";var r,n;(n=r||(r={}))[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical",t.exports=r})),yr=f(((e,t)=>{"use strict";t.exports=function(){}})),mr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=er(),e.Base=tr(),e.ContextTagKeys=rr(),e.Data=nr(),e.DataPoint=or(),e.DataPointType=ir(),e.Domain=Zt(),e.Envelope=sr(),e.EventData=ar(),e.ExceptionData=cr(),e.ExceptionDetails=ur(),e.MessageData=lr(),e.MetricData=hr(),e.PageViewData=pr(),e.RemoteDependencyData=dr(),e.RequestData=fr(),e.SeverityLevel=vr(),e.StackFrame=yr()})),gr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=mr(),r=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();e.RemoteDependencyDataConstants=r,e.domainSupportsProperties=function(e){return"properties"in e||e instanceof t.EventData||e instanceof t.ExceptionData||e instanceof t.MessageData||e instanceof t.MetricData||e instanceof t.PageViewData||e instanceof t.RemoteDependencyData||e instanceof t.RequestData}})),br=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),_r=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Er=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Sr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),wr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Tr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Pr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ir=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Or=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Cr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ar=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),xr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Rr=f((e=>{"use strict";var t,r;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0,e.telemetryTypeToBaseType=function(e){switch(e){case t.Event:return"EventData";case t.Exception:return"ExceptionData";case t.Trace:return"MessageData";case t.Metric:return"MetricData";case t.Request:return"RequestData";case t.Dependency:return"RemoteDependencyData";case t.Availability:return"AvailabilityData";case t.PageView:return"PageViewData"}},e.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return t.Event;case"ExceptionData":return t.Exception;case"MessageData":return t.Trace;case"MetricData":return t.Metric;case"RequestData":return t.Request;case"RemoteDependencyData":return t.Dependency;case"AvailabilityData":return t.Availability;case"PageViewData":return t.PageView}},e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},(r=t=e.TelemetryType||(e.TelemetryType={}))[r.Event=0]="Event",r[r.Exception=1]="Exception",r[r.Trace=2]="Trace",r[r.Metric=3]="Metric",r[r.Request=4]="Request",r[r.Dependency=5]="Dependency",r[r.Availability=6]="Availability",r[r.PageView=7]="PageView"})),Nr=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(br(),e),r(_r(),e),r(Er(),e),r(Sr(),e),r(wr(),e),r(Tr(),e),r(Pr(),e),r(Ir(),e),r(Or(),e),r(Cr(),e),r(Ar(),e),r(xr(),e),r(Rr(),e)})),kr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Dr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Mr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),jr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Lr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Fr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Vr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Br=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ur=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(kr(),e),r(Dr(),e),r(Mr(),e),r(jr(),e),r(Lr(),e),r(Fr(),e),r(Vr(),e),r(Br(),e)})),Wr=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(gr(),e),r(mr(),e),r(Nr(),e),r(Ur(),e)})),$r=f(((e,t)=>{"use strict";var r=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var n=this.properties||{};if(t)if("string"==typeof t)n.error=t;else if(t instanceof Error)n.error=t.message;else if("object"==typeof t)for(var i in t)n[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=n},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();t.exports=r})),Hr=f(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r(57310),s=Wr(),a=Yt(),c=Kt(),u=$r(),l=Xt(),h=Jt(),p=Qt(),d=function(e){function t(t,r){var n=e.call(this)||this;return t&&(n.method=t.method,n.url=n._getAbsoluteUrl(t),n.startTime=+new Date,n.socketRemoteAddress=t.socket&&t.socket.remoteAddress,n.parseHeaders(t,r),t.connection&&(n.connectionRemoteAddress=t.connection.remoteAddress,n.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),n}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&&e.time?t.time=e.time:this.startTime&&(t.time=new Date(this.startTime)),e){for(var r in e)t[r]||(t[r]=e[r]);if(e.properties)for(var r in e.properties)t.properties[r]=e.properties[r]}return t},t.prototype.getRequestTags=function(e){var r={};for(var n in e)r[n]=e[n];return r[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(e),r[t.keys.operationParentId]=this.getOperationParentId(e),r[t.keys.operationId]=this.getOperationId(e),r},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,r=o.parse(e.url),n=r.pathname,i=r.search,s=t||"https"==e.headers["x-forwarded-proto"]?"https":"http";return o.format({protocol:s,host:e.headers.host,pathname:n,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(r="127.0.0.1"),r},t.prototype._getId=function(e){var r=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,r))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var r=e.headers[c.traceStateHeader]?e.headers[c.traceStateHeader].toString():null,n=e.headers[c.traceparentHeader]?e.headers[c.traceparentHeader].toString():null,i=e.headers[c.requestIdHeader]?e.headers[c.requestIdHeader].toString():null,o=e.headers[c.parentIdHeader]?e.headers[c.parentIdHeader].toString():null,s=e.headers[c.rootIdHeader]?e.headers[c.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[c.correlationContextHeader]?e.headers[c.correlationContextHeader].toString():null,l.w3cEnabled&&(n||r)?(this.traceparent=new p(n?n.toString():null),this.tracestate=n&&r&&new h(r?r.toString():null),this.setBackCompatFromThisTraceContext()):i?l.w3cEnabled?(this.traceparent=new p(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new p,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=l.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(u);t.exports=d})),Gr=f(((e,t)=>{var r;e=t.exports=q,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var h=s++;o[h]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var v=s++;o[v]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var y=s++;o[y]="[0-9A-Za-z-]+";var m=s++;o[m]="(?:\\+("+o[y]+"(?:\\."+o[y]+")*))";var g=s++,b="v?"+o[l]+o[f]+"?"+o[m]+"?";o[g]="^"+b+"$";var _="[v=\\s]*"+o[h]+o[v]+"?"+o[m]+"?",E=s++;o[E]="^"+_+"$";var S=s++;o[S]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var T=s++;o[T]=o[a]+"|x|X|\\*";var P=s++;o[P]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[f]+")?"+o[m]+"?)?)?";var I=s++;o[I]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[v]+")?"+o[m]+"?)?)?";var O=s++;o[O]="^"+o[S]+"\\s*"+o[P]+"$";var C=s++;o[C]="^"+o[S]+"\\s*"+o[I]+"$";var A=s++;o[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;o[x]="(?:~>?)";var R=s++;o[R]="(\\s*)"+o[x]+"\\s+",i[R]=new RegExp(o[R],"g");var N=s++;o[N]="^"+o[x]+o[P]+"$";var k=s++;o[k]="^"+o[x]+o[I]+"$";var D=s++;o[D]="(?:\\^)";var M=s++;o[M]="(\\s*)"+o[D]+"\\s+",i[M]=new RegExp(o[M],"g");var j=s++;o[j]="^"+o[D]+o[P]+"$";var L=s++;o[L]="^"+o[D]+o[I]+"$";var F=s++;o[F]="^"+o[S]+"\\s*("+_+")$|^$";var V=s++;o[V]="^"+o[S]+"\\s*("+b+")$|^$";var B=s++;o[B]="(\\s*)"+o[S]+"\\s*("+_+"|"+o[P]+")",i[B]=new RegExp(o[B],"g");var U=s++;o[U]="^\\s*("+o[P]+")\\s+-\\s+("+o[P]+")\\s*$";var W=s++;o[W]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var $,H=s++;for(o[H]="(<|>)?=?\\s*\\*",$=0;$<35;$++)r($,o[$]),i[$]||(i[$]=new RegExp(o[$]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof q)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?i[E]:i[g]).test(e))return null;try{return new q(e,t)}catch(e){return null}}function q(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof q))return new q(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[E]:i[g]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var r=G(e,t);return r?r.version:null},e.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=q,q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof q||(e=new q(e,this.options)),this.compareMain(e)||this.comparePre(e)},q.prototype.compareMain=function(e){return e instanceof q||(e=new q(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},q.prototype.comparePre=function(e){if(e instanceof q||(e=new q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return K(n,i)}while(++t)},q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new q(e,r).inc(t,n).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var r=G(e),n=G(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Y(e,t,r){return new q(e,r).compare(new q(t,r))}function X(e,t,r){return Y(e,t,r)>0}function Q(e,t,r){return Y(e,t,r)<0}function J(e,t,r){return 0===Y(e,t,r)}function Z(e,t,r){return 0!==Y(e,t,r)}function ee(e,t,r){return Y(e,t,r)>=0}function te(e,t,r){return Y(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new q(e,t).major},e.minor=function(e,t){return new q(e,t).minor},e.patch=function(e,t){return new q(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,r){return Y(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=X,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var ie={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,l,h,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,o,s,a,c;switch(e=new q(e,n),t=new oe(t,n),r){case">":i=X,o=te,s=Q,a=">",c=">=";break;case"<":i=Q,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),h=h||e,p=p||e,i(e.semver,h.semver,n)?h=e:s(e.semver,p.semver,n)&&(p=e)})),h.operator===a||h.operator===c||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[F]:i[V],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new q(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new q(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[W]:i[U];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[B],"$1$2$3"),r("comparator trim",e,i[B]),e=(e=(e=e.replace(i[R],"$1~")).replace(i[M],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[V],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[L]:i[j];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[k]:i[N];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[C]:i[O];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new q(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!n||-1===i.compare(e))&&(i=new q(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!n||1===i.compare(e))&&(i=new q(n=e,r))})),n},e.minVersion=function(e,t){e=new oe(e,t);var r=new q("0.0.0");if(e.test(r)||(r=new q("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||X(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,r){return le(e,t,"<",r)},e.gtr=function(e,t,r){return le(e,t,">",r)},e.outside=le,e.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof q)return e;if("string"!=typeof e)return null;var t=e.match(i[A]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),qr=f(((e,t)=>{"use strict";function r(e){return"function"==typeof e}var n=console.error.bind(console);function i(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function o(e){e&&e.logger&&(r(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function s(e,t,o){if(e&&e[t]){if(!o)return n("no wrapper function"),void n((new Error).stack);if(r(e[t])&&r(o)){var s=e[t],a=o(s,t);return i(a,"__original",s),i(a,"__unwrap",(function(){e[t]===a&&i(e,t,s)})),i(a,"__wrapped",!0),i(e,t,a),a}n("original object and wrapper must be functions")}else n("no original function "+t+" to wrap")}function a(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}o.wrap=s,o.massWrap=function(e,t,r){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,r)}))})):n("must provide one or more functions to wrap on modules")},o.unwrap=a,o.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t)}))})):n("must provide one or more functions to unwrap on modules")},t.exports=o})),zr=f(((e,t)=>{"use strict";var r=qr(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function a(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r=r?[r]:[]),r}function c(e,t){if(e){var r=e;if("function"==typeof e)r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}t.exports=function(e,t,r){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function u(e){return function(t,r){var i=a(this,t).slice();try{var s=e.call(this,t,r);return function(e,t,r){var n=a(e,t).filter((function(e){return-1===r.indexOf(e)}));n.length>0&&function(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n],s=e[o];if("function"==typeof s)s(i);else if(Array.isArray(s))for(var a=s.length,c=0;c<a;c++)s[c](i)}}(e,n)}(this,t,i),s}finally{this.on.__wrapped||n(this,"on",u),this.addListener.__wrapped||n(this,"addListener",u)}}}e[o]?"function"==typeof e[o]?s(e,o,[e[o],t]):Array.isArray(e[o])&&e[o].push(t):s(e,o,t),e.__wrapped||(n(e,"addListener",u),n(e,"on",u),n(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var o=this._events[t];function s(e){return function(){this._events[t]=o;try{return e.apply(this,arguments)}finally{o=this._events[t],this._events[t]=c(o,r)}}}n(this,"removeListener",s);try{return this._events[t]=c(o,r),e.apply(this,arguments)}finally{i(this,"removeListener"),this._events[t]=o}}})),s(e,"__unwrap",(function(){i(e,"addListener"),i(e,"on"),i(e,"emit"),delete e[o],delete e.__wrapped})),s(e,"__wrapped",!0))}})),Kr=f(((e,t)=>{"use strict";var n=r(73837),i=r(39491),o=zr(),s=r(50852),a="cls@contexts",c="error@context",u=process.env.DEBUG_CLS_HOOKED,l=-1;function h(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function p(e){return process.namespaces[e]}function d(e){let t=p(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function f(...e){u&&process._rawDebug(`${n.format(...e)}`)}t.exports={getNamespace:p,createNamespace:function(e){i.ok(e,"namespace must be given a name."),u&&f(`NS-CREATING NAMESPACE (${e})`);let t=new h(e);return t.id=l,s.createHook({init(r,i,o,a){if(l=s.executionAsyncId(),t.active)t._contexts.set(r,t.active),u&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${i}] (${e}) asyncId:${r} currentUid:${l} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`);else if(0===l){let o=s.triggerAsyncId(),c=t._contexts.get(o);c?(t._contexts.set(r,c),u&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${r} currentUid:${l} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)):u&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${r} currentUid:${l} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}if(u&&"PROMISE"===i){f(n.inspect(a,{showHidden:!0}));let s=a.parentId;f(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${r} currentUid:${l} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(r){let i;if(l=s.executionAsyncId(),i=t._contexts.get(r)||t._contexts.get(l),i){if(u){let o=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${r} currentUid:${l} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(i)}`),t._indent+=2}t.enter(i)}else if(u){let i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${l} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${n.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(r){let i;if(l=s.executionAsyncId(),i=t._contexts.get(r)||t._contexts.get(l),i){if(u){let o=s.triggerAsyncId();t._indent-=2,f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${r} currentUid:${l} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(i)}`)}t.exit(i)}else if(u){let o=s.triggerAsyncId();t._indent-=2,f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${l} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(i)}`)}},destroy(r){if(l=s.executionAsyncId(),u){let i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${l} asyncId:${r} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(t._contexts.get(l))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:d,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){d(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},h.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,u&&f(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+l+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},h.prototype.get=function(e){if(this.active){if(u){let t=s.executionAsyncId(),r=s.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);f(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+l+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),f(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${l} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} active:${n.inspect(this.active)}`)}return this.active[e]}if(u){let t=s.currentId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${l} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length}`)}},h.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=l,u){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} context:${n.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},h.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(u){let e=s.triggerAsyncId(),r=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} context:${n.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[c]=t),e}finally{if(u){let e=s.triggerAsyncId(),r=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} ${n.inspect(t)}`)}this.exit(t)}},h.prototype.runAndReturn=function(e){let t;return this.run((function(r){t=e(r)})),t},h.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return u&&f("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(u&&f("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,u&&f("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},h.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{r.exit(t)}}},h.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),u){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}this._set.push(this.active),this.active=e},h.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),u){let t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(u&&f("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},h.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,r=e[a];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},h.prototype.fromException=function(e){return e[c]},process.namespaces={}})),Yr=f(((e,t)=>{"use strict";function r(){}t.exports=function(){let e=this._hooks,t=this._state,n=process.nextTick;process.nextTick=function(){if(!t.enabled)return n.apply(process,arguments);let i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];let o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");let s=new r,a=--t.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},n.apply(process,i)}}})),Xr=f(((e,t)=>{"use strict";function r(){}t.exports=function(){let e=this._hooks,t=this._state,n=global.Promise,i=n.prototype.then;function o(t,r,n,i){return"function"!=typeof t?i?function(t){return function(r){return e.destroy.call(null,t),r}}(n):function(t){return function(r){throw e.destroy.call(null,t),r}}(n):function(){e.pre.call(r,n);try{return t.apply(this,arguments)}finally{e.post.call(r,n,!1),e.destroy.call(null,n)}}}n.prototype.then=function(n,s){if(!t.enabled)return i.call(this,n,s);let a=new r,c=--t.counter;return e.init.call(a,c,0,null,null),i.call(this,o(n,a,c,!0),o(s,a,c,!1))}}})),Qr=f(((e,t)=>{"use strict";var n=r(39512);function i(){}function o(){}function s(){}var a=new Map,c=new Map,u=new Map,l=null,h=!1;function p(e,t,r,i,o,s,a){let c=n[r],u=n[i];n[r]=function(){if(!t.enabled)return c.apply(n,arguments);let r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];let i=r[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');let u,p=new o,d=--t.counter;return e.init.call(p,d,0,null,null),r[0]=function(){l=u,e.pre.call(p,d);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(p,d,!0),s.delete(u),e.destroy.call(null,d)}))}e.post.call(p,d,!1),l=null,(a||h)&&(h=!1,s.delete(u),e.destroy.call(null,d))},u=c.apply(n,r),s.set(u,d),u},n[i]=function(t){if(l===t&&null!==t)h=!0;else if(s.has(t)){let r=s.get(t);s.delete(t),e.destroy.call(null,r)}u.apply(n,arguments)}}t.exports=function(){p(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),p(this._hooks,this._state,"setInterval","clearInterval",o,c,!1),p(this._hooks,this._state,"setImmediate","clearImmediate",s,u,!0),global.setTimeout=n.setTimeout,global.setInterval=n.setInterval,global.setImmediate=n.setImmediate,global.clearTimeout=n.clearTimeout,global.clearInterval=n.clearInterval,global.clearImmediate=n.clearImmediate}})),Jr=f(((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}})),Zr=f(((e,t)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:Yr(),promise:Xr(),timers:Qr()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],i=this.destroyFns=[];this.init=function(t,r,i,s){if(r!==n)for(let n of e)n(t,this,r,i,s);else o.add(t)},this.pre=function(e){if(!o.has(e))for(let r of t)r(e,this)},this.post=function(e,t){if(!o.has(e))for(let n of r)n(e,this,t)},this.destroy=function(e){if(o.has(e))o.delete(e);else for(let t of i)t(e)}}function c(e,t){let r=e.indexOf(t);-1!==r&&e.splice(r,1)}function u(){this._state=new s,this._hooks=new a,this.version=Jr().version,this.providers=r.Providers;for(let e of Object.keys(i))i[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}a.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},a.prototype.remove=function(e){e.init&&c(this.initFns,e.init),e.pre&&c(this.preFns,e.pre),e.post&&c(this.postFns,e.post),e.destroy&&c(this.destroyFns,e.destroy)},t.exports=u,u.prototype.addHooks=function(e){this._hooks.add(e)},u.prototype.removeHooks=function(e){this._hooks.remove(e)},u.prototype.enable=function(){this._state.enabled=!0,r.enable()},u.prototype.disable=function(){this._state.enabled=!1,r.disable()}})),en=f(((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}})),tn=f(((e,t)=>{t.exports=function(e,t){var r=[];r.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var n=0;n<t.length;n++){var i,o=t[n];try{i=o.toString()}catch(e){try{i="<error: "+e+">"}catch(e){i="<error>"}}r.push("    at "+i)}return r.join("\n")}})),rn=f(((e,t)=>{var r=tn();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=en().version}var i=!1;n.prototype.callSite=function e(t){t||(t={}),i=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return i=!1,n=n.slice(t.slice||0),t.extend&&(n=this.extend._modify(r,n)),t.filter&&(n=this.filter._modify(r,n)),n};var o=new n;function s(){this._modifiers=[]}function a(){this._formater=r,this._previous=void 0}s.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r<n;r++)t=this._modifiers[r](e,t);return t},s.prototype.attach=function(e){this._modifiers.push(e)},s.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},a.prototype.replace=function(e){e?this._formater=e:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function u(e,t){if(i)return t;if(c)return r(e,t);var n=t.concat();n=o.extend._modify(e,n),n=(n=o.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:n}),c=!0;var s=o.format._formater(e,n);return c=!1,s}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(e){e===u?o.format._roolback():(o.format._backup(),o.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),t.exports=o})),nn=f(((e,t)=>{if(global._stackChain){if(global._stackChain.version!==en().version)throw new Error("Conflicting version of stack-chain found");t.exports=global._stackChain}else t.exports=global._stackChain=rn()})),on=f(((e,t)=>{"use strict";var r=Zr();if(global._asyncHook){if(global._asyncHook.version!==Jr().version)throw new Error("Conflicting version of async-hook-jl found");t.exports=global._asyncHook}else nn().filter.attach((function(e,t){return t.filter((function(e){let t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),t.exports=global._asyncHook=new r})),sn=f(((e,t)=>{"use strict";var n=r(73837),i=r(39491),o=zr(),s=on(),a="cls@contexts",c="error@context",u=[];for(let e in s.providers)u[s.providers[e]]=e;var l,h,p=process.env.DEBUG_CLS_HOOKED,d=-1;function f(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function v(e){return process.namespaces[e]}function y(e){let t=v(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function m(e){process.env.DEBUG&&process._rawDebug(e)}function g(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(t.exports={getNamespace:v,createNamespace:function(e){i.ok(e,"namespace must be given a name."),p&&m("CREATING NAMESPACE "+e);let t=new f(e);return t.id=d,s.addHooks({init(r,i,o,s,a){d=r,s?(t._contexts.set(r,t._contexts.get(s)),p&&m("PARENTID: "+e+" uid:"+r+" parent:"+s+" provider:"+o)):t._contexts.set(d,t.active),p&&m("INIT "+e+" uid:"+r+" parent:"+s+" provider:"+u[o]+" active:"+n.inspect(t.active,!0))},pre(r,i){d=r;let o=t._contexts.get(r);o?(p&&m(" PRE "+e+" uid:"+r+" handle:"+g(i)+" context:"+n.inspect(o)),t.enter(o)):p&&m(" PRE MISSING CONTEXT "+e+" uid:"+r+" handle:"+g(i))},post(r,i){d=r;let o=t._contexts.get(r);o?(p&&m(" POST "+e+" uid:"+r+" handle:"+g(i)+" context:"+n.inspect(o)),t.exit(o)):p&&m(" POST MISSING CONTEXT "+e+" uid:"+r+" handle:"+g(i))},destroy(r){d=r,p&&m("DESTROY "+e+" uid:"+r+" context:"+n.inspect(t._contexts.get(d))+" active:"+n.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t},destroyNamespace:y,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){y(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},f.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return p&&m("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+d+" active:"+n.inspect(this.active,!0)),this.active[e]=t,t},f.prototype.get=function(e){if(this.active)return p&&m("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+d+" active:"+n.inspect(this.active,!0)),this.active[e];p&&m("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+d+" active:"+n.inspect(this.active,!0))},f.prototype.createContext=function(){p&&m("   CREATING Context: "+this.name+" uid:"+d+" len:"+this._set.length+"  active:"+n.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=d,p&&m("   CREATED Context: "+this.name+" uid:"+d+" len:"+this._set.length+"  context:"+n.inspect(e,!0,2,!0)),e},f.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return p&&m(" BEFORE RUN: "+this.name+" uid:"+d+" len:"+this._set.length+" "+n.inspect(t)),e(t),t}catch(e){throw e&&(e[c]=t),e}finally{p&&m(" AFTER RUN: "+this.name+" uid:"+d+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t)}},f.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},f.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return p&&m(" BEFORE runPromise: "+this.name+" uid:"+d+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(p&&m(" AFTER runPromise: "+this.name+" uid:"+d+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,p&&m(" AFTER runPromise: "+this.name+" uid:"+d+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},f.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{r.exit(t)}}},f.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),p&&m("  ENTER "+this.name+" uid:"+d+" len:"+this._set.length+" context: "+n.inspect(e)),this._set.push(this.active),this.active=e},f.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),p&&m("  EXIT "+this.name+" uid:"+d+" len:"+this._set.length+" context: "+n.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(p&&m("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},f.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,r=e[a];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},f.prototype.fromException=function(e){return e[c]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),p)for(h in(l=nn()).filter._modifiers)l.filter.deattach(h)})),an=f(((e,t)=>{"use strict";var r=Gr();process&&r.gte(process.versions.node,"8.0.0")?t.exports=Kr():t.exports=sn()})),cn=f(((e,t)=>{var r;e=t.exports=q,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var h=s++;o[h]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var v=s++;o[v]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var y=s++;o[y]="[0-9A-Za-z-]+";var m=s++;o[m]="(?:\\+("+o[y]+"(?:\\."+o[y]+")*))";var g=s++,b="v?"+o[l]+o[f]+"?"+o[m]+"?";o[g]="^"+b+"$";var _="[v=\\s]*"+o[h]+o[v]+"?"+o[m]+"?",E=s++;o[E]="^"+_+"$";var S=s++;o[S]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var T=s++;o[T]=o[a]+"|x|X|\\*";var P=s++;o[P]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[f]+")?"+o[m]+"?)?)?";var I=s++;o[I]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[v]+")?"+o[m]+"?)?)?";var O=s++;o[O]="^"+o[S]+"\\s*"+o[P]+"$";var C=s++;o[C]="^"+o[S]+"\\s*"+o[I]+"$";var A=s++;o[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;o[x]="(?:~>?)";var R=s++;o[R]="(\\s*)"+o[x]+"\\s+",i[R]=new RegExp(o[R],"g");var N=s++;o[N]="^"+o[x]+o[P]+"$";var k=s++;o[k]="^"+o[x]+o[I]+"$";var D=s++;o[D]="(?:\\^)";var M=s++;o[M]="(\\s*)"+o[D]+"\\s+",i[M]=new RegExp(o[M],"g");var j=s++;o[j]="^"+o[D]+o[P]+"$";var L=s++;o[L]="^"+o[D]+o[I]+"$";var F=s++;o[F]="^"+o[S]+"\\s*("+_+")$|^$";var V=s++;o[V]="^"+o[S]+"\\s*("+b+")$|^$";var B=s++;o[B]="(\\s*)"+o[S]+"\\s*("+_+"|"+o[P]+")",i[B]=new RegExp(o[B],"g");var U=s++;o[U]="^\\s*("+o[P]+")\\s+-\\s+("+o[P]+")\\s*$";var W=s++;o[W]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var $,H=s++;for(o[H]="(<|>)?=?\\s*\\*",$=0;$<35;$++)r($,o[$]),i[$]||(i[$]=new RegExp(o[$]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof q)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?i[E]:i[g]).test(e))return null;try{return new q(e,t)}catch(e){return null}}function q(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof q))return new q(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[E]:i[g]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var r=G(e,t);return r?r.version:null},e.clean=function(e,t){var r=G(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},e.SemVer=q,q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof q||(e=new q(e,this.options)),this.compareMain(e)||this.comparePre(e)},q.prototype.compareMain=function(e){return e instanceof q||(e=new q(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},q.prototype.comparePre=function(e){if(e instanceof q||(e=new q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return K(n,i)}while(++t)},q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new q(e,r).inc(t,n).version}catch(e){return null}},e.diff=function(e,t){if(J(e,t))return null;var r=G(e),n=G(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},e.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var r=z.test(e),n=z.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Y(e,t,r){return new q(e,r).compare(new q(t,r))}function X(e,t,r){return Y(e,t,r)>0}function Q(e,t,r){return Y(e,t,r)<0}function J(e,t,r){return 0===Y(e,t,r)}function Z(e,t,r){return 0!==Y(e,t,r)}function ee(e,t,r){return Y(e,t,r)>=0}function te(e,t,r){return Y(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new q(e,t).major},e.minor=function(e,t){return new q(e,t).minor},e.patch=function(e,t){return new q(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,r){return Y(t,e,r)},e.sort=function(t,r){return t.sort((function(t,n){return e.compare(t,n,r)}))},e.rsort=function(t,r){return t.sort((function(t,n){return e.rcompare(t,n,r)}))},e.gt=X,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=re,e.Comparator=ne;var ie={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,l,h,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,o,s,a,c;switch(e=new q(e,n),t=new oe(t,n),r){case">":i=X,o=te,s=Q,a=">",c=">=";break;case"<":i=Q,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),h=h||e,p=p||e,i(e.semver,h.semver,n)?h=e:s(e.semver,p.semver,n)&&(p=e)})),h.operator===a||h.operator===c||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[F]:i[V],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new q(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new q(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[W]:i[U];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[B],"$1$2$3"),r("comparator trim",e,i[B]),e=(e=(e=e.replace(i[R],"$1~")).replace(i[M],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[V],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[L]:i[j];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[k]:i[N];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[C]:i[O];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new q(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!n||-1===i.compare(e))&&(i=new q(n=e,r))})),n},e.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!n||1===i.compare(e))&&(i=new q(n=e,r))})),n},e.minVersion=function(e,t){e=new oe(e,t);var r=new q("0.0.0");if(e.test(r)||(r=new q("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||X(r,t))&&(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,r){return le(e,t,"<",r)},e.gtr=function(e,t,r){return le(e,t,">",r)},e.outside=le,e.prerelease=function(e,t){var r=G(e,t);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},e.coerce=function(e){if(e instanceof q)return e;if("string"!=typeof e)return null;var t=e.match(i[A]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),un=f(((e,t)=>{var r,n,i,o,s,a=qr().wrap,c=[],u=0,l=!1,h=[];function p(e,t){var r=e.length,n=t.length,i=[];if(0===r&&0===n)return i;for(var o=0;o<r;o++)i[o]=e[o];if(0===n)return i;for(var s=0;s<n;s++){var a=!0;for(o=0;o<r;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}function d(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++u,this.data=void 0===t?null:t}function f(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof d?e:new d(e,t)}process._fatalException?(i=!1,r=function(e){var t=c.length;if(i||0===t)return!1;var r=!1;i=!0;for(var n=0;n<t;++n){var s=c[n];if(0!=(8&s.flags)){var a=o&&o[s.uid];r=s.error(a,e)||r}}return i=!1,h.length>0&&(c=h.pop()),o=void 0,r&&!l},n=function(e,t,r){var n=[];l=!0;for(var i=0;i<r;++i){var s=t[i];if(n[s.uid]=s.data,0!=(1&s.flags)){var a=s.create(s.data);void 0!==a&&(n[s.uid]=a)}}return l=!1,function(){o=n,h.push(c),c=p(t,c),l=!0;for(var i=0;i<r;++i)(2&t[i].flags)>0&&t[i].before(this,n[t[i].uid]);l=!1;var s=e.apply(this,arguments);for(l=!0,i=0;i<r;++i)(4&t[i].flags)>0&&t[i].after(this,n[t[i].uid]);return l=!1,c=h.pop(),o=void 0,s}},a(process,"_fatalException",(function(e){return function(t){return r(t)||e(t)}}))):(s=!1,r=function(e){if(s)throw e;for(var t=!1,r=c.length,n=0;n<r;++n){var i=c[n];0!=(8&i.flags)&&(t=i.error(null,e)||t)}if(!t&&l)throw e},n=function(e,t,n){var i=[];l=!0;for(var o=0;o<n;++o){var a=t[o];if(i[a.uid]=a.data,0!=(1&a.flags)){var u=a.create(a.data);void 0!==u&&(i[a.uid]=u)}}return l=!1,function(){var o,a=!1,u=!1;h.push(c),c=p(t,c),l=!0;for(var d=0;d<n;++d)(2&t[d].flags)>0&&t[d].before(this,i[t[d].uid]);l=!1;try{o=e.apply(this,arguments)}catch(e){for(a=!0,d=0;d<n;++d)if(0!=(8&c[d].flags))try{u=c[d].error(i[t[d].uid],e)||u}catch(e){throw s=!0,e}if(!u)throw process.removeListener("uncaughtException",r),process._originalNextTick((function(){process.addListener("uncaughtException",r)})),e}finally{if(!a||u){for(l=!0,d=0;d<n;++d)(4&t[d].flags)>0&&t[d].after(this,i[t[d].uid]);l=!1}c=h.pop()}return o}},process.addListener("uncaughtException",r)),d.prototype.create=void 0,d.prototype.before=void 0,d.prototype.after=void 0,d.prototype.error=void 0,d.prototype.data=void 0,d.prototype.uid=0,d.prototype.flags=0,process.createAsyncListener=f,process.addAsyncListener=function(e,t){var r;r=e instanceof d?e:f(e,t);for(var n=!1,i=0;i<c.length;i++)if(r===c[i]){n=!0;break}return n||c.push(r),r},process.removeAsyncListener=function(e){for(var t=0;t<c.length;t++)if(e===c[t]){c.splice(t,1);break}},t.exports=function(e){var t=c.length;if(0===t)return e;for(var r=c.slice(),i=0;i<t;++i)if(r[i].flags>0)return n(e,r,t);return function(e,t,r){l=!0;for(var n=0;n<r;++n){var i=t[n];i.create&&i.create(i.data)}return l=!1,function(){h.push(c),c=p(t,c);var r=e.apply(this,arguments);return c=h.pop(),r}}(e,r,t)}})),ln=f(((e,t)=>{"use strict";t.exports=(e,t)=>class extends e{constructor(e){var r,n;super((function(e,o){r=this,n=[function(r){return t(i,!1),e(r)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(r,n)}catch(e){n[1](e)}return i}}})),hn=f((()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=qr(),t=cn(),n=e.wrap,i=e.massWrap,o=un(),s=r(73837),a=t.gte(process.version,"6.0.0"),c=t.gte(process.version,"7.0.0"),u=t.gte(process.version,"8.0.0"),l=t.gte(process.version,"11.0.0"),h=r(41808);function p(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=o(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=o(this._handle.onconnection))}}}function d(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=o(t._originalOnread)}}c&&!h._normalizeArgs?h._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],r={};"object"==typeof t&&null!==t?r=t:function(e){return"string"==typeof e&&!1===function(e){return(e=Number(e))>=0&&e}(e)}(t)?r.path=t:(r.port=t,e.length>1&&"string"==typeof e[1]&&(r.host=e[1]));var n=e[e.length-1];return"function"!=typeof n?[r,null]:[r,n]}:!c&&!h._normalizeConnectArgs&&(h._normalizeConnectArgs=function(e){var t,r={};"object"==typeof e[0]&&null!==e[0]?r=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?r.path=e[0]:(r.port=e[0],"string"==typeof e[1]&&(r.host=e[1]));var n=e[e.length-1];return"function"==typeof n?[r,n]:[r]}),"_setUpListenHandle"in h.Server.prototype?n(h.Server.prototype,"_setUpListenHandle",p):n(h.Server.prototype,"_listen2",p),n(h.Socket.prototype,"connect",(function(e){return function(){var t;(t=u&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:c?h._normalizeArgs(arguments):h._normalizeConnectArgs(arguments))[1]&&(t[1]=o(t[1]));var r=e.apply(this,t);return d(this),r}}));var f=r(13685);n(f.Agent.prototype,"addRequest",(function(e){return function(t){var r=t.onSocket;return t.onSocket=o((function(e){return d(e),r.apply(this,arguments)})),e.apply(this,arguments)}}));var v=r(32081);function y(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=o(e._handle.onread),n(e._handle,"close",x))})),e._handle&&(e._handle.onexit=o(e._handle.onexit))}v.ChildProcess?n(v.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return y(this),t}})):i(v,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return y(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var m=[];process._nextDomainTick&&m.push("_nextDomainTick"),process._tickDomainCallback&&m.push("_tickDomainCallback"),i(process,m,A),n(process,"nextTick",x);var g=["setTimeout","setInterval"];global.setImmediate&&g.push("setImmediate");var b=r(39512),_=global.setTimeout===b.setTimeout;i(b,g,x),_&&i(global,g,x);var E=r(9523);i(E,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],A),E.resolveNaptr&&n(E,"resolveNaptr",A);var S,w,T,P=r(57147);i(P,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],A),P.lchown&&n(P,"lchown",A),P.lchmod&&n(P,"lchmod",A),P.ftruncate&&n(P,"ftruncate",A);try{S=r(59796)}catch(e){}S&&S.Deflate&&S.Deflate.prototype&&((w=Object.getPrototypeOf(S.Deflate.prototype))._transform?n(w,"_transform",A):w.write&&w.flush&&w.end&&i(w,["write","flush","end"],A));try{T=r(6113)}catch(e){}T&&(I=["pbkdf2","randomBytes"],l||I.push("pseudoRandomBytes"),i(T,I,A));var I,O,C=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();function A(e){var t=function(){var t,r=arguments.length-1;if("function"==typeof arguments[r]){t=Array(arguments.length);for(var n=0;n<arguments.length-1;n++)t[n]=arguments[n];t[r]=o(arguments[r])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,r,n))};case 3:return function(r,n,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=o(i)),e.call(this,r,n,i))};case 4:return function(r,n,i,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=o(s)),e.call(this,r,n,i,s))};case 5:return function(r,n,i,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof a&&(a=o(a)),e.call(this,r,n,i,s,a))};case 6:return function(r,n,i,s,a,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=o(c)),e.call(this,r,n,i,s,a,c))};default:return t}}function x(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=o(arguments[0]);for(var r=1;r<arguments.length;r++)t[r]=arguments[r]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,r,n))};case 3:return function(r,n,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,r,n,i))};case 4:return function(r,n,i,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,r,n,i,s))};case 5:return function(r,n,i,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,r,n,i,s,a))};case 6:return function(r,n,i,s,a,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,r,n,i,s,a,c))};default:return t}}C&&(O=process.addAsyncListener({create:function(){C=!1}}),global.Promise.resolve(!0).then((function(){C=!1})),process.removeAsyncListener(O)),C&&function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if("function"!=typeof n)return new e(n);var i,o,s=new e((function(e,t){i=this,o=[function(t){return r(s,!1),e(t)},function(e){return r(s,!1),t(e)}]}));s.__proto__=t.prototype;try{n.apply(i,o)}catch(e){o[1](e)}return s}function r(e,t){(!e.__asl_wrapper||t)&&(e.__asl_wrapper=o(i))}function i(t,n,o,s){var a;try{return{returnVal:a=n.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||i;return e.apply(this,arguments)}:r(s,!0)}}function c(e){return function(){var t=this,r=e.apply(t,Array.prototype.map.call(arguments,n));return r.__asl_wrapper=function(e,n,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,r),r.__asl_wrapper(e,n,o,s)):i(e,n,o,s)},r;function n(e){return"function"!=typeof e?e:o((function(n){var o=(t.__asl_wrapper||i)(this,e,n,r);if(o.error)throw o.errorVal;return o.returnVal}))}}}s.inherits(t,e),n(e.prototype,"then",c),e.prototype.chain&&n(e.prototype,"chain",c),a?global.Promise=ln()(e,r):(["all","race","reject","resolve","accept","defer"].forEach((function(r){"function"==typeof e[r]&&(t[r]=e[r])})),global.Promise=t)}()})),pn=f(((e,t)=>{"use strict";var n=r(39491),i=zr(),o="cls@contexts",s="error@context";function a(e){this.name=e,this.active=null,this._set=[],this.id=null}function c(e){return process.namespaces[e]}function u(e){var t=c(e);n.ok(t,"can't delete nonexistent namespace!"),n.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function l(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){u(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||hn(),a.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},a.prototype.get=function(e){if(this.active)return this.active[e]},a.prototype.createContext=function(){return Object.create(this.active)},a.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[s]=t),e}finally{this.exit(t)}},a.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},a.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[s]=t),e}finally{r.exit(t)}}},a.prototype.enter=function(e){n.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},a.prototype.exit=function(e){if(n.ok(e,"context must be provided for exiting"),this.active===e)return n.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);n.ok(t>=0,"context not currently entered; can't exit"),n.ok(t,"can't remove top context"),this._set.splice(t,1)},a.prototype.bindEmitter=function(e){n.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,r="context@"+this.name;i(e,(function(e){!e||(e[o]||(e[o]=Object.create(null)),e[o][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e[o])return e;var t=e,r=e[o];return Object.keys(r).forEach((function(e){var n=r[e];t=n.namespace.bind(t,n.context)})),t}))},a.prototype.fromException=function(e){return e[s]},process.namespaces||l(),t.exports={getNamespace:c,createNamespace:function(e){n.ok(e,"namespace must be given a name!");var t=new a(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,r){r&&t.enter(r)},after:function(e,r){r&&t.exit(r)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:u,reset:l}})),dn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=y(),r=zt(),n=Qt(),i=Jt(),o=Hr(),s=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,r,n,i,o){return t=t||e,this.enabled?{operation:{name:r,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new a(n)}:null},e.spanToContextObject=function(t,r,i){var o=new n;return o.traceId=t.traceId,o.spanId=t.spanId,o.traceFlag=n.formatOpenTelemetryTraceFlags(t.traceFlags)||n.DEFAULT_TRACE_FLAG,o.parentId=r,e.generateContextObject(o.traceId,o.parentId,i,null,o)},e.runWithContext=function(t,r){var n;return e.enabled?e.session.bind(r,((n={})[e.CONTEXT_NAME]=t,n))():r()},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t,r){var n;return e.enabled?e.session.bind(t,r?((n={})[e.CONTEXT_NAME]=r,n):void 0):t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=an():this.cls=pn()),e.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0}},e.startOperation=function(r,s){var a=r&&r.traceContext||null,c=r&&r.traceId?r:null,u=r&&r.headers;if(c){var l=new n("00-"+c.traceId+"-"+c.spanId+"-01"),h=new i(c.traceState?c.traceState.serialize():null);return e.generateContextObject(c.traceId,"|"+c.traceId+"."+c.spanId+".","string"==typeof s?s:"",void 0,l,h)}if(a){l=new n(a.traceparent),h=new i(a.tracestate);var p="object"==typeof s?new o(s):null;return e.generateContextObject(l.traceId,l.parentId,"string"==typeof s?s:p.getOperationName({}),p&&p.getCorrelationContextHeader()||void 0,l,h)}return u?(l=new n(u.traceparent?u.traceparent.toString():null),h=new i(u.tracestate?u.tracestate.toString():null),p=new o(r),e.generateContextObject(l.traceId,l.parentId,p.getOperationName({}),p.getCorrelationContextHeader(),l,h)):(t.warn("startOperation was called with invalid arguments",arguments),null)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,r=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,n=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&r)&&n},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();e.CorrelationContextManager=s;var a=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var r=this.props[t];if(r.key===e)return r.value}},e.prototype.setProperty=function(r,n){if(e.bannedCharacters.test(r)||e.bannedCharacters.test(n))t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+r+" and value: "+n);else{for(var i=0;i<this.props.length;++i){var o=this.props[i];if(o.key===r)return void(o.value=n)}this.props.push({key:r,value:n})}},e.bannedCharacters=/[,=]/,e}()})),fn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Wr(),r=E(),n=[],i=function(e){var r=e.data.message;n.forEach((function(n){r instanceof Error?n.trackException({exception:r}):(r.lastIndexOf("\n")==r.length-1&&(r=r.substring(0,r.length-1)),n.trackTrace({message:r,severity:e.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("console",i),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("console",i)},e.dispose=function(){r.channel.unsubscribe("console",i),n=[]}})),vn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Wr(),r=E(),n=[],i={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},o=function(e){var t=e.data.result;n.forEach((function(r){var n=i[e.data.level];t instanceof Error?r.trackException({exception:t}):r.trackTrace({message:t,severity:n})}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("bunyan",o),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("bunyan",o)},e.dispose=function(){r.channel.unsubscribe("bunyan",o),n=[]}})),yn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Wr(),r=E(),n=[],i={syslog:function(e){var r={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return void 0===r[e]?t.SeverityLevel.Information:r[e]},npm:function(e){var r={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return void 0===r[e]?t.SeverityLevel.Information:r[e]},unknown:function(e){return t.SeverityLevel.Information}},o=function(e){var t=e.data.message;n.forEach((function(r){if(t instanceof Error)r.trackException({exception:t,properties:e.data.meta});else{var n=i[e.data.levelKind](e.data.level);r.trackTrace({message:t,severity:n,properties:e.data.meta})}}))};e.enable=function(e,t){e?(0===n.length&&r.channel.subscribe("winston",o),n.push(t)):0===(n=n.filter((function(e){return e!=t}))).length&&r.channel.unsubscribe("winston",o)},e.dispose=function(){r.channel.unsubscribe("winston",o),n=[]}})),mn=f(((e,t)=>{"use strict";var r=zt(),n=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(fn().enable(e&&t,this._client),vn().enable(e,this._client),yn().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();t.exports=n})),gn=f(((e,t)=>{"use strict";var r=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var r=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(r[0])>13||13===parseInt(r[0])&&parseInt(r[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var n=function(t,n,i){void 0===i&&(i=new Error(e._FALLBACK_ERROR_MESSAGE)),r._client.trackException({exception:i}),r._client.flush({isAppCrashing:!0}),t&&n&&1===process.listeners(n).length&&(console.error(i),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();t.exports=r})),bn=f((e=>{"use strict";var t,r,n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",(n=r=e.QuickPulseCounter||(e.QuickPulseCounter={})).COMMITTED_BYTES="\\Memory\\Committed Bytes",n.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",n.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",n.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",n.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",n.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",n.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",n.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",n.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec",function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(i=e.PerformanceCounter||(e.PerformanceCounter={})),function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"}(e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=((t={})[i.PROCESSOR_TIME]=r.PROCESSOR_TIME,t[i.REQUEST_RATE]=r.REQUEST_RATE,t[i.REQUEST_DURATION]=r.REQUEST_DURATION,t[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,t[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,t[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,t[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,t[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,t[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"})),_n=f(((e,t)=>{"use strict";var n=r(22037),i=bn(),o=function(){function e(t,r,n){void 0===r&&(r=6e4),void 0===n&&(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return e.prototype.enable=function(t,r){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=n.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalRequestExecutionTime+=n,!1===r&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalDependencyExecutionTime+=n,!1===r&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=n.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,r=0,o=0,s=0,a=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],h=(u.model,u.speed,u.times),p=l.times;t+=h.user-p.user||0,r+=h.sys-p.sys||0,o+=h.nice-p.nice||0,s+=h.idle-p.idle||0,a+=h.irq-p.irq||0}var d=void 0;if("function"==typeof process.cpuUsage){var f=process.cpuUsage(),v=process.hrtime(),y=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;void 0!==this._lastHrtime&&2===this._lastHrtime.length&&(d=100*y/((1e6*(v[0]-this._lastHrtime[0])+(v[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=f,this._lastHrtime=v}var m=t+r+o+s+a||1;this._client.trackMetric({name:i.PerformanceCounter.PROCESSOR_TIME,value:(m-s)/m*100}),this._client.trackMetric({name:i.PerformanceCounter.PROCESS_TIME,value:d||t/m*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=n.freemem(),t=process.memoryUsage().rss,r=n.totalmem()-e;this._client.trackMetric({name:i.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:i.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,o=r.totalFailedRequestCount-t.totalFailedRequestCount||0,s=r.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var u=n/a,l=o/a;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:i.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,o=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=r.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var u=n/a,l=o/a;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,o=r.time-t.time;if(o>0){var s=n/(o/1e3);this._client.trackMetric({name:i.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();t.exports=o})),En=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;e.AggregatedMetricCounter=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}})),Sn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}})),wn=f(((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},n=bn(),i=En(),o=Sn(),s=function(){function e(t,r){void 0===r&&(r=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=r}return e.prototype.enable=function(e,t){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return r.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,r){if(e.isEnabled()){var n,i=e._getAggregatedCounter(r,this._requestCountersCollection);if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}i.intervalExecutionTime+=n,i.totalCount++}},e.countDependency=function(t,r){if(e.isEnabled()){var n,i=e._getAggregatedCounter(r,this._dependencyCountersCollection);if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}i.intervalExecutionTime+=n,i.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var r=!1,n=0;n<t.length;n++){if(e===t[n].dimensions)return t[n];if(Object.keys(e).length===Object.keys(t[n].dimensions).length){for(var o in e)if(e[o]!=t[n].dimensions[o]){r=!0;break}if(!r)return t[n];r=!1}}var s=new i.AggregatedMetricCounter(e);return t.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var r=e._requestCountersCollection[t];r.time=+new Date;var i=r.totalCount-r.lastTotalCount||0,o=r.time-r.lastTime,s=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/i||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,o>0&&i>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:r.dimensions,value:s,count:i,aggregationInterval:o,metricType:n.MetricId.REQUESTS_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var r=e._dependencyCountersCollection[t];r.time=+new Date;var i=r.totalCount-r.lastTotalCount||0,o=r.time-r.lastTime,s=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/i||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,o>0&&i>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:r.dimensions,value:s,count:i,aggregationInterval:o,metricType:n.MetricId.DEPENDENCIES_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var r=e._exceptionCountersCollection[t],i=r.totalCount-r.lastTotalCount||0,o=r.time-r.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:r.dimensions,value:i,count:i,aggregationInterval:o,metricType:n.MetricId.EXCEPTIONS_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var r=e._traceCountersCollection[t],i=r.totalCount-r.lastTotalCount||0,o=r.time-r.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:r.dimensions,value:i,count:i,aggregationInterval:o,metricType:n.MetricId.TRACES_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var n in e.dimensions)t[o.PreaggregatedMetricPropertyNames[n]]=e.dimensions[n];t=r(r({},t),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var i={name:e.name,value:e.value,count:e.count,properties:t,kind:"Aggregation"};this._client.trackMetric(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();t.exports=s})),Tn=f(((e,t)=>{"use strict";var n=r(22037),i=r(57147),o=r(71017),s=Wr(),a=y(),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||o.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var r=JSON.parse(i.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[t]=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=n&&n.hostname(),this.tags[this.keys.deviceOSVersion]=n&&n.type()+" "+n.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=n&&n.arch(),this.tags["ai.device.osPlatform"]=n&&n.platform()},e.prototype._loadInternalContext=function(){var t=o.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(i.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();t.exports=c})),Pn=f(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=r(57310),s=Wr(),a=Yt(),c=Kt(),u=$r(),l=Xt(),h=function(e){function t(r,n){var i=e.call(this)||this;return n&&n.method&&r&&(i.method=n.method,i.url=t._getUrlFromRequestOptions(r,n),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var r=o.parse(this.url);r.search=void 0,r.hash=void 0;var n=this.method.toUpperCase()+" "+r.pathname,i=s.RemoteDependencyDataConstants.TYPE_HTTP,a=r.hostname;r.port&&(a+=":"+r.port),this.correlationId?(i=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(a+=" | "+this.correlationId)):i=s.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e&&e.time?c.time=e.time:this.startTime&&(c.time=new Date(this.startTime)),e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)if(0===e.indexOf("http://")||0===e.indexOf("https://"))e=o.parse(e);else{var r=o.parse(e);e="443"===r.host?o.parse("https://"+e):o.parse("http://"+e)}else{if(e&&"function"==typeof o.URL&&e instanceof o.URL)return o.format(e);var n=e;e={},n&&Object.keys(n).forEach((function(t){e[t]=n[t]}))}if(e.path){var i=o.parse(e.path);e.pathname=i.pathname,e.search=i.search}return e.host&&e.port&&!o.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(u);t.exports=h})),In=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var r=ye(),n=bn();function i(e){var r=t({},e);return Object.keys(n.SpanAttribute).forEach((function(e){delete r[e]})),r}e.spanToTelemetryContract=function(e){var o="|"+e.spanContext().traceId+"."+e.spanContext().spanId+".",s=Math.round(1e3*e._duration[0]+e._duration[1]/1e6),a=e.attributes["peer.address"]?e.attributes["peer.address"].toString():"",c=e.attributes.component?e.attributes.component.toString():"",u=c.toUpperCase()===n.DependencyTypeName.Http||!!e.attributes[n.SpanAttribute.HttpUrl],l=c.toLowerCase()===n.DependencyTypeName.Grpc;if(u){var h=e.attributes[n.SpanAttribute.HttpMethod]||"GET",p=new URL(e.attributes[n.SpanAttribute.HttpUrl].toString()),d=e.attributes[n.SpanAttribute.HttpHost]||p.host,f=e.attributes[n.SpanAttribute.HttpPort]||p.port||null,v=h+" "+(p.pathname||"/"),y=n.DependencyTypeName.Http,m=f?(d+":"+f).toString():d.toString(),g=p.toString(),b=e.attributes[n.SpanAttribute.HttpStatusCode]||e.status.code||0;return{id:o,name:v,dependencyTypeName:y,target:m,data:g,success:b<400,duration:s,url:g,resultCode:String(b),properties:i(e.attributes)}}if(l){h=e.attributes[n.SpanAttribute.GrpcMethod]||"rpc";var _=e.attributes[n.SpanAttribute.GrpcService],E=_?h+" "+_:e.name;return{id:o,duration:s,name:E,target:_.toString(),data:_.toString()||E,url:_.toString()||E,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(e.status.code||0),success:0===e.status.code,properties:i(e.attributes)}}var S=e.name,w=e.links&&e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return{id:o,duration:s,name:S,target:a,data:a||S,url:a||S,dependencyTypeName:e.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:c||e.name,resultCode:String(e.status.code||0),success:0===e.status.code,properties:t(t({},i(e.attributes)),{"_MS.links":w||void 0})}}})),On=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=ye(),r=E(),n=Qt(),i=In(),o=m(),s=[];e.subscriber=function(e){var r=e.data,a=i.spanToTelemetryContract(r),c=r.spanContext(),u=new n;u.traceId=c.traceId,u.spanId=c.spanId,u.traceFlag=n.formatOpenTelemetryTraceFlags(c.traceFlags),u.parentId=r.parentSpanId?"|"+c.traceId+"."+r.parentSpanId+".":null,o.AsyncScopeManager.with(r,(function(){s.forEach((function(e){r.kind===t.SpanKind.SERVER?e.trackRequest(a):(r.kind===t.SpanKind.CLIENT||r.kind===t.SpanKind.INTERNAL)&&e.trackDependency(a)}))}))},e.enable=function(t,n){t?(0===s.length&&r.channel.subscribe("azure-coretracing",e.subscriber),s.push(n)):0===(s=s.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("azure-coretracing",e.subscriber)}})),Cn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=E(),r=[];e.subscriber=function(e){"ismaster"!==e.data.event.commandName&&r.forEach((function(t){var r=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})}))},e.enable=function(n,i){n?(0===r.length&&t.channel.subscribe("mongodb",e.subscriber),r.push(i)):0===(r=r.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("mongodb",e.subscriber)}})),An=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=E(),r=[];e.subscriber=function(e){r.forEach((function(t){var r=e.data.query||{},n=r.sql||"Unknown query",i=!e.data.err,o=(r._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:n,name:n,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})}))},e.enable=function(n,i){n?(0===r.length&&t.channel.subscribe("mysql",e.subscriber),r.push(i)):0===(r=r.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("mysql",e.subscriber)}})),xn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=E(),r=[];e.subscriber=function(e){r.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})}))},e.enable=function(n,i){n?(0===r.length&&t.channel.subscribe("redis",e.subscriber),r.push(i)):0===(r=r.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("redis",e.subscriber)}})),Rn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=E(),r=[];e.subscriber=function(e){r.forEach((function(t){var r=e.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:n,name:n,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})}))},e.enable=function(n,i){n?(0===r.length&&t.channel.subscribe("postgres",e.subscriber),r.push(i)):0===(r=r.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("postgres",e.subscriber)}})),Nn=f(((e,t)=>{"use strict";var n=e&&e.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},i=r(13685),o=r(95687),s=y(),a=Yt(),c=Kt(),u=Pn(),l=dn(),h=Xt(),p=Qt(),d=zt(),f=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&(On().enable(!0,this._client),Cn().enable(e,this._client),An().enable(e,this._client),xn().enable(e,this._client),Rn().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=i.request,s=o.request,a=function(r,n){var i=!n[e.disableCollectionRequestOption]&&!r[e.alreadyAutoCollectedFlag];n.headers&&n.headers["user-agent"]&&-1!==n.headers["user-agent"].toString().indexOf("azsdk-js")&&(i=!1),r[e.alreadyAutoCollectedFlag]=!0,r&&n&&i&&(l.CorrelationContextManager.wrapEmitter(r),e.trackRequest(t._client,{options:n,request:r}))};i.request=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var s=r.call.apply(r,n([i,e],t));return a(s,e),s},o.request=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=s.call.apply(s,n([o,e],t));return a(i,e),i},i.get=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=(t=i.request).call.apply(t,n([i,e],r));return s.end(),s},o.get=function(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(t=o.request).call.apply(t,n([o,e],r));return s.end(),s}},e.trackRequest=function(t,r){if(r.options&&r.request&&t){var n,i,o=new u(r.options,r.request),d=l.CorrelationContextManager.getCurrentContext();if(d&&d.operation&&d.operation.traceparent&&p.isValidTraceId(d.operation.traceparent.traceId)?(d.operation.traceparent.updateSpanId(),n=d.operation.traceparent.getBackCompatRequestId()):h.w3cEnabled?(i=(v=new p).toString(),n=v.getBackCompatRequestId()):n=d&&d.operation&&d.operation.parentId+e.requestNumber+++".",a.canIncludeCorrelationHeader(t,o.getUrl())&&r.request.getHeader&&r.request.setHeader&&t.config&&t.config.correlationId){var f=r.request.getHeader(c.requestContextHeader);try{a.safeIncludeCorrelationHeader(t,r.request,f)}catch(e){s.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(d&&d.operation)try{if(r.request.setHeader(c.requestIdHeader,n),t.config.ignoreLegacyHeaders||(r.request.setHeader(c.parentIdHeader,d.operation.id),r.request.setHeader(c.rootIdHeader,n)),i||d.operation.traceparent)r.request.setHeader(c.traceparentHeader,i||d.operation.traceparent.toString());else if(h.w3cEnabled){var v=(new p).toString();r.request.setHeader(c.traceparentHeader,v)}if(d.operation.tracestate){var y=d.operation.tracestate.toString();y&&r.request.setHeader(c.traceStateHeader,y)}var m=d.customProperties.serializeToHeader();m&&r.request.setHeader(c.correlationContextHeader,m)}catch(e){s.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}r.request.on&&(r.request.on("response",(function(e){o.onResponse(e);var i=o.getDependencyTelemetry(r,n);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=r.options,i.contextObjects["http.ClientRequest"]=r.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)})),r.request.on("error",(function(e){o.onError(e);var i=o.getDependencyTelemetry(r,n);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=r.options,i.contextObjects["http.ClientRequest"]=r.request,i.contextObjects.Error=e,t.trackDependency(i)})),r.request.on("abort",(function(){o.onError(new Error);var e=o.getDependencyTelemetry(r,n);e.contextObjects=e.contextObjects||{},e.contextObjects["http.RequestOptions"]=r.options,e.contextObjects["http.ClientRequest"]=r.request,t.trackDependency(e)})))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=f})),kn=f(((e,t)=>{"use strict";var n=r(22037),i=bn(),o=Yt(),s=Tn(),a=Nn(),c=function(){function e(t){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e,t){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return r.trackHeartBeat(t,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var r=this,o=!1,a={},c=s.sdkVersion;a.sdk=c,a.osType=n.type(),process.env.WEBSITE_SITE_NAME?(a.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",a.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",a.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?a.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&&(void 0===this._isVM?(o=!0,this._getAzureComputeMetadata(e,(function(){r._isVM&&Object.keys(r._vmData).length>0&&(a.azInst_vmId=r._vmData.vmId||"",a.azInst_subscriptionId=r._vmData.subscriptionId||"",a.azInst_osType=r._vmData.osType||"",r._azInst_vmId=r._vmData.vmId||"",r._azInst_subscriptionId=r._vmData.subscriptionId||"",r._azInst_osType=r._vmData.osType||""),r._client.trackMetric({name:i.HeartBeatMetricName,value:0,properties:a}),t()}))):this._isVM&&(a.azInst_vmId=this._azInst_vmId,a.azInst_subscriptionId=this._azInst_subscriptionId,a.azInst_osType=this._azInst_osType)),o||(this._client.trackMetric({name:i.HeartBeatMetricName,value:0,properties:a}),t())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(e,t){var r,n=this,i=((r={method:"GET"})[a.disableCollectionRequestOption]=!0,r.headers={Metadata:"True"},r),s=o.makeRequest(e,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",i,(function(e){if(200===e.statusCode){n._isVM=!0;var r="";e.on("data",(function(e){r+=e})),e.on("end",(function(){n._vmData=n._isJSON(r)?JSON.parse(r):{},t()}))}else t()}));s&&(s.on("error",(function(e){e&&e.message&&e.message.indexOf("ENETUNREACH")>-1&&(n._isVM=!1),t()})),s.end())},e.prototype._isJSON=function(e){try{return JSON.parse(e)&&!!e}catch(e){return!1}},e}();t.exports=c})),Dn=f(((e,t)=>{"use strict";var n=r(13685),i=r(95687),o=y(),s=Yt(),a=Kt(),c=Hr(),u=dn(),l=_n(),h=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=function(r){if(r){if("function"!=typeof r)throw new Error("onRequest handler must be a function");return function(n,i){u.CorrelationContextManager.wrapEmitter(n),u.CorrelationContextManager.wrapEmitter(i);var o=n&&!n[e.alreadyAutoCollectedFlag];if(n&&o){var s=new c(n),a=t._generateCorrelationContext(s);u.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(n[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:n,response:i},s)),"function"==typeof r&&r(n,i)}))}else"function"==typeof r&&r(n,i)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,n){switch(e){case"request":case"checkContinue":return t(e,r(n));default:return t(e,n)}},e.on=e.addListener},s=n.createServer;n.createServer=function(e,t){if(t&&"function"==typeof t){var n=s(e,r(t));return o(n),n}return n=s(r(e)),o(n),n};var a=i.createServer;i.createServer=function(e,t){var n=a(e,r(t));return o(n),n}},e.trackRequestSync=function(t,r){if(r.request&&r.response&&t){e.addResponseCorrelationIdHeader(t,r.response);var n=u.CorrelationContextManager.getCurrentContext(),i=new c(r.request,n&&n.operation.parentId);n&&(n.operation.id=i.getOperationId(t.context.tags)||n.operation.id,n.operation.name=i.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=i.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,r,r.duration,r.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!t)},e.trackRequest=function(t,r,n){if(r.request&&r.response&&t){var i=u.CorrelationContextManager.getCurrentContext(),a=n||new c(r.request,i&&i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,r.response),i&&!n&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",(function(){e.endRequest(t,a,r,null,null)})),r.request.on&&r.request.on("error",(function(n){e.endRequest(t,a,r,null,n)})),r.request.on&&r.request.on("aborted",(function(){e.endRequest(t,a,r,null,"The request has been aborted and the network socket has closed.")}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var r=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,r)}},e.endRequest=function(e,t,r,n,i){i?t.onError(i,n):t.onResponse(r.response,n);var o=t.getRequestTelemetry(r);if(o.tagOverrides=t.getRequestTags(e.context.tags),r.tagOverrides)for(var s in r.tagOverrides)o.tagOverrides[s]=r.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=r.request,o.contextObjects["http.ServerResponse"]=r.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=h})),Mn=f(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=r(22037),o=Wr(),s=bn(),a=Yt(),c=y(),u=a.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,r,n){var o=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",s=n.tags&&n.keys&&n.keys.cloudRoleInstance&&n.tags[n.keys.cloudRoleInstance]||o,a=n.tags&&n.keys&&n.keys.cloudRole&&n.tags[n.keys.cloudRole]||null;return{Documents:t.length>0?t:null,InstrumentationKey:r.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:n.tags[n.keys.internalSdkVersion],StreamId:u,MachineName:o,Instance:s,RoleName:a}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.name;return n(n({},r),{Name:i})},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return n(n({},r),{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o="",s="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):i[0].stack&&i[0].stack.length>0&&(o=i[0].stack),s=i[0].message,a=i[0].typeName),n(n({},r),{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData;return n(n({},r),{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),i=t.data.baseData;return n(n({},r),{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:r.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var r,n;return t.data.baseType?(n=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:r,__type:n,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],r=e.data.baseData.measurements||{};for(var n in r)if(r.hasOwnProperty(n)){var i={key:n,value:r[n]};t.push(i)}var o=e.data.baseData.properties||{};for(var n in o)o.hasOwnProperty(n)&&(i={key:n,value:o[n]},t.push(i));return t},e.keys=new o.ContextTagKeys,e}();t.exports=l})),jn=f(((e,t)=>{"use strict";t.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),Ln=f(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=r(95687),s=Nn(),a=y(),c=jn(),u=Yt(),l="x-ms-qps-service-polling-interval-hint",h="x-ms-qps-service-endpoint-redirect",p=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t,r){var n=[{name:"x-ms-qps-stream-id",value:e.StreamId},{name:"x-ms-qps-machine-name",value:e.MachineName},{name:"x-ms-qps-role-name",value:e.RoleName},{name:"x-ms-qps-instance-name",value:e.Instance},{name:"x-ms-qps-invariant-version",value:e.InvariantVersion.toString()}];this._submitData(e,t,r,"ping",n)},e.prototype.post=function(e,t,r){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this._submitData([e],t,r,"post")];case 1:return n.sent(),[2]}}))}))},e.prototype._submitData=function(e,t,r,a,p){return n(this,void 0,void 0,(function(){var n,d,f,v,y,m=this;return i(this,(function(i){return n=JSON.stringify(e),(v={})[s.disableCollectionRequestOption]=!0,v.host=t&&t.length>0?t:this._config.quickPulseHost,v.method="POST",v.path="/QuickPulseService.svc/"+a+"?ikey="+this._config.instrumentationKey,v.headers=((y={Expect:"100-continue"})["x-ms-qps-transmission-time"]=c.getTransmissionTime(),y["Content-Type"]="application/json",y["Content-Length"]=Buffer.byteLength(n),y),d=v,p&&p.length>0&&p.forEach((function(e){return d.headers[e.name]=e.value})),this._config.httpsAgent?d.agent=this._config.httpsAgent:d.agent=u.tlsRestrictedAgent,(f=o.request(d,(function(e){if(200==e.statusCode){var t="true"===e.headers["x-ms-qps-subscribed"],n=e.headers[h]?e.headers[h].toString():null,i=e.headers[l]?parseInt(e.headers[l].toString()):null;m._consecutiveErrors=0,r(t,e,n,i)}else m._onError("StatusCode:"+e.statusCode+" StatusMessage:"+e.statusMessage),r()}))).on("error",(function(e){m._onError(e),r()})),f.write(n),f.end(),[2]}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(r="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",a.warn(e.TAG,r,t)):a.info(e.TAG,r,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();t.exports=p})),Fn=f(((e,t)=>{"use strict";var r=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=y(),o=Mn(),s=Ln(),a=bn(),c=Tn(),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,r=e.count||1,n=a.PerformanceToQuickPulseCounter[e.name];n&&(this._metrics[n]?(this._metrics[n].Value=(this._metrics[n].Value*this._metrics[n].Weight+t*r)/(this._metrics[n].Weight+r),this._metrics[n].Weight+=r):(this._metrics[n]=o.createQuickPulseMetric(e),this._metrics[n].Name=n,this._metrics[n].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return r(this,void 0,void 0,(function(){var t,r,i,s,a=this;return n(this,(function(n){switch(n.label){case 0:return t=Object.keys(this._metrics).map((function(e){return a._metrics[e]})),r=o.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(r)]:[3,2];case 1:return n.sent(),[3,3];case 2:this._ping(r),n.label=3;case 3:return i=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,s=this._isCollectingData?e.POST_INTERVAL:i,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,s=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(s=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),s),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,r,n){null!=e?(this._isCollectingData!==e&&(i.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,r&&r.length>0&&(this._redirectedHost=r,i.info("Redirecting endpoint to: ",r)),n&&n>0&&(this._pollingIntervalHint=n),t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();t.exports=u})),Vn=f(((e,t)=>{"use strict";var r=bn(),n=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR).reduce((function(t,r){var n=r.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===n.length){var i=n[0].toLowerCase(),o=n[1];t[i]=o}return t}),{});if(Object.keys(n).length>0){if(n.endpointsuffix){var i=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+i+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+i+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();t.exports=n})),Bn=f(((e,t)=>{"use strict";var n=Xt(),i=Vn(),o=(y(),bn()),s=r(57310),a=function(){function e(t){var r=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var n=process.env[e.ENV_connectionString],a=i.parse(t),c=i.parse(n),u=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||u||c.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return r.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){n.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=n.correlationIdPrefix,n.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e._validateInstrumentationKey=function(e){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();t.exports=a})),Un=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var n=Bn(),i=Tn(),o=y(),s=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,n,i){var s=this;if(void 0===n&&(n={}),void 0===i&&(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=r(32220);e._emitter=new a,e._metricsAvailable=!0,o.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle||(this._handle=setInterval((function(){return s._trackNativeMetrics()}),i),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var r=process.env[n.ENV_nativeMetricsDisableAll],i=process.env[n.ENV_nativeMetricsDisablers];if(r)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(","),s={};if(o.length>0)for(var a=0,c=o;a<c.length;a++)s[c[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:t(t({},e),s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var r=e._emitter.getGCData();for(var n in r){var o=r[n].metrics,s=n+" Garbage Collection Duration",a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:s,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var r=e._emitter.getLoopData().loopUsage;if(0!=r.count){var n=Math.sqrt(r.sumSquares/r.count-Math.pow(r.total/r.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:r.total,count:r.count,min:r.min,max:r.max,stdDev:n,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,r;if(!this._disabledMetrics.heap){var n=process.memoryUsage(),o=n.heapUsed,s=n.heapTotal,a=n.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,r)})}},e}();e.AutoCollectNativePerformance=s})),Wn=f(((e,t)=>{"use strict";var r=y(),n=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setUseDiskRetryCaching=function(e,t,r){this._sender.setDiskRetryMode(e,t,r)},e.prototype.send=function(e){var t=this;if(!this._isDisabled()){if(!e)return void r.warn("Cannot send null/undefined telemetry");if(this._buffer.push(e),this._buffer.length>=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(e,t){var r=this._buffer.length<1;r||(e?(this._sender.saveOnCrash(this._buffer),"function"==typeof t&&t("data saved on crash")):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&"function"==typeof t&&t("no data to send")},e}();t.exports=n})),$n=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0,e.azureRoleEnvironmentTelemetryProcessor=function(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),Hn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=Wr();function r(e){var t=2147483647,r=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)r=((r<<5)+r|0)+e.charCodeAt(n)|0;return(r=r<=-2147483648?t:Math.abs(r))/t*100}e.samplingTelemetryProcessor=function(e,n){var i=e.sampleRate;return!!(null==i||i>=100||e.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(e.data.baseType))||(n.correlationContext&&n.correlationContext.operation?r(n.correlationContext.operation.id)<i:100*Math.random()<i)},e.getSamplingHashCode=r})),Gn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=_n(),r=Wr();e.performanceMetricsTelemetryProcessor=function(e,n){switch(n&&n.addDocument(e),e.data.baseType){case r.TelemetryTypeString.Exception:t.countException();break;case r.TelemetryTypeString.Request:var i=e.data.baseData;t.countRequest(i.duration,i.success);break;case r.TelemetryTypeString.Dependency:var o=e.data.baseData;t.countDependency(o.duration,o.success)}return!0}})),qn=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var r=Wr(),n=wn(),i=Wr();e.preAggregatedMetricsTelemetryProcessor=function(e,o){if(n.isEnabled())switch(e.data.baseType){case i.TelemetryTypeString.Exception:var s=e.data.baseData;s.properties=t(t({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole]};n.countException(a);break;case i.TelemetryTypeString.Trace:var c=e.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var u={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[c.severity]};n.countTrace(u);break;case i.TelemetryTypeString.Request:var l=e.data.baseData;l.properties=t(t({},l.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var h={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],requestSuccess:l.success,requestResultCode:l.responseCode};n.countRequest(l.duration,h);break;case i.TelemetryTypeString.Dependency:var p=e.data.baseData;p.properties=t(t({},p.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var d={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],dependencySuccess:p.success,dependencyType:p.type,dependencyTarget:p.target,dependencyResultCode:p.resultCode};n.countDependency(p.duration,d)}return!0}})),zn=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=e&&e.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r($n(),e),r(Hn(),e),r(Gn(),e),r(qn(),e)})),Kn=f(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=r(57147),s=r(22037),a=r(71017),c=r(59796),u=r(32081),l=y(),h=Nn(),p=Yt(),d=function(){function e(t,r,n){if(this._redirectedHost=null,this._config=t,this._onSuccess=r,this._onError=n,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=a.join(s.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=o.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||l.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,r,n){var i=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof r&&r>=0&&(this._resendInterval=Math.floor(r)),"number"==typeof n&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){i._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(t,r){return n(this,void 0,void 0,(function(){var n,o,s,a,u=this;return i(this,(function(i){return t&&(n=this._redirectedHost||this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s="",t.forEach((function(e){var t=u._stringify(e);"string"==typeof t&&(s+=t+"\n")})),s.length>0&&(s=s.substring(0,s.length-1)),a=Buffer.from?Buffer.from(s):new Buffer(s),c.gzip(a,(function(i,s){var c=s;i?(l.warn(i),c=a,o.headers["Content-Length"]=a.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=s.length.toString()),l.info(e.TAG,o),o[h.disableCollectionRequestOption]=!0;var d=p.makeRequest(u._config,n,o,(function(n){n.setEncoding("utf-8");var i="";n.on("data",(function(e){i+=e})),n.on("end",(function(){if(u._numConsecutiveFailures=0,u._enableDiskRetryMode)if(200===n.statusCode)u._resendTimer||(u._resendTimer=setTimeout((function(){u._resendTimer=null,u._sendFirstFileOnDisk()}),u._resendInterval),u._resendTimer.unref());else if(u._isRetriable(n.statusCode))try{var o=JSON.parse(i),s=[];o.errors.forEach((function(e){u._isRetriable(e.statusCode)&&s.push(t[e.index])})),s.length>0&&u._storeToDisk(s)}catch(e){u._storeToDisk(t)}if(307===n.statusCode||308===n.statusCode)if(u._numConsecutiveRedirects++,u._numConsecutiveRedirects<10){var a=n.headers.location?n.headers.location.toString():null;a&&(u._redirectedHost=a,u.send(t,r))}else"function"==typeof r&&r("Error sending telemetry because of circular redirects.");else u._numConsecutiveRedirects=0,"function"==typeof r&&r(i),l.info(e.TAG,i),"function"==typeof u._onSuccess&&u._onSuccess(i)}))}));d.on("error",(function(n){if(u._numConsecutiveFailures++,!u._enableDiskRetryMode||u._numConsecutiveFailures>0&&u._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var i="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";u._enableDiskRetryMode&&(i="Ingestion endpoint could not be reached "+u._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(e.TAG,i,p.dumpObj(n))}else i="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",l.info(e.TAG,i,p.dumpObj(n));u._onErrorHelper(n),"function"==typeof r&&(n&&r(p.dumpObj(n)),r("Error sending telemetry")),u._enableDiskRetryMode&&u._storeToDisk(t)})),d.write(c),d.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(e))},e.prototype._isRetriable=function(e){return 206===e||408===e||429===e||439===e||500===e||503===e},e.prototype._runICACLS=function(t,r){var n=u.spawn(e.ICACLS_PATH,t,{windowsHide:!0});n.on("error",(function(e){return r(e)})),n.on("close",(function(e,t){return r(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!u.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var r=u.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(0!==r.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var r=u.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="";r.stdout.on("data",(function(e){return n+=e})),r.on("error",(function(e){return t(e,null)})),r.on("close",(function(r,i){return e.ACL_IDENTITY=n&&n.trim(),t(0===r?null:new Error("Getting ACL identity did not succeed (PS returned code "+r+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(u.spawnSync){var t=u.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,r){var n=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?r(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return e.ACLED_DIRECTORIES[t]=!1,r(i);n._runICACLS(n._getACLArguments(t,o),(function(n){return e.ACLED_DIRECTORIES[t]=!n,r(n)}))}))):r(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var r=this;o.lstat(e,(function(n,i){n&&"ENOENT"===n.code?o.mkdir(e,(function(n){n&&"EEXIST"!==n.code?t(n):r._applyACLRules(e,t)})):!n&&i.isDirectory()?r._applyACLRules(e,t):t(n||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){o.readdir(e,(function(r,n){if(r)return t(r,-1);var i=null,s=0,c=0;if(0!==n.length)for(var u=0;u<n.length;u++)o.stat(a.join(e,n[u]),(function(e,r){c++,e?i=e:r.isFile()&&(s+=r.size),c===n.length&&t(i,i?-1:s)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=o.readdirSync(e),r=0,n=0;n<t.length;n++)r+=o.statSync(a.join(e,t[n])).size;return r},e.prototype._storeToDisk=function(t){var r=this;l.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,(function(n){if(n)return l.warn(e.TAG,"Error while checking/creating directory: "+(n&&n.message)),void r._onErrorHelper(n);r._getShallowDirectorySize(r._tempDir,(function(n,i){if(n||i<0)return l.warn(e.TAG,"Error while checking directory size: "+(n&&n.message)),void r._onErrorHelper(n);if(i>r._maxBytesOnDisk)l.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+i);else{var s=(new Date).getTime()+".ai.json",c=a.join(r._tempDir,s);l.info(e.TAG,"saving data to disk at: "+c),o.writeFile(c,r._stringify(t),{mode:384},(function(e){return r._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){try{l.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),o.existsSync(this._tempDir)||o.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var r=this._getShallowDirectorySizeSync(this._tempDir);if(r>this._maxBytesOnDisk)return void l.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+r);var n=(new Date).getTime()+".ai.json",i=a.join(this._tempDir,n);l.info(e.TAG,"saving data before crash to disk at: "+i),o.writeFileSync(i,t,{mode:384})}catch(t){l.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var e=this;o.exists(this._tempDir,(function(t){t&&o.readdir(e._tempDir,(function(t,r){if(t)e._onErrorHelper(t);else if((r=r.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0){var n=r[0],i=a.join(e._tempDir,n);o.readFile(i,(function(t,r){t?e._onErrorHelper(t):o.unlink(i,(function(t){if(t)e._onErrorHelper(t);else try{var n=JSON.parse(r.toString());e.send(n)}catch(e){l.warn("Failed to read persisted file",e)}}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){l.warn("Failed to serialize payload",t,e)}},e.prototype._fileCleanupTask=function(){var t=this;o.exists(this._tempDir,(function(r){r&&o.readdir(t._tempDir,(function(r,n){r?t._onErrorHelper(r):(n=n.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0&&n.forEach((function(r){var n=new Date(parseInt(r.split(".ai.json")[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>n){var i=a.join(t._tempDir,r);o.unlink(i,(function(e){e&&t._onErrorHelper(e)}))}}))}))}))},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===s.type(),e}();t.exports=d})),Yn=f(((e,t)=>{"use strict";var r=Wr(),n=Yt(),i=dn(),o=function(){function e(){}return e.createEnvelope=function(t,i,o,s,a){var c=null;switch(i){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t);break;case r.TelemetryType.Availability:c=e.createAvailabilityData(t);break;case r.TelemetryType.PageView:c=e.createPageViewData(t)}if(o&&r.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in o)c.baseData.properties[u]||(c.baseData.properties[u]=o[u]);else c.baseData.properties=o;c.baseData.properties=n.validateStringMap(c.baseData.properties)}var l=a&&a.instrumentationKey||"",h=new r.Envelope;return h.data=c,h.iKey=l,h.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),h.tags=this.getTags(s,t.tagOverrides),h.time=(new Date).toISOString(),h.ver=1,h.sampleRate=a?a.samplingPercentage:100,i===r.TelemetryType.Metric&&(h.sampleRate=100),h},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=n.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=n.w3cTraceId();var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),i.baseData=t,i},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var i=e.exception.stack,o=new r.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(i),o.hasFullStack=n.isArray(o.parsedStack)&&o.parsedStack.length>0,t.exceptions.push(o);var s=new r.Data;return s.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=n.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=n.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),i.baseData=t,i},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),i.baseData=t,i},e.createAvailabilityData=function(e){var t=new r.AvailabilityData;e.id?t.id=e.id:t.id=n.w3cTraceId(),t.name=e.name,t.duration=n.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),i.baseData=t,i},e.createPageViewData=function(e){var t=new r.PageViewData;t.name=e.name,t.duration=n.msToTimeSpan(e.duration),t.url=e.url,t.measurements=e.measurements,t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),i.baseData=t,i},e.getTags=function(e,t){var r=i.CorrelationContextManager.getCurrentContext(),n={};if(e&&e.tags)for(var o in e.tags)n[o]=e.tags[o];if(t)for(var o in t)n[o]=t[o];return r&&(n[e.keys.operationId]=n[e.keys.operationId]||r.operation.id,n[e.keys.operationName]=n[e.keys.operationName]||r.operation.name,n[e.keys.operationParentId]=n[e.keys.operationParentId]||r.operation.parentId),n},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var r=e.split("\n");t=[];for(var n=0,i=0,o=0;o<=r.length;o++){var a=r[o];if(s.regex.test(a)){var c=new s(r[o],n++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var u=0,l=t.length-1,h=0,p=u,d=l;u<l;){if((h+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var f=d-p+1;t.splice(p,f);break}p=u,d=l,u++,l--}}return t},e}(),s=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=n.trim(t);var i=t.match(e.regex);i&&i.length>=5&&(this.method=n.trim(i[2])||this.method,this.fileName=n.trim(i[4])||"<no_filename>",this.line=parseInt(i[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();t.exports=o})),Xn=f(((e,t)=>{"use strict";var n=r(57310),i=Bn(),o=Tn(),s=Wr(),a=Wn(),c=zn(),u=dn(),l=Kn(),h=Yt(),p=y(),d=Yn(),f=function(){function e(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var t=new i(e);this.config=t,this.context=new o,this.commonProperties={};var r=new l(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,s.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!h.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=n.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var r=d.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(r.time=e.time.toISOString()),this._enableAzureProperties&&c.azureRoleEnvironmentTelemetryProcessor(r,this.context);var n=this.runTelemetryProcessors(r,e.contextObjects);n=n&&c.samplingTelemetryProcessor(r,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.preAggregatedMetricsTelemetryProcessor(r,this.context),n&&(c.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),this.channel.send(r))}else p.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var r=!0,n=this._telemetryProcessors.length;if(0===n)return r;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var i=0;i<n;++i)try{var o=this._telemetryProcessors[i];if(o&&!1===o.apply(null,[e,t])){r=!1;break}}catch(t){r=!0,p.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return r&&(e&&e.tags&&(e.tags=h.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=h.validateStringMap(e.data.baseData.properties))),r},e}();t.exports=f})),Qn=f(((e,t)=>{"use strict";var r,n=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=Xn(),o=Dn(),s=Nn(),a=y(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?o.trackRequestSync(this,e):a.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&a.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?o.trackRequest(this,e):a.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?s.trackRequest(this,e):a.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(i);t.exports=c})),Jn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Zn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t,r,n=dn(),i=mn(),o=gn(),s=_n(),a=wn(),c=kn(),u=Nn(),l=Dn(),h=Xt(),p=y(),d=Fn(),f=Un();e.TelemetryClient=Qn(),e.Contracts=Wr(),e.azureFunctionsTypes=Jn(),(r=t=e.DistributedTracingModes||(e.DistributedTracingModes={}))[r.AI=0]="AI",r[r.AI_AND_W3C=1]="AI_AND_W3C";var v,m,g,b,_,E,S,w,T,P,I,O=!0,C=!1,A=!0,x=!0,R=!0,N=!1,k=!0,D=!0,M=!0,j=!0,L=!1,F=!0,V=void 0,B=void 0,U=!1;function W(){return e.defaultClient?(U=!0,g.enable(O,C),b.enable(A),_.enable(x),E.enable(R),S.enable(N,e.defaultClient.config),w.enable(F,m),T.useAutoCorrelation(j,v),T.enable(k),P.enable(D),e.liveMetricsClient&&L&&e.liveMetricsClient.enable(L)):p.warn("Start cannot be called before setup"),$}e.setup=function(t){return e.defaultClient?p.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(t),g=new i(e.defaultClient),b=new o(e.defaultClient),_=new s(e.defaultClient),E=new a(e.defaultClient),S=new c(e.defaultClient),T=new l(e.defaultClient),P=new u(e.defaultClient),w||(w=new f.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(M,V,B),$},e.start=W,e.getCorrelationContext=function(){return j?n.CorrelationContextManager.getCurrentContext():null},e.startOperation=function(e,t){return n.CorrelationContextManager.startOperation(e,t)},e.wrapWithCorrelationContext=function(e,t){return n.CorrelationContextManager.wrapCallback(e,t)};var $=function(){function r(){}return r.setDistributedTracingMode=function(e){return h.w3cEnabled=e===t.AI_AND_W3C,r},r.setAutoCollectConsole=function(e,t){return void 0===t&&(t=!1),O=e,C=t,U&&g.enable(e,t),r},r.setAutoCollectExceptions=function(e){return A=e,U&&b.enable(e),r},r.setAutoCollectPerformance=function(e,t){void 0===t&&(t=!0),x=e;var n=f.AutoCollectNativePerformance.parseEnabled(t);return F=n.isEnabled,m=n.disabledMetrics,U&&(_.enable(e),w.enable(n.isEnabled,n.disabledMetrics)),r},r.setAutoCollectPreAggregatedMetrics=function(e){return R=e,U&&E.enable(e),r},r.setAutoCollectHeartbeat=function(t){return N=t,U&&S.enable(t,e.defaultClient.config),r},r.setAutoCollectRequests=function(e){return k=e,U&&T.enable(e),r},r.setAutoCollectDependencies=function(e){return D=e,U&&P.enable(e),r},r.setAutoDependencyCorrelation=function(e,t){return j=e,v=t,U&&T.useAutoCorrelation(e,t),r},r.setUseDiskRetryCaching=function(t,n,i){return M=t,V=n,B=i,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(t,n,i),r},r.setInternalLogging=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),p.enableDebug=e,p.disableWarnings=!t,r},r.setSendLiveMetrics=function(t){return void 0===t&&(t=!1),e.defaultClient?(!e.liveMetricsClient&&t?(e.liveMetricsClient=new d(e.defaultClient.config,null),I=new s(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(I),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(t),L=t,r):(p.warn("Live metrics client cannot be setup without the default client"),r)},r.start=W,r}();e.Configuration=$,e.dispose=function(){h.w3cEnabled=!0,e.defaultClient=null,U=!1,g&&g.dispose(),b&&b.dispose(),_&&_.dispose(),E&&E.dispose(),S&&S.dispose(),w&&w.dispose(),T&&T.dispose(),P&&P.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),L=!1,e.liveMetricsClient=void 0)}}));((e,t)=>{for(var r in d(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>ci});var ei,ti,ri=v(r(22037)),ni=v(r(66828)),ii=v(r(66828)),oi=v(r(66828));function si(){return void 0!==oi.env.isTelemetryEnabled?oi.env.isTelemetryEnabled?ei.ON:ei.OFF:oi.workspace.getConfiguration("telemetry").get("enableTelemetry")?ei.ON:ei.OFF}(ti=ei||(ei={})).ON="on",ti.OFF="off";var ai=async e=>{let t;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let r=await Promise.resolve().then((()=>v(Zn())));r.defaultClient?(t=new r.TelemetryClient(e),t.channel.setUseDiskRetryCaching(!0)):(r.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),t=r.defaultClient),ni&&ni.env&&(t.context.tags[t.context.keys.userId]=ni.env.machineId,t.context.tags[t.context.keys.sessionId]=ni.env.sessionId,t.context.tags[t.context.keys.cloudRole]=ni.env.appName,t.context.tags[t.context.keys.cloudRoleInstance]=ni.env.appName),e&&0===e.indexOf("AIF-")&&(t.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1")}catch(e){return Promise.reject(e)}return{logEvent:(e,r)=>{null==t||t.trackEvent({name:e,properties:null==r?void 0:r.properties,measurements:null==r?void 0:r.measurements})},logException:(e,r)=>{null==t||t.trackException({exception:e,properties:null==r?void 0:r.properties,measurements:null==r?void 0:r.measurements})},flush:async()=>{null==t||t.flush()}}},ci=class extends class{constructor(e,t,r,n,i){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=r,this.osShim=n,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),void 0!==ii.env.onDidChangeTelemetryEnabled?(this.disposables.push(ii.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(ii.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(ii.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=si();this.userOptIn=e===ei.ON,this.errorOptIn=e===ei.ON,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((r=>{0===e.indexOf(`${r}+`)&&(t=r)})),t}get extension(){return void 0===this._extension&&(this._extension=ii.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let r={};for(let n in e)r[n]=t(n,e[n]);return r}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&"other"===this.cleanRemoteName(ii.env.remoteName)&&(void 0===this.extension||this.extension.extensionKind===ii.ExtensionKind.Workspace||ii.env.uiKind===ii.UIKind.Web))}getCommonProperties(){let e=Object.create(null);if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,ii&&ii.env){switch(e["common.vscodemachineid"]=ii.env.machineId,e["common.vscodesessionid"]=ii.env.sessionId,e["common.vscodeversion"]=ii.version,e["common.isnewappinstall"]=ii.env.isNewAppInstall?ii.env.isNewAppInstall.toString():"false",e["common.product"]=ii.env.appHost,ii.env.uiKind){case ii.UIKind.Web:e["common.uikind"]="web";break;case ii.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(ii.env.remoteName)}return e}anonymizeFilePaths(e,t){let r;if(null==e)return"";let n=[];""!==ii.env.appRoot&&n.push(new RegExp(ii.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let t=[];for(let i of n)for(;(r=i.exec(e))&&r;)t.push([r.index,i.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(i="";(r=s.exec(e))&&r;)r[0]&&!o.test(r[0])&&t.every((([e,t])=>r.index<e||r.index>=t))&&(i+=e.substring(a,r.index)+"<REDACTED: user-file-path>",a=s.lastIndex);a<e.length&&(i+=e.substr(a))}for(let e of n)i=i.replace(e,"");return i}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t=Object.create(null);for(let r of Object.keys(e)){let n=e[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/;/(key|token|sig|signature|password|passwd|pwd)[="':\s]/.test(n.toLowerCase())?t[r]="<REDACTED: secret>":i.test(n)?t[r]="<REDACTED: email>":t[r]=n}return t}sendTelemetryEvent(e,t,r){if(this.userOptIn&&""!==e){t=p(p({},t),this.getCommonProperties());let n=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}sendRawTelemetryEvent(e,t,r){this.userOptIn&&""!==e&&(t=p(p({},t),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:t,measurements:r}))}sendTelemetryErrorEvent(e,t,r,n){if(this.errorOptIn&&""!==e){t=p(p({},t),this.getCommonProperties());let i=this.cloneAndChange(t,((e,t)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(t,this.firstParty):void 0===n||-1!==n.indexOf(e)?"REDACTED":this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:r})}}sendTelemetryException(e,t,r){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&e){t=p(p({},t),this.getCommonProperties());let n=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),this.telemetryAppender.logException(e,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}}{constructor(e,t,r,n){let i=new class{constructor(e,t){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e,si()!==ei.OFF&&this.instantiateAppender()}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):!this._isInstantiated&&si()===ei.ON&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):!this._isInstantiated&&si()!==ei.OFF&&this._exceptionQueue.push({exception:e,data:t})}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._isInstantiated=!0,this._flushQueues()})).catch((e=>{console.error(e)}))}}(r,ai);r&&0===r.indexOf("AIF-")&&(n=!0),super(e,t,i,{release:ri.release(),platform:ri.platform(),architecture:ri.arch()},n)}}},73255:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=73255,e.exports=t},9118:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=9118,e.exports=t},1283:(e,t,r)=>{var n=r(73837),i=r(71017),o=r(32081).spawn,s="HKLM",a="HKCU",c="HKCR",u="HKCC",l=[s,a,c,"HKU",u],h="REG_SZ",p="REG_MULTI_SZ",d="REG_EXPAND_SZ",f="REG_DWORD",v="REG_QWORD",y="REG_BINARY",m="REG_NONE",g=[h,p,d,f,v,y,m],b=/(\\[a-zA-Z0-9_\s]+)*/,_=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,E=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function S(e,t){if(!(this instanceof S))return new S(e,t);Error.captureStackTrace(this,S),this.__defineGetter__("name",(function(){return S.name})),this.__defineGetter__("message",(function(){return e})),this.__defineGetter__("code",(function(){return t}))}function w(e){var t={stdout:"",stderr:""};return e.stdout.on("data",(function(e){t.stdout+=e.toString()})),e.stderr.on("data",(function(e){t.stderr+=e.toString()})),t}function T(e,t,r){var i=r.stdout.trim(),o=r.stderr.trim();return new S(n.format("%s command exited with code %d:\n%s\n%s",e,t,i,o),t)}function P(e,t){t&&e.push("/reg:"+function(e){if("x64"==e)return"64";if("x86"==e)return"32";throw new Error("illegal architecture: "+e+" (use x86 or x64)")}(t))}function I(){return"win32"===process.platform?i.join(process.env.windir,"system32","reg.exe"):"REG"}function O(e,t,r,n,i,o,s){if(!(this instanceof O))return new O(e,t,r,n,i,o,s);var a=e,c=t,u=r,l=n,h=i,p=o,d=s;this.__defineGetter__("host",(function(){return a})),this.__defineGetter__("hive",(function(){return c})),this.__defineGetter__("key",(function(){return u})),this.__defineGetter__("name",(function(){return l})),this.__defineGetter__("type",(function(){return h})),this.__defineGetter__("value",(function(){return p})),this.__defineGetter__("arch",(function(){return d}))}function C(e){if(!(this instanceof C))return new C(e);var t=e||{},r=""+(t.host||""),n=""+(t.hive||s),i=""+(t.key||""),o=t.arch||null;if(this.__defineGetter__("host",(function(){return r})),this.__defineGetter__("hive",(function(){return n})),this.__defineGetter__("key",(function(){return i})),this.__defineGetter__("path",(function(){return(0==r.length?"":"\\\\"+r+"\\")+n+i})),this.__defineGetter__("arch",(function(){return o})),this.__defineGetter__("parent",(function(){var e=i.lastIndexOf("\\");return new C({host:this.host,hive:this.hive,key:-1==e?"":i.substring(0,e),arch:this.arch})})),-1==l.indexOf(n))throw new Error("illegal hive specified.");if(!b.test(i))throw new Error("illegal key specified.");if(o&&"x64"!=o&&"x86"!=o)throw new Error("illegal architecture specified (use x86 or x64)")}n.inherits(S,Error),n.inherits(O,Object),C.HKLM=s,C.HKCU=a,C.HKCR=c,C.HKU="HKU",C.HKCC=u,C.HIVES=l,C.REG_SZ=h,C.REG_MULTI_SZ=p,C.REG_EXPAND_SZ=d,C.REG_DWORD=f,C.REG_QWORD=v,C.REG_BINARY=y,C.REG_NONE=m,C.REG_TYPES=g,C.DEFAULT_VALUE="",C.prototype.values=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];P(t,this.arch);var r=o(I(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),n="",i=this,s=null,a=w(r);return r.on("close",(function(t){if(!s)if(0!==t)e(T("QUERY",t,a),null);else{for(var r=[],o=[],c=n.split("\n"),u=0,l=0,h=c.length;l<h;l++){var p=c[l].trim();p.length>0&&(0!=u&&r.push(p),++u)}for(l=0,h=r.length;l<h;l++){var d,f,v,y=E.exec(r[l]);y&&(d=y[1].trim(),f=y[2].trim(),v=y[3],o.push(new O(i.host,i.hive,i.key,d,f,v,i.arch)))}e(null,o)}})),r.stdout.on("data",(function(e){n+=e.toString()})),r.on("error",(function(t){s=t,e(t)})),this},C.prototype.keys=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];P(t,this.arch);var r=o(I(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),n="",i=this,s=null,a=w(r);return r.on("close",(function(t){s||0!==t&&e(T("QUERY",t,a),null)})),r.stdout.on("data",(function(e){n+=e.toString()})),r.stdout.on("end",(function(){for(var t=[],r=[],o=n.split("\n"),s=0,a=o.length;s<a;s++){var c=o[s].trim();c.length>0&&t.push(c)}for(s=0,a=t.length;s<a;s++){var u,l=_.exec(t[s]);l&&(l[1],(u=l[2])&&u!==i.key&&r.push(new C({host:i.host,hive:i.hive,key:u,arch:i.arch})))}e(null,r)})),r.on("error",(function(t){s=t,e(t)})),this},C.prototype.get=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var r=["QUERY",this.path];""==e?r.push("/ve"):r=r.concat(["/v",e]),P(r,this.arch);var n=o(I(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",s=this,a=null,c=w(n);return n.on("close",(function(e){if(!a)if(0!==e)t(T("QUERY",e,c),null);else{for(var r=[],n=null,o=i.split("\n"),u=0,l=0,h=o.length;l<h;l++){var p=o[l].trim();p.length>0&&(0!=u&&r.push(p),++u)}var d,f,v,y=r[r.length-1]||"",m=E.exec(y);m&&(d=m[1].trim(),f=m[2].trim(),v=m[3],n=new O(s.host,s.hive,s.key,d,f,v,s.arch)),t(null,n)}})),n.stdout.on("data",(function(e){i+=e.toString()})),n.on("error",(function(e){a=e,t(e)})),this},C.prototype.set=function(e,t,r,n){if("function"!=typeof n)throw new TypeError("must specify a callback");if(-1==g.indexOf(t))throw Error("illegal type specified.");var i=["ADD",this.path];""==e?i.push("/ve"):i=i.concat(["/v",e]),P(i=i.concat(["/t",t,"/d",r,"/f"]),this.arch);var s=o(I(),i,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),a=null,c=w(s);return s.on("close",(function(e){a||n(0!==e?T("ADD",e,c):null)})),s.stdout.on("data",(function(e){})),s.on("error",(function(e){a=e,n(e)})),this},C.prototype.remove=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var r=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"];P(r,this.arch);var n=o(I(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=w(n);return n.on("close",(function(e){i||(0!==e?t(T("DELETE",e,s),null):t(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(e){i=e,t(e)})),this},C.prototype.clear=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f","/va"];P(t,this.arch);var r=o(I(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),n=null,i=w(r);return r.on("close",(function(t){n||(0!==t?e(T("DELETE",t,i),null):e(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(t){n=t,e(t)})),this},C.prototype.erase=C.prototype.clear,C.prototype.destroy=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f"];P(t,this.arch);var r=o(I(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),n=null,i=w(r);return r.on("close",(function(t){n||(0!==t?e(T("DELETE",t,i),null):e(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(t){n=t,e(t)})),this},C.prototype.create=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["ADD",this.path,"/f"];P(t,this.arch);var r=o(I(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),n=null,i=w(r);return r.on("close",(function(t){n||(0!==t?e(T("ADD",t,i),null):e(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(t){n=t,e(t)})),this},C.prototype.keyExists=function(e){return this.values((function(t,r){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)})),this},C.prototype.valueExists=function(e,t){return this.get(e,(function(e,r){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)})),this},e.exports=C},52479:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var s=[];for(n=0;o&&n<t;n++)s.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),n=0;n<r.length;n++)o=i(this,o,r[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(49602)(n)}catch(e){}},65176:e=>{"use strict";e.exports=require("./node_modules/diff-match-patch")},48663:e=>{"use strict";e.exports=require("./node_modules/request")},95095:e=>{"use strict";e.exports=require("./node_modules/request-progress")},75913:e=>{"use strict";e.exports=require("./node_modules/source-map-support")},65425:e=>{"use strict";e.exports=require("./node_modules/sudo-prompt")},32220:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},66828:e=>{"use strict";e.exports=require("vscode")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},96206:e=>{"use strict";e.exports=require("console")},22057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},63480:e=>{"use strict";e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},13336:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},77348:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},74284:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},31532:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},36258:e=>{"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},44346:e=>{"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},27014:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"python-environment-manager","displayName":"Python Environment Manager","description":"View and manage Python environments & packages.","version":"1.0.4","capabilities":{"untrustedWorkspaces":{"supported":false,"description":"Management of Python environments in untrusted workspaces is not supported."},"virtualWorkspaces":{"supported":false,"description":"Management of Python environments is not supported on the web."}},"publisher":"donjayamanne","author":{"name":"Don Jayamanne"},"license":"MIT","homepage":"https://github.com/DonJayamanne/vscode-python-manager","repository":{"type":"git","url":"https://github.com/DonJayamanne/vscode-python-manager"},"bugs":{"url":"https://github.com/DonJayamanne/vscode-python-manager/issues"},"qna":"https://github.com/DonJayamanne/vscode-python-manager/issues","icon":"icon.png","galleryBanner":{"color":"#1e415e","theme":"dark"},"engines":{"vscode":"^1.65.0"},"keywords":["python","conda","venv","pipenv","pyenv","packages"],"categories":["Programming Languages","Machine Learning","Other","Data Science"],"activationEvents":["onView:pythonEnvironments"],"main":"./out/client/extension","contributes":{"commands":[{"command":"python.envManager.clearPersistentStorage","title":"Python: Clear Environment Manager cache","enablement":"false"},{"command":"python.envManager.create","title":"Create Environment","icon":"$(add)"},{"command":"python.envManager.delete","title":"Delete Environment","icon":"$(trash)"},{"command":"python.envManager.viewPackages","title":"View Packages","icon":"$(package)"},{"command":"python.envManager.openInTerminal","title":"Open in Terminal","icon":"$(terminal)"},{"command":"python.envManager.refresh","title":"Refresh Environments","icon":"$(refresh)"},{"command":"python.envManager.setAsActiveInterpreter","title":"Set as active workspace interpreter","icon":"$(thumbsup)"},{"command":"python.envManager.installPython","title":"Download and setup Python","icon":"$(cloud-download)"}],"menus":{"view/title":[{"command":"python.envManager.refresh","when":"view == pythonEnvironments","group":"navigation"},{"command":"python.envManager.installPython","when":"view == pythonEnvironments && python.envManager.pythonIsNotInstalled","group":"navigation"}],"view/item/context":[{"command":"python.envManager.create","when":"view == pythonEnvironments && viewItem =~ /^envType:canCreate:/","group":"inline"},{"command":"python.envManager.delete","when":"view == pythonEnvironments && viewItem =~ /^env:canBeDeleted:/","group":"inline@2"},{"command":"python.envManager.openInTerminal","when":"view == pythonEnvironments && viewItem =~ /^env:/","group":"inline@2"},{"command":"python.envManager.setAsActiveInterpreter","when":"view == pythonEnvironments && viewItem =~ /^env:/","group":"inline@3"}]},"viewsWelcome":[],"viewsContainers":{"activitybar":[{"id":"package-explorer","title":"Python","icon":"resources/logo.svg"}]},"views":{"package-explorer":[{"id":"pythonEnvironments","name":"Environments","icon":"resources/logo.svg","contextualTitle":"Environment Manager"}]}},"scripts":{"package":"gulp clean && gulp prePublishBundle && vsce package -o python-env-manager.vsix","prePublish":"gulp clean && gulp prePublishNonBundle","compile":"tsc -watch -p ./","compiled":"deemon npm run compile","kill-compiled":"deemon --kill npm run compile","checkDependencies":"gulp checkDependencies","test":"node ./out/test/standardTest.js && node ./out/test/multiRootTest.js","test:unittests":"mocha --config ./build/.mocha.unittests.json","test:unittests:cover":"nyc --no-clean --nycrc-path ./build/.nycrc mocha --config ./build/.mocha.unittests.json","test:functional":"mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:perf":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.perf.json","test:functional:memleak":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:cover":"nyc --no-clean --nycrc-path ./build/.nycrc mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:cover:report":"nyc --nycrc-path ./build/.nycrc  report --reporter=text --reporter=html --reporter=text-summary --reporter=cobertura","testDebugger":"node ./out/test/testBootstrap.js ./out/test/debuggerTest.js","testDebugger:cover":"nyc --no-clean --use-spawn-wrap --nycrc-path ./build/.nycrc --require source-map-support/register node ./out/test/debuggerTest.js","testSingleWorkspace":"node ./out/test/testBootstrap.js ./out/test/standardTest.js","testSingleWorkspace:cover":"nyc --no-clean --use-spawn-wrap --nycrc-path ./build/.nycrc --require source-map-support/register node ./out/test/standardTest.js","preTestJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js","testJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js && cross-env CODE_TESTS_WORKSPACE=src/test VSC_PYTHON_CI_TEST_GREP=\'Language Server:\' node ./out/test/testBootstrap.js ./out/test/standardTest.js && node ./out/test/languageServers/jedi/lspTeardown.js","testMultiWorkspace":"node ./out/test/testBootstrap.js ./out/test/multiRootTest.js","testPerformance":"node ./out/test/testBootstrap.js ./out/test/performanceTest.js","testSmoke":"cross-env INSTALL_JUPYTER_EXTENSION=true \\"node ./out/test/smokeTest.js\\"","testInsiders":"cross-env VSC_PYTHON_CI_TEST_VSC_CHANNEL=insiders INSTALL_PYLANCE_EXTENSION=true TEST_FILES_SUFFIX=insiders.test CODE_TESTS_WORKSPACE=src/testMultiRootWkspc/smokeTests \\"node ./out/test/standardTest.js\\"","lint-staged":"node gulpfile.js","lint":"eslint --ext .ts,.js src build","lint-fix":"eslint --fix --ext .ts,.js src build gulpfile.js","format-check":"prettier --check \'src/**/*.ts\' \'build/**/*.js\' \'.github/**/*.yml\' gulpfile.js","format-fix":"prettier --write \'src/**/*.ts\' \'build/**/*.js\' \'.github/**/*.yml\' gulpfile.js","clean":"gulp clean","addExtensionPackDependencies":"gulp addExtensionPackDependencies","updateBuildNumber":"gulp updateBuildNumber","verifyBundle":"gulp verifyBundle","webpack":"webpack"},"dependencies":{"@vscode/codicons":"0.0.26","arch":"^2.1.0","diff-match-patch":"^1.0.0","fs-extra":"^10.0.1","glob":"^7.2.0","hash.js":"^1.1.7","iconv-lite":"^0.6.3","inversify":"^5.0.4","is-wsl":"^2.2.0","jsonc-parser":"^2.0.3","lodash":"^4.17.21","md5":"^2.2.1","minimatch":"^5.0.1","named-js-regexp":"^1.3.3","node-stream-zip":"^1.6.0","reflect-metadata":"^0.1.12","request":"^2.88.2","request-progress":"^3.0.0","rxjs":"^6.5.4","rxjs-compat":"^6.5.4","semver":"^5.5.0","sudo-prompt":"^8.2.0","tar":"^6.1.11","tmp":"^0.0.33","uint64be":"^3.0.0","unbzip2-stream":"^1.4.3","unicode":"^14.0.0","untildify":"^4.0.0","vscode-extension-telemetry":"0.4.5","vscode-jsonrpc":"8.0.0-next.7","winreg":"^1.2.4","xml2js":"^0.4.19"},"devDependencies":{"@istanbuljs/nyc-config-typescript":"^1.0.2","@types/chai":"^4.1.2","@types/chai-arrays":"^2.0.0","@types/chai-as-promised":"^7.1.0","@types/diff-match-patch":"^1.0.32","@types/download":"^8.0.1","@types/fs-extra":"^9.0.13","@types/glob":"^7.2.0","@types/lodash":"^4.14.104","@types/md5":"^2.1.32","@types/mocha":"^9.1.0","@types/nock":"^10.0.3","@types/node":"^14.18.0","@types/request":"^2.48.8","@types/semver":"^5.5.0","@types/shortid":"^0.0.29","@types/sinon":"^10.0.11","@types/tar":"^6.1.1","@types/tmp":"0.0.33","@types/unbzip2-stream":"^1.4.0","@types/untildify":"^3.0.0","@types/uuid":"^8.3.4","@types/vscode":"~1.65.0","@types/winreg":"^1.2.30","@types/xml2js":"^0.4.2","@typescript-eslint/eslint-plugin":"^3.7.0","@typescript-eslint/parser":"^3.7.0","@vscode/test-electron":"^2.1.3","chai":"^4.1.2","chai-arrays":"^2.0.0","chai-as-promised":"^7.1.1","copy-webpack-plugin":"^9.1.0","cross-spawn":"^6.0.5","deemon":"^1.6.0","del":"^6.0.0","download":"^8.0.0","es5-ext":"^0.10.53","eslint":"^7.2.0","eslint-config-airbnb":"^18.2.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.22.0","eslint-plugin-jsx-a11y":"^6.3.1","eslint-plugin-react":"^7.20.3","eslint-plugin-react-hooks":"^4.0.0","expose-loader":"^3.1.0","flat":"^5.0.2","get-port":"^5.1.1","gulp":"^4.0.0","gulp-typescript":"^5.0.0","mocha":"^9.2.2","mocha-junit-reporter":"^2.0.2","mocha-multi-reporters":"^1.1.7","nock":"^10.0.6","node-has-native-dependencies":"^1.0.2","node-loader":"^1.0.2","nyc":"^15.0.0","prettier":"^2.0.2","rewiremock":"^3.13.0","rimraf":"^3.0.2","shortid":"^2.2.8","sinon":"^13.0.1","source-map-support":"^0.5.12","ts-loader":"^9.2.8","ts-mockito":"^2.5.0","ts-node":"^10.7.0","tsconfig-paths-webpack-plugin":"^3.2.0","typemoq":"^2.1.0","typescript":"4.5.5","uuid":"^8.3.2","vsce":"^2.6.6","vscode-debugadapter-testsupport":"^1.27.0","vscode-telemetry-extractor":"^1.9.5","webpack":"^5.70.0","webpack-bundle-analyzer":"^4.5.0","webpack-cli":"^4.9.2","webpack-fix-default-import-plugin":"^1.0.3","webpack-merge":"^5.8.0","webpack-node-externals":"^3.0.0","webpack-require-from":"^1.8.6","yargs":"^15.3.1"},"__metadata":{"id":"f1f59ae4-9318-4f3c-a9b5-81b2eaa5f8a5","publisherDisplayName":"Microsoft","publisherId":"998b010b-e2af-44a5-a6cd-0b5fd3b9b6f8"}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0,void 0===Reflect.metadata&&r(28660),(0,r(69284).initialize)(r(66828));const t={},i=new(r(70057).StopWatch),o=r(19735),s=[];(0,o.initializeFileLogging)(s);const a=r(66828),c=r(17585),u=r(61684),l=r(59314),h=r(67098),p=r(20910),d=r(63912),f=r(13825),v=r(58479),y=r(18639);let m;t.codeLoadingTime=i.elapsedTime,e.activate=async function(e){let r,n;try{[r,n]=await async function(e,t,r){e.subscriptions.push(...s);const n=(0,l.createDeferred)();(function(e){const t={location:a.ProgressLocation.Window,title:h.Common.loadingExtension()};a.window.withProgress(t,(()=>e))})(n.promise),r.startActivateTime=t.elapsedTime;const i=(0,d.initializeGlobals)(e);m=i.legacyIOC.serviceContainer,(0,d.initializeStandard)(i);const u=await(0,d.initializeComponents)(i),f=(await(0,p.activateComponents)(i,u)).map((e=>e.fullyReady)),g=(async()=>{await Promise.all(f)})();return r.totalActivateTime=t.elapsedTime-r.startActivateTime,n.resolve(),setTimeout((async()=>{var e;if(m){const t=m.get(c.IWorkspaceService);if(t.isTrusted){const r=m.get(y.IInterpreterService),n=null!==(e=t.workspaceFolders)&&void 0!==e?e:[];await r.refresh(n.length>0?n[0].uri:void 0).catch((e=>(0,o.traceError)("Python Extension: interpreterManager.refresh",e)))}}(0,v.runAfterActivation)()})),[g,i.legacyIOC.serviceContainer]}(e,i,t)}catch(e){throw await async function(e,t){(function(e){try{let e=a.window;m&&(e=m.get(c.IApplicationShell)),e.showErrorMessage("Extension activation failed, run the 'Developer: Toggle Developer Tools' command for more information.").ignoreErrors()}catch(e){(0,o.traceError)("Failed to Notify User",e)}})(),(0,o.traceError)("extension activation failed",e),await(0,f.sendErrorTelemetry)(e,t,m)}(e,t),e}(0,f.sendStartupTelemetry)(r,t,i,n).ignoreErrors()},e.deactivate=function(){if(m){const e=m.get(u.IAsyncDisposableRegistry),t=m.get(u.IDisposableRegistry);return Promise.all(t.map((e=>e.dispose()))).then((()=>{if(e)return e.dispose()}))}return Promise.resolve()}})(),module.exports=n})();
//# sourceMappingURL=extension.js.map